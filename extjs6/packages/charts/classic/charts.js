(function(a){var b=b||{};b.scope={};b.ASSUME_ES5=!1;b.ASSUME_NO_NATIVE_MAP=!1;b.ASSUME_NO_NATIVE_SET=!1;b.defineProperty=b.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(c,d,b){b=b;if(c==Array.prototype||c==Object.prototype){return}c[d]=b.value};b.getGlobal=function(b){return typeof window!='undefined'&&window===b?b:typeof global!='undefined'&&global!=null?global:b};b.global=b.getGlobal(this);b.polyfill=function(k,h,l,m){if(!h){return}var c=b.global;var d=k.split('.');for(var g=0;g<d.length-1;g++){var f=d[g];if(!(f in c)){c[f]={}}c=c[f]}var i=d[d.length-1];var j=c[i];var e=h(j);if(e==j||e==null){return}b.defineProperty(c,i,{configurable:!0,writable:!0,value:e})};b.polyfill('Array.prototype.copyWithin',function(b){if(b){return b}var c=function(e,d,c){var f=this.length;e=Number(e);d=Number(d);c=Number(c!=null?c:f);if(e<d){c=Math.min(c,f);while(d<c){if(d in this){this[e++]=this[d++]}else {delete this[e++];d++}}}else {c=Math.min(c,f+d-e);e+=c-d;while(c>d){if(--c in this){this[--e]=this[c]}else {delete this[e]}}}return this};return c},'es6','es3');b.SYMBOL_PREFIX='jscomp_symbol_';b.initSymbol=function(){b.initSymbol=function(){};if(!b.global['Symbol']){b.global['Symbol']=b.Symbol}};b.Symbol=function(){var c=0;function Symbol(d){return b.SYMBOL_PREFIX+(d||'')+c++}return Symbol}();b.initSymbolIterator=function(){b.initSymbol();var c=b.global['Symbol'].iterator;if(!c){c=b.global['Symbol'].iterator=b.global['Symbol']('iterator')}if(typeof Array.prototype[c]!='function'){b.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return b.arrayIterator(this)}})}b.initSymbolIterator=function(){}};b.arrayIterator=function(c){var d=0;return b.iteratorPrototype(function(){if(d<c.length){return {done:!1,value:c[d++]}}else {return {done:!0}}})};b.iteratorPrototype=function(d){b.initSymbolIterator();var c={next:d};c[b.global['Symbol'].iterator]=function(){return this};return c};b.iteratorFromArray=function(c,f){b.initSymbolIterator();if(c instanceof String){c=c+''}var e=0;var d={next:function(){if(e<c.length){var b=e++;return {value:f(b,c[b]),done:!1}}d.next=function(){return {done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};b.polyfill('Array.prototype.entries',function(c){if(c){return c}var d=function(){return b.iteratorFromArray(this,function(b,d){return [b,d]})};return d},'es6','es3');b.polyfill('Array.prototype.fill',function(b){if(b){return b}var c=function(g,d,c){var e=this.length||0;if(d<0){d=Math.max(0,e+d)}if(c==null||c>e){c=e}c=Number(c);if(c<0){c=Math.max(0,e+c)}for(var f=Number(d||0);f<c;f++){this[f]=g}return this};return c},'es6','es3');b.findInternal=function(b,e,f){if(b instanceof String){b=String(b)}var g=b.length;for(var c=0;c<g;c++){var d=b[c];if(e.call(f,d,c,b)){return {i:c,v:d}}}return {i:-1,v:void 0}};b.polyfill('Array.prototype.find',function(c){if(c){return c}var d=function(e,d){return b.findInternal(this,e,d).v};return d},'es6','es3');b.polyfill('Array.prototype.findIndex',function(c){if(c){return c}var d=function(e,d){return b.findInternal(this,e,d).i};return d},'es6','es3');b.polyfill('Array.from',function(c){if(c){return c}var d=function(d,e,i){b.initSymbolIterator();e=e!=null?e:function(b){return b};var f=[];var h=d[Symbol.iterator];if(typeof h=='function'){d=h.call(d);var j;while(!(j=d.next()).done){f.push(e.call(i,j.value))}}else {var k=d.length;for(var g=0;g<k;g++){f.push(e.call(i,d[g]))}}return f};return d},'es6','es3');b.polyfill('Object.is',function(b){if(b){return b}var c=function(c,d){if(c===d){return c!==0||1/c===1/d}else {return c!==c&&d!==d}};return c},'es6','es3');b.polyfill('Array.prototype.includes',function(b){if(b){return b}var c=function(e,f){var c=this;if(c instanceof String){c=String(c)}var g=c.length;for(var d=f||0;d<g;d++){if(c[d]==e||Object.is(c[d],e)){return !0}}return !1};return c},'es7','es3');b.polyfill('Array.prototype.keys',function(c){if(c){return c}var d=function(){return b.iteratorFromArray(this,function(b){return b})};return d},'es6','es3');b.polyfill('Array.of',function(b){if(b){return b}var c=function(c){return Array.from(arguments)};return c},'es6','es3');b.polyfill('Array.prototype.values',function(c){if(c){return c}var d=function(){return b.iteratorFromArray(this,function(d,b){return b})};return d},'es6','es3');b.makeIterator=function(c){b.initSymbolIterator();var d=c[Symbol.iterator];return d?d.call(c):b.arrayIterator(c)};b.FORCE_POLYFILL_PROMISE=!1;b.polyfill('Promise',function(e){if(e&&!b.FORCE_POLYFILL_PROMISE){return e}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(b){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(b);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})};var g=b.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(b){g(b,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var c=this.batch_;this.batch_=[];for(var b=0;b<c.length;++b){var d=c[b];delete c[b];try{d()}catch(h){this.asyncThrow_(h)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b})};var d={PENDING:0,FULFILLED:1,REJECTED:2};var c=function(c){this.state_=d.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{c(b.resolve,b.reject)}catch(h){b.reject(h)}};c.prototype.createResolveAndReject_=function(){var c=this;var b=!1;function firstCallWins(d){return function(f){if(!b){b=!0;d.call(c,f)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};c.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof c){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};c.prototype.resolveToNonPromiseObj_=function(c){var b=undefined;try{b=c.then}catch(h){this.reject_(h);return}if(typeof b=='function'){this.settleSameAsThenable_(b,c)}else {this.fulfill_(c)}};function isObject(b){switch(typeof b){case 'object':return b!=null;case 'function':return !0;default:return !1;}}c.prototype.reject_=function(b){this.settle_(d.REJECTED,b)};c.prototype.fulfill_=function(b){this.settle_(d.FULFILLED,b)};c.prototype.settle_=function(c,b){if(this.state_!=d.PENDING){throw new Error('Cannot settle('+c+', '+b|'): Promise already settled in state'+this.state_)}this.state_=c;this.result_=b;this.executeOnSettledCallbacks_()};c.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){var c=this.onSettledCallbacks_;for(var b=0;b<c.length;++b){c[b].call();c[b]=null}this.onSettledCallbacks_=null}};var f=new AsyncExecutor();c.prototype.settleSameAsPromise_=function(c){var b=this.createResolveAndReject_();c.callWhenSettled_(b.resolve,b.reject)};c.prototype.settleSameAsThenable_=function(c,d){var b=this.createResolveAndReject_();try{c.call(d,b.resolve,b.reject)}catch(h){b.reject(h)}};c.prototype.then=function(g,h){var b;var d;var f=new c(function(c,f){b=c;d=f});function createCallback(c,f){if(typeof c=='function'){return function(i){try{b(c(i))}catch(j){d(j)}}}else {return f}}this.callWhenSettled_(createCallback(g,b),createCallback(h,d));return f};c.prototype['catch']=function(b){return this.then(undefined,b)};c.prototype.callWhenSettled_=function(c,g){var b=this;function callback(){switch(b.state_){case d.FULFILLED:c(b.result_);break;case d.REJECTED:g(b.result_);break;default:throw new Error('Unexpected state: '+b.state_);}}if(this.onSettledCallbacks_==null){f.asyncExecute(callback)}else {this.onSettledCallbacks_.push(function(){f.asyncExecute(callback)})}};function resolvingPromise(b){if(b instanceof c){return b}else {return new c(function(c,d){c(b)})}}c['resolve']=resolvingPromise;c['reject']=function(b){return new c(function(d,c){c(b)})};c['race']=function(d){return new c(function(g,h){var f=b.makeIterator(d);for(var c=f.next();!c.done;c=f.next()){resolvingPromise(c.value).callWhenSettled_(g,h)}})};c['all']=function(g){var f=b.makeIterator(g);var d=f.next();if(d.done){return resolvingPromise([])}else {return new c(function(h,i){var b=[];var c=0;function onFulfilled(d){return function(f){b[d]=f;c--;if(c==0){h(b)}}}do{b.push(undefined);c++;resolvingPromise(d.value).callWhenSettled_(onFulfilled(b.length-1),i);d=f.next()}while(!d.done)})}};return c},'es6','es3');b.executeAsyncGenerator=function(b){function passValueToGenerator(c){return b.next(c)}function passErrorToGenerator(c){return b['throw'](c)}return new Promise(function(c,d){function handleGeneratorRecord(e){if(e.done){c(e.value)}else {Promise.resolve(e.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,d)}}handleGeneratorRecord(b.next())})};b.owns=function(c,b){return Object.prototype.hasOwnProperty.call(c,b)};b.polyfill('WeakMap',function(e){function isConformant(){if(!e||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var b=new e([[c,2],[d,3]]);if(b.get(c)!=2||b.get(d)!=3){return !1}b['delete'](c);b.set(d,4);return !b.has(c)&&b.get(d)==4}catch(g){return !1}}if(isConformant()){return e}var c='$jscomp_hidden_'+Math.random().toString().substring(2);function insert(d){if(!b.owns(d,c)){var f={};b.defineProperty(d,c,{value:f})}}function patch(b){var c=Object[b];if(c){Object[b]=function(d){insert(d);return c(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var f=0;var d=function(c){this.id_=(f+=Math.random()+1).toString();if(c){b.initSymbol();b.initSymbolIterator();var h=b.makeIterator(c);var d;while(!(d=h.next()).done){var g=d.value;this.set(g[0],g[1])}}};d.prototype.set=function(d,f){insert(d);if(!b.owns(d,c)){throw new Error('WeakMap key fail: '+d)}d[c][this.id_]=f;return this};d.prototype.get=function(d){return b.owns(d,c)?d[c][this.id_]:undefined};d.prototype.has=function(d){return b.owns(d,c)&&b.owns(d[c],this.id_)};d.prototype['delete']=function(d){if(!b.owns(d,c)||!b.owns(d[c],this.id_)){return !1}return delete d[c][this.id_]};return d},'es6','es3');b.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};b.polyfill('Map',function(d){var i=!b.ASSUME_NO_NATIVE_MAP&&function(){if(!d||!d.prototype.entries||typeof Object.seal!='function'){return !1}try{d=d;var g=Object.seal({x:4});var e=new d(b.makeIterator([[g,'s']]));if(e.get(g)!='s'||e.size!=1||e.get({x:4})||e.set({x:4},'t')!=e||e.size!=2){return !1}var f=e.entries();var c=f.next();if(c.done||c.value[0]!=g||c.value[1]!='s'){return !1}c=f.next();if(c.done||c.value[0].x!=4||c.value[1]!='t'||!f.next().done){return !1}return !0}catch(l){return !1}}();if(i){return d}b.initSymbol();b.initSymbolIterator();var g=new WeakMap();var c=function(c){this.data_={};this.head_=h();this.size=0;if(c){var g=b.makeIterator(c);var e;while(!(e=g.next()).done){var f=e.value;this.set(f[0],f[1])}}};c.prototype.set=function(f,c){var b=e(this,f);if(!b.list){b.list=this.data_[b.id]=[]}if(!b.entry){b.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:f,value:c};b.list.push(b.entry);this.head_.previous.next=b.entry;this.head_.previous=b.entry;this.size++}else {b.entry.value=c}return this};c.prototype['delete']=function(c){var b=e(this,c);if(b.entry&&b.list){b.list.splice(b.index,1);if(!b.list.length){delete this.data_[b.id]}b.entry.previous.next=b.entry.next;b.entry.next.previous=b.entry.previous;b.entry.head=null;this.size--;return !0}return !1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=h();this.size=0};c.prototype.has=function(b){return !!e(this,b).entry};c.prototype.get=function(c){var b=e(this,c).entry;return b&&b.value};c.prototype.entries=function(){return f(this,function(b){return [b.key,b.value]})};c.prototype.keys=function(){return f(this,function(b){return b.key})};c.prototype.values=function(){return f(this,function(b){return b.value})};c.prototype.forEach=function(f,e){var g=this.entries();var c;while(!(c=g.next()).done){var b=c.value;f.call(e,b[1],b[0],this)}};c.prototype[Symbol.iterator]=c.prototype.entries;var e=function(i,g){var h=k(g);var c=i.data_[h];if(c&&b.owns(i.data_,h)){for(var f=0;f<c.length;f++){var e=c[f];if(g!==g&&e.key!==e.key||g===e.key){return {id:h,list:c,index:f,entry:e}}}}return {id:h,list:c,index:-1,entry:undefined}};var f=function(e,f){var c=e.head_;return b.iteratorPrototype(function(){if(c){while(c.head!=e.head_){c=c.previous}while(c.next!=c.head){c=c.next;return {done:!1,value:f(c)}}c=null}return {done:!0,value:void 0}})};var h=function(){var b={};b.previous=b.next=b.head=b;return b};var j=0;var k=function(b){var c=b&&typeof b;if(c=='object'||c=='function'){b=b;if(!g.has(b)){var e=''+ ++j;g.set(b,e);return e}return g.get(b)}return 'p_'+b};return c},'es6','es3');b.polyfill('Math.acosh',function(b){if(b){return b}var c=function(c){c=Number(c);return Math.log(c+Math.sqrt(c*c-1))};return c},'es6','es3');b.polyfill('Math.asinh',function(b){if(b){return b}var c=function(c){c=Number(c);if(c===0){return c}var d=Math.log(Math.abs(c)+Math.sqrt(c*c+1));return c<0?-d:d};return c},'es6','es3');b.polyfill('Math.log1p',function(b){if(b){return b}var c=function(c){c=Number(c);if(c<0.25&&c>-0.25){var g=c;var h=1;var d=c;var e=0;var f=1;while(e!=d){g*=c;f*=-1;d=(e=d)+f*g/++h}return d}return Math.log(1+c)};return c},'es6','es3');b.polyfill('Math.atanh',function(c){if(c){return c}var b=Math.log1p;var d=function(d){d=Number(d);return (b(d)-b(-d))/2};return d},'es6','es3');b.polyfill('Math.cbrt',function(b){if(b){return b}var c=function(c){if(c===0){return c}c=Number(c);var d=Math.pow(Math.abs(c),1/3);return c<0?-d:d};return c},'es6','es3');b.polyfill('Math.clz32',function(b){if(b){return b}var c=function(c){c=Number(c)>>>0;if(c===0){return 32}var d=0;if((c&4.29490176E9)===0){c<<=16;d+=16}if((c&4.27819008E9)===0){c<<=8;d+=8}if((c&4.02653184E9)===0){c<<=4;d+=4}if((c&3.221225472E9)===0){c<<=2;d+=2}if((c&2.147483648E9)===0){d++}return d};return c},'es6','es3');b.polyfill('Math.cosh',function(b){if(b){return b}var c=Math.exp;var d=function(d){d=Number(d);return (c(d)+c(-d))/2};return d},'es6','es3');b.polyfill('Math.expm1',function(b){if(b){return b}var c=function(c){c=Number(c);if(c<0.25&&c>-0.25){var f=c;var g=1;var d=c;var e=0;while(e!=d){f*=c/++g;d=(e=d)+f}return d}return Math.exp(c)-1};return c},'es6','es3');b.polyfill('Math.hypot',function(b){if(b){return b}var c=function(d,e,i){d=Number(d);e=Number(e);var c,h,g;var f=Math.max(Math.abs(d),Math.abs(e));for(c=2;c<arguments.length;c++){f=Math.max(f,Math.abs(arguments[c]))}if(f>1.0E100||f<1.0E-100){d=d/f;e=e/f;g=d*d+e*e;for(c=2;c<arguments.length;c++){h=Number(arguments[c])/f;g+=h*h}return Math.sqrt(g)*f}else {g=d*d+e*e;for(c=2;c<arguments.length;c++){h=Number(arguments[c]);g+=h*h}return Math.sqrt(g)}};return c},'es6','es3');b.polyfill('Math.imul',function(b){if(b){return b}var c=function(c,d){c=Number(c);d=Number(d);var g=c>>>16&65535;var e=c&65535;var h=d>>>16&65535;var f=d&65535;var i=g*f+e*h<<16>>>0;return e*f+i|0};return c},'es6','es3');b.polyfill('Math.log10',function(b){if(b){return b}var c=function(c){return Math.log(c)/Math.LN10};return c},'es6','es3');b.polyfill('Math.log2',function(b){if(b){return b}var c=function(c){return Math.log(c)/Math.LN2};return c},'es6','es3');b.polyfill('Math.sign',function(b){if(b){return b}var c=function(c){c=Number(c);return c===0||isNaN(c)?c:c>0?1:-1};return c},'es6','es3');b.polyfill('Math.sinh',function(b){if(b){return b}var c=Math.exp;var d=function(d){d=Number(d);if(d===0){return d}return (c(d)-c(-d))/2};return d},'es6','es3');b.polyfill('Math.tanh',function(b){if(b){return b}var c=function(c){c=Number(c);if(c===0){return c}var d=Math.exp(-2*Math.abs(c));var e=(1-d)/(1+d);return c<0?-e:e};return c},'es6','es3');b.polyfill('Math.trunc',function(b){if(b){return b}var c=function(c){c=Number(c);if(isNaN(c)||c===Infinity||c===-Infinity||c===0){return c}var d=Math.floor(Math.abs(c));return c<0?-d:d};return c},'es6','es3');b.polyfill('Number.EPSILON',function(b){return Math.pow(2,-52)},'es6','es3');b.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');b.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');b.polyfill('Number.isFinite',function(b){if(b){return b}var c=function(c){if(typeof c!=='number'){return !1}return !isNaN(c)&&c!==Infinity&&c!==-Infinity};return c},'es6','es3');b.polyfill('Number.isInteger',function(b){if(b){return b}var c=function(c){if(!Number.isFinite(c)){return !1}return c===Math.floor(c)};return c},'es6','es3');b.polyfill('Number.isNaN',function(b){if(b){return b}var c=function(c){return typeof c==='number'&&isNaN(c)};return c},'es6','es3');b.polyfill('Number.isSafeInteger',function(b){if(b){return b}var c=function(c){return Number.isInteger(c)&&Math.abs(c)<=Number.MAX_SAFE_INTEGER};return c},'es6','es3');b.polyfill('Object.assign',function(c){if(c){return c}var d=function(g,h){for(var f=1;f<arguments.length;f++){var d=arguments[f];if(!d){continue}for(var e in d){if(b.owns(d,e)){g[e]=d[e]}}}return g};return d},'es6','es3');b.polyfill('Object.entries',function(c){if(c){return c}var d=function(e){var f=[];for(var d in e){if(b.owns(e,d)){f.push([d,e[d]])}}return f};return d},'es8','es3');b.polyfill('Object.getOwnPropertySymbols',function(b){if(b){return b}return function(){return []}},'es6','es5');b.polyfill('Reflect.ownKeys',function(c){if(c){return c}var b='jscomp_symbol_';function isSymbol(d){return d.substring(0,b.length)==b}var d=function(f){var g=[];var d=Object.getOwnPropertyNames(f);var e=Object.getOwnPropertySymbols(f);for(var b=0;b<d.length;b++){(isSymbol(d[b])?e:g).push(d[b])}return g.concat(e)};return d},'es6','es5');b.polyfill('Object.getOwnPropertyDescriptors',function(b){if(b){return b}var c=function(f){var e={};var d=Reflect.ownKeys(f);for(var c=0;c<d.length;c++){e[d[c]]=Object.getOwnPropertyDescriptor(f,d[c])}return e};return c},'es8','es5');b.underscoreProtoCanBeSet=function(){var c={a:!0};var b={};try{b.__proto__=c;return b.a}catch(d){}return !1};b.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:b.underscoreProtoCanBeSet()?function(b,c){b.__proto__=c;if(b.__proto__!==c){throw new TypeError(b+' is not extensible')}return b}:null;b.polyfill('Object.setPrototypeOf',function(c){return c||b.setPrototypeOf},'es6','es5');b.polyfill('Object.values',function(c){if(c){return c}var d=function(d){var e=[];for(var f in d){if(b.owns(d,f)){e.push(d[f])}}return e};return d},'es8','es3');b.polyfill('Reflect.apply',function(b){if(b){return b}var d=Function.prototype.apply;var c=function(f,e,c){return d.call(f,e,c)};return c},'es6','es3');b.objectCreate=b.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(c){var b=function(){};b.prototype=c;return new b()};b.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var d=Reflect.construct;var c=function(f,e,b){var c=d(f,e);if(b){Reflect.setPrototypeOf(c,b.prototype)}return c};return c}function construct(d,f,c){if(c===undefined){c=d}var h=c.prototype||Object.prototype;var e=b.objectCreate(h);var g=Function.prototype.apply;var i=g.call(d,e,f);return i||e}return construct}();b.polyfill('Reflect.construct',function(c){return b.construct},'es6','es3');b.polyfill('Reflect.defineProperty',function(b){if(b){return b}var c=function(f,e,d){try{Object.defineProperty(f,e,d);var c=Object.getOwnPropertyDescriptor(f,e);if(!c){return !1}return c.configurable===(d.configurable||!1)&&c.enumerable===(d.enumerable||!1)&&('value' in c?c.value===d.value&&c.writable===(d.writable||!1):c.get===d.get&&c.set===d.set)}catch(g){return !1}};return c},'es6','es5');b.polyfill('Reflect.deleteProperty',function(c){if(c){return c}var d=function(e,d){if(!b.owns(e,d)){return !0}try{return delete e[d]}catch(f){return !1}};return d},'es6','es3');b.polyfill('Reflect.getOwnPropertyDescriptor',function(b){return b||Object.getOwnPropertyDescriptor},'es6','es5');b.polyfill('Reflect.getPrototypeOf',function(b){return b||Object.getPrototypeOf},'es6','es5');b.findDescriptor=function(e,d){var b=e;while(b){var c=Reflect.getOwnPropertyDescriptor(b,d);if(c){return c}b=Reflect.getPrototypeOf(b)}return undefined};b.polyfill('Reflect.get',function(c){if(c){return c}var d=function(f,e,g){if(arguments.length<=2){return f[e]}var d=b.findDescriptor(f,e);if(d){return d.get?d.get.call(g):d.value}return undefined};return d},'es6','es5');b.polyfill('Reflect.has',function(b){if(b){return b}var c=function(d,c){return c in d};return c},'es6','es3');b.polyfill('Reflect.isExtensible',function(c){if(c){return c}if(b.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');b.polyfill('Reflect.preventExtensions',function(c){if(c){return c}if(!(b.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var d=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return d},'es6','es3');b.polyfill('Reflect.set',function(c){if(c){return c}var d=function(d,f,g,h){var e=b.findDescriptor(d,f);if(!e){if(Reflect.isExtensible(d)){d[f]=g;return !0}return !1}if(e.set){e.set.call(arguments.length>3?h:d,g);return !0}else {if(e.writable&&!Object.isFrozen(d)){d[f]=g;return !0}}return !1};return d},'es6','es5');b.polyfill('Reflect.setPrototypeOf',function(c){if(c){return c}else {if(b.setPrototypeOf){var d=b.setPrototypeOf;var e=function(b,e){try{d(b,e);return !0}catch(f){return !1}};return e}else {return null}}},'es6','es5');b.polyfill('Set',function(d){var e=!b.ASSUME_NO_NATIVE_SET&&function(){if(!d||!d.prototype.entries||typeof Object.seal!='function'){return !1}try{d=d;var f=Object.seal({x:4});var e=new d(b.makeIterator([f]));if(!e.has(f)||e.size!=1||e.add(f)!=e||e.size!=1||e.add({x:4})!=e||e.size!=2){return !1}var g=e.entries();var c=g.next();if(c.done||c.value[0]!=f||c.value[1]!=f){return !1}c=g.next();if(c.done||c.value[0]==f||c.value[0].x!=4||c.value[1]!=c.value[0]){return !1}return g.next().done}catch(h){return !1}}();if(e){return d}b.initSymbol();b.initSymbolIterator();var c=function(c){this.map_=new Map();if(c){var g=b.makeIterator(c);var e;while(!(e=g.next()).done){var f=e.value;this.add(f)}}this.size=this.map_.size};c.prototype.add=function(b){this.map_.set(b,b);this.size=this.map_.size;return this};c.prototype['delete']=function(c){var b=this.map_['delete'](c);this.size=this.map_.size;return b};c.prototype.clear=function(){this.map_.clear();this.size=0};c.prototype.has=function(b){return this.map_.has(b)};c.prototype.entries=function(){return this.map_.entries()};c.prototype.values=function(){return this.map_.values()};c.prototype.keys=c.prototype.values;c.prototype[Symbol.iterator]=c.prototype.values;c.prototype.forEach=function(c,b){var e=this;this.map_.forEach(function(f){return c.call(b,f,f,e)})};return c},'es6','es3');b.checkStringArgs=function(b,d,c){if(b==null){throw new TypeError("The 'this' value for String.prototype."+c+' must not be null or undefined')}if(d instanceof RegExp){throw new TypeError('First argument to String.prototype.'+c+' must not be a regular expression')}return b+''};b.polyfill('String.prototype.codePointAt',function(c){if(c){return c}var d=function(d){var g=b.checkStringArgs(this,null,'codePointAt');var h=g.length;d=Number(d)||0;if(!(d>=0&&d<h)){return void 0}d=d|0;var e=g.charCodeAt(d);if(e<55296||e>56319||d+1===h){return e}var f=g.charCodeAt(d+1);if(f<56320||f>57343){return e}return (e-55296)*1024+f+9216};return d},'es6','es3');b.polyfill('String.prototype.endsWith',function(c){if(c){return c}var d=function(d,e){var f=b.checkStringArgs(this,d,'endsWith');d=d+'';if(e===void 0){e=f.length}var h=Math.max(0,Math.min(e|0,f.length));var g=d.length;while(g>0&&h>0){if(f[--h]!=d[--g]){return !1}}return g<=0};return d},'es6','es3');b.polyfill('String.fromCodePoint',function(b){if(b){return b}var c=function(f){var d='';for(var e=0;e<arguments.length;e++){var c=Number(arguments[e]);if(c<0||c>1114111||c!==Math.floor(c)){throw new RangeError('invalid_code_point '+c)}if(c<=65535){d+=String.fromCharCode(c)}else {c-=65536;d+=String.fromCharCode(c>>>10&1023|55296);d+=String.fromCharCode(c&1023|56320)}}return d};return c},'es6','es3');b.polyfill('String.prototype.includes',function(c){if(c){return c}var d=function(d,e){var f=b.checkStringArgs(this,d,'includes');return f.indexOf(d,e||0)!==-1};return d},'es6','es3');b.polyfill('String.prototype.repeat',function(c){if(c){return c}var d=function(d){var e=b.checkStringArgs(this,null,'repeat');if(d<0||d>1342177279){throw new RangeError('Invalid count value')}d=d|0;var f='';while(d){if(d&1){f+=e}if(d>>>=1){e+=e}}return f};return d},'es6','es3');b.stringPadding=function(d,b){var c=d!==undefined?String(d):' ';if(!(b>0)||!c){return ''}var e=Math.ceil(b/c.length);return c.repeat(e).substring(0,b)};b.polyfill('String.prototype.padEnd',function(c){if(c){return c}var d=function(f,e){var d=b.checkStringArgs(this,null,'padStart');var g=f-d.length;return d+b.stringPadding(e,g)};return d},'es8','es3');b.polyfill('String.prototype.padStart',function(c){if(c){return c}var d=function(f,e){var d=b.checkStringArgs(this,null,'padStart');var g=f-d.length;return b.stringPadding(e,g)+d};return d},'es8','es3');b.polyfill('String.prototype.startsWith',function(c){if(c){return c}var d=function(d,i){var e=b.checkStringArgs(this,d,'startsWith');d=d+'';var j=e.length;var g=d.length;var h=Math.max(0,Math.min(i|0,e.length));var f=0;while(f<g&&h<j){if(e[h++]!=d[f++]){return !1}}return f>=g};return d},'es6','es3');b.arrayFromIterator=function(d){var c;var b=[];while(!(c=d.next()).done){b.push(c.value)}return b};b.arrayFromIterable=function(c){if(c instanceof Array){return c}else {return b.arrayFromIterator(b.makeIterator(c))}};b.inherits=function(c,d){c.prototype=b.objectCreate(d.prototype);c.prototype.constructor=c;if(b.setPrototypeOf){var g=b.setPrototypeOf;g(c,d)}else {for(var e in d){if(e=='prototype'){continue}if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(d,e);if(f){Object.defineProperty(c,e,f)}}else {c[e]=d[e]}}}c.superClass_=d.prototype};b.polyfill('WeakSet',function(d){function isConformant(){if(!d||!Object.seal){return !1}try{var c=Object.seal({});var e=Object.seal({});var b=new d([c]);if(!b.has(c)||b.has(e)){return !1}b['delete'](c);b.add(e);return !b.has(c)&&b.has(e)}catch(f){return !1}}if(isConformant()){return d}var c=function(c){this.map_=new WeakMap();if(c){b.initSymbol();b.initSymbolIterator();var g=b.makeIterator(c);var e;while(!(e=g.next()).done){var f=e.value;this.add(f)}}};c.prototype.add=function(b){this.map_.set(b,!0);return this};c.prototype.has=function(b){return this.map_.has(b)};c.prototype['delete']=function(b){return this.map_['delete'](b)};return c},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(c){}a.define('Ext.draw.ContainerBase',{extend:'Ext.panel.Panel',requires:['Ext.window.Window'],previewTitleText:'Chart Preview',previewAltText:'Chart preview',layout:'container',addElementListener:function(){var b=this,c=arguments;if(b.rendered){b.el.on.apply(b.el,c)}else {b.on('render',function(){b.el.on.apply(b.el,c)})}},removeElementListener:function(){var b=this;if(b.rendered){b.el.un.apply(b.el,arguments)}},afterRender:function(){this.callParent(arguments);this.initAnimator()},getItems:function(){var b=this,c=b.items;if(!c||!c.isMixedCollection){b.initItems()}return b.items},onRender:function(){this.callParent(arguments);this.element=this.el;this.bodyElement=this.body},setItems:function(b){this.items=b;return b},setSurfaceSize:function(c,b){this.resizeHandler({width:c,height:b});this.renderFrame()},onResize:function(c,b,e,d){this.handleResize({width:c,height:b},!this.size)},preview:function(b){var c;if(a.isIE8){return !1}b=b||this.getImage();if(b.type==='svg-markup'){c={xtype:'container',html:b.data}}else {c={xtype:'image',mode:'img',cls:a.baseCSSPrefix+'chart-image',alt:this.previewAltText,src:b.data,listeners:{afterrender:function(){var c=this,d=c.imgEl.dom,e=b.type==='svg'?1:window['devicePixelRatio']||1,f;if(!d.naturalWidth||!d.naturalHeight){d.onload=function(){var g=d.naturalWidth,f=d.naturalHeight;c.setWidth(Math.floor(g/e));c.setHeight(Math.floor(f/e))}}else {f=c.getSize();c.setWidth(Math.floor(f.width/e));c.setHeight(Math.floor(f.height/e))}}}}}new a.window.Window({title:this.previewTitleText,closable:!0,renderTo:a.getBody(),autoShow:!0,maximizeable:!0,maximized:!0,border:!0,layout:{type:'hbox',pack:'center',align:'middle'},items:{xtype:'container',items:c}})},privates:{getTargetEl:function(){return this.bodyElement},reattachToBody:function(){var b=this;if(b.pendingDetachSize){b.handleResize()}b.pendingDetachSize=!1;b.callParent()}}});a.define('Ext.draw.SurfaceBase',{extend:'Ext.Widget',getOwnerBody:function(){return this.ownerCt.body}});a.define('Ext.draw.sprite.AnimationParser',function(){function compute(b,d,c){return b+(d-b)*c}return {singleton:!0,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,requires:['Ext.draw.Color'],color:{parseInitial:function(b,c){if(a.isString(b)){b=a.util.Color.create(b)}if(a.isString(c)){c=a.util.Color.create(c)}if(b&&b.isColor&&(c&&c.isColor)){return [[b.r,b.g,b.b,b.a],[c.r,c.g,c.b,c.a]]}else {return [b||c,c||b]}},compute:function(b,c,d){if(!a.isArray(b)||!a.isArray(c)){return c||b}else {return [compute(b[0],c[0],d),compute(b[1],c[1],d),compute(b[2],c[2],d),compute(b[3],c[3],d)]}},serve:function(b){var c=a.util.Color.fly(b[0],b[1],b[2],b[3]);return c.toString()}},number:{parse:function(b){return b===null?null:+b},compute:function(b,c,d){if(!a.isNumber(b)||!a.isNumber(c)){return c||b}else {return compute(b,c,d)}}},angle:{parseInitial:function(c,b){if(b-c>Math.PI){b-=Math.PI*2}else {if(b-c<-Math.PI){b+=Math.PI*2}}return [c,b]},compute:function(b,c,d){if(!a.isNumber(b)||!a.isNumber(c)){return c||b}else {return compute(b,c,d)}}},path:{parseInitial:function(n,m){var f=n.toStripes(),d=m.toStripes(),b,j,g=f.length,h=d.length,k,i,l,e=d[h-1],c=[e[e.length-2],e[e.length-1]];for(b=g;b<h;b++){f.push(f[g-1].slice(0))}for(b=h;b<g;b++){d.push(c.slice(0))}l=f.length;d.path=m;d.temp=new a.draw.Path();for(b=0;b<l;b++){k=f[b];i=d[b];g=k.length;h=i.length;d.temp.commands.push('M');for(j=h;j<g;j+=6){i.push(c[0],c[1],c[0],c[1],c[0],c[1])}e=d[d.length-1];c=[e[e.length-2],e[e.length-1]];for(j=g;j<h;j+=6){k.push(c[0],c[1],c[0],c[1],c[0],c[1])}for(b=0;b<i.length;b++){i[b]-=k[b]}for(b=2;b<i.length;b+=6){d.temp.commands.push('C')}}return [f,d]},compute:function(f,c,g){if(g>=1){return c.path}var d=0,l=f.length,b=0,h,e,i,j=c.temp.params,k=0;for(;d<l;d++){e=f[d];i=c[d];h=e.length;for(b=0;b<h;b++){j[k++]=i[b]*g+e[b]}}return c.temp}},data:{compute:function(f,j,k,b){var g=f.length-1,h=j.length-1,i=Math.max(g,h),c,e,d;if(!b||b===f){b=[]}b.length=i+1;for(c=0;c<=i;c++){e=f[Math.min(c,g)];d=j[Math.min(c,h)];if(a.isNumber(e)){if(!a.isNumber(d)){d=0}b[c]=e+(d-e)*k}else {b[c]=d}}return b}},text:{compute:function(c,d,b){return c.substr(0,Math.round(c.length*(1-b)))+d.substr(Math.round(d.length*(1-b)))}},limited:'number',limited01:'number'}});(function(){if(!a.global.Float32Array){var b=function(b){if(typeof b==='number'){this.length=b}else {if('length' in b){this.length=b.length;for(var c=0,d=b.length;c<d;c++){this[c]=+b[c]}}}};b.prototype=[];a.global.Float32Array=b}})();a.define('Ext.draw.Draw',{singleton:!0,radian:Math.PI/180,pi2:Math.PI*2,reflectFn:function(b){return b},rad:function(b){return b%360*this.radian},degrees:function(b){return b/this.radian%360},isBBoxIntersect:function(b,c,d){d=d||0;return Math.max(b.x,c.x)-d>Math.min(b.x+b.width,c.x+c.width)||Math.max(b.y,c.y)-d>Math.min(b.y+b.height,c.y+c.height)},isPointInBBox:function(c,d,b){return !!b&&c>=b.x&&c<=b.x+b.width&&d>=b.y&&d<=b.y+b.height},naturalSpline:function(d){var b,f,j=d.length,h,k,l,e,i=0,c=new Float32Array(d.length),g=new Float32Array(d.length*3-2);c[0]=0;c[j-1]=0;for(b=1;b<j-1;b++){c[b]=d[b+1]+d[b-1]-2*d[b]-c[b-1];i=1/(4-i);c[b]*=i}for(b=j-2;b>0;b--){i=3.732050807568877+48.248711305964385/(-13.928203230275537+Math.pow(0.07179676972449123,b));c[b]-=c[b+1]*i}e=d[0];h=e-c[0];for(b=0,f=0;b<j-1;f+=3){l=e;k=h;b++;e=d[b];h=e-c[b];g[f]=l;g[f+1]=(h+2*k)/3;g[f+2]=(h*2+k)/3}g[f]=e;return g},spline:function(b){return this.naturalSpline(b)},cardinalToBezier:function(e,b,c,f,d){return [b,b+(c-e)/6*d,c-(f-b)/6*d,c]},cardinalSpline:function(c,g){var f=c.length,e=new Float32Array(f*3-2),d,b;if(g===undefined){g=0.5}b=this.cardinalToBezier(c[0],c[0],c[1],c[2],g);e[0]=b[0];e[1]=b[1];e[2]=b[2];e[3]=b[3];for(d=0;d<f-3;d++){b=this.cardinalToBezier(c[d],c[d+1],c[d+2],c[d+3],g);e[4+d*3]=b[1];e[4+d*3+1]=b[2];e[4+d*3+2]=b[3]}b=this.cardinalToBezier(c[f-3],c[f-2],c[f-1],c[f-1],g);e[4+d*3]=b[1];e[4+d*3+1]=b[2];e[4+d*3+2]=b[3];return e},getAnchors:function(t,d,g,b,s,c,n){n=n||4;var k=Math.PI,r=k/2,o=Math.abs,w=Math.sin,v=Math.cos,u=Math.atan,p,q,e,f,l,h,m,i,j;p=(g-t)/n;q=(s-g)/n;if(b>=d&&b>=c||b<=d&&b<=c){e=f=r}else {e=u((g-t)/o(b-d));if(d<b){e=k-e}f=u((s-g)/o(b-c));if(c<b){f=k-f}}j=r-(e+f)%(k*2)/2;if(j>r){j-=k}e+=j;f+=j;l=g-p*w(e);h=b+p*v(e);m=g+q*w(f);i=b+q*v(f);if(b>d&&h<d||b<d&&h>d){l+=o(d-h)*(l-g)/(h-b);h=d}if(b>c&&i<c||b<c&&i>c){m-=o(c-i)*(m-g)/(i-b);i=c}return {x1:l,y1:h,x2:m,y2:i}},smooth:function(j,k,q){var p=j.length,n,o,d,e,l,m,f,g,h=[],i=[],b,c;for(b=0;b<p-1;b++){n=j[b];o=k[b];if(b===0){f=n;g=o;h.push(f);i.push(g);if(p===1){break}}d=j[b+1];e=k[b+1];l=j[b+2];m=k[b+2];if(!(a.isNumber(l)&&a.isNumber(m))){h.push(f,d,d);i.push(g,e,e);break}c=this.getAnchors(n,o,d,e,l,m,q);h.push(f,c.x1,d);i.push(g,c.y1,e);f=c.x2;g=c.y2}return {smoothX:h,smoothY:i}},beginUpdateIOS:a.os.is.iOS?function(){this.iosUpdateEl=a.getBody().createChild({'data-sticky':!0,style:'position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; background: rgba(0,0,0,0.001); z-index: 100000'})}:a.emptyFn,endUpdateIOS:function(){this.iosUpdateEl=a.destroy(this.iosUpdateEl)}});a.define('Ext.draw.gradient.Gradient',{requires:['Ext.draw.Color'],isGradient:!0,config:{stops:[]},applyStops:function(f){var e=[],g=f.length,d,c,b;for(d=0;d<g;d++){c=f[d];b=c.color;if(!(b&&b.isColor)){b=a.util.Color.fly(b||a.util.Color.NONE)}e.push({offset:Math.min(1,Math.max(0,'offset' in c?c.offset:c.position||0)),color:b.toString()})}e.sort(function(b,c){return b.offset-c.offset});return e},onClassExtended:function(c,b){if(!b.alias&&b.type){b.alias='gradient.'+b.type}},constructor:function(b){this.initConfig(b)},generateGradient:a.emptyFn});a.define('Ext.draw.gradient.GradientDefinition',{singleton:!0,urlStringRe:/^url\(#([\w\-]+)\)$/,gradients:{},add:function(d){var f=this.gradients,c,e,b;for(c=0,e=d.length;c<e;c++){b=d[c];if(a.isString(b.id)){f[b.id]=b}}},get:function(c){var e=this.gradients,b=c.match(this.urlStringRe),d;if(b&&b[1]&&(d=e[b[1]])){return d||c}return c}});a.define('Ext.draw.sprite.AttributeParser',{singleton:!0,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,requires:['Ext.draw.Color','Ext.draw.gradient.GradientDefinition'],'default':a.identityFn,string:function(b){return String(b)},number:function(b){if(a.isNumber(+b)){return b}},angle:function(b){if(a.isNumber(b)){b%=Math.PI*2;if(b<-Math.PI){b+=Math.PI*2}else {if(b>=Math.PI){b-=Math.PI*2}}return b}},data:function(b){if(a.isArray(b)){return b.slice()}else {if(b instanceof Float32Array){return new Float32Array(b)}}},bool:function(b){return !!b},color:function(b){if(b&&b.isColor){return b.toString()}else {if(b&&b.isGradient){return b}else {if(!b){return a.util.Color.NONE}else {if(a.isString(b)){if(b.substr(0,3)==='url'){b=a.draw.gradient.GradientDefinition.get(b);if(a.isString(b)){return b}}else {return a.util.Color.fly(b).toString()}}}}}if(b.type==='linear'){return a.create('Ext.draw.gradient.Linear',b)}else {if(b.type==='radial'){return a.create('Ext.draw.gradient.Radial',b)}else {if(b.type==='pattern'){return a.create('Ext.draw.gradient.Pattern',b)}else {return a.util.Color.NONE}}}},limited:function(b,c){return function(d){d=+d;return a.isNumber(d)?Math.min(Math.max(d,b),c):undefined}},limited01:function(b){b=+b;return a.isNumber(b)?Math.min(Math.max(b,0),1):undefined},enums:function(){var c={},d=Array.prototype.slice.call(arguments,0),b,e;for(b=0,e=d.length;b<e;b++){c[d[b]]=!0}return function(b){return b in c?b:undefined}}});a.define('Ext.draw.sprite.AttributeDefinition',{requires:['Ext.draw.sprite.AttributeParser','Ext.draw.sprite.AnimationParser'],config:{defaults:{$value:{},lazy:!0},aliases:{},animationProcessors:{},processors:{$value:{},lazy:!0},dirtyTriggers:{},triggers:{},updaters:{}},inheritableStatics:{processorFactoryRe:/^(\w+)\(([\w\-,]*)\)$/},spriteClass:null,constructor:function(b){var c=this;c.initConfig(b)},applyDefaults:function(c,b){b=a.apply(b||{},this.normalize(c));return b},applyAliases:function(c,b){return a.apply(b||{},c)},applyProcessors:function(h,k){this.getAnimationProcessors();var i=k||{},d=a.draw.sprite.AttributeParser,j=this.self.processorFactoryRe,g={},f,c,e,b;for(c in h){b=h[c];if(typeof b==='string'){e=b.match(j);if(e){b=d[e[1]].apply(d,e[2].split(','))}else {if(d[b]){g[c]=b;f=!0;b=d[b]}}}if(!a.isFunction(b)){a.raise(this.spriteClass.$className+": processor '"+c+"' has not been found.")}i[c]=b}if(f){this.setAnimationProcessors(g)}return i},applyAnimationProcessors:function(f,c){var e=a.draw.sprite.AnimationParser,d,b;if(!c){c={}}for(d in f){b=f[d];if(b==='none'){c[d]=null}else {if(a.isString(b)&&!(d in c)){if(b in e){while(a.isString(e[b])){b=e[b]}c[d]=e[b]}}else {if(a.isObject(b)){c[d]=b}}}}return c},updateDirtyTriggers:function(b){this.setTriggers(b)},applyTriggers:function(c,b){if(!b){b={}}for(var d in c){b[d]=c[d].split(',')}return b},applyUpdaters:function(c,b){return a.apply(b||{},c)},batchedNormalize:function(e,o){if(!e){return {}}var k=this.getProcessors(),l=this.getAliases(),i=e.translation||e.translate,b={},j,p,d,g,c,f,m,n,h;if('rotation' in e){c=e.rotation}else {c='rotate' in e?e.rotate:undefined}if('scaling' in e){f=e.scaling}else {f='scale' in e?e.scale:undefined}if(typeof f!=='undefined'){if(a.isNumber(f)){b.scalingX=f;b.scalingY=f}else {if('x' in f){b.scalingX=f.x}if('y' in f){b.scalingY=f.y}if('centerX' in f){b.scalingCenterX=f.centerX}if('centerY' in f){b.scalingCenterY=f.centerY}}}if(typeof c!=='undefined'){if(a.isNumber(c)){c=a.draw.Draw.rad(c);b.rotationRads=c}else {if('rads' in c){b.rotationRads=c.rads}else {if('degrees' in c){if(a.isArray(c.degrees)){b.rotationRads=a.Array.map(c.degrees,function(b){return a.draw.Draw.rad(b)})}else {b.rotationRads=a.draw.Draw.rad(c.degrees)}}}if('centerX' in c){b.rotationCenterX=c.centerX}if('centerY' in c){b.rotationCenterY=c.centerY}}}if(typeof i!=='undefined'){if('x' in i){b.translationX=i.x}if('y' in i){b.translationY=i.y}}if('matrix' in e){m=a.draw.Matrix.create(e.matrix);h=m.split();b.matrix=m;b.rotationRads=h.rotation;b.rotationCenterX=0;b.rotationCenterY=0;b.scalingX=h.scaleX;b.scalingY=h.scaleY;b.scalingCenterX=0;b.scalingCenterY=0;b.translationX=h.translateX;b.translationY=h.translateY}for(d in e){g=e[d];if(typeof g==='undefined'){continue}else {if(a.isArray(g)){if(d in l){d=l[d]}if(d in k){b[d]=[];for(j=0,p=g.length;j<p;j++){n=k[d].call(this,g[j]);if(typeof n!=='undefined'){b[d][j]=n}}}else {if(o){b[d]=g}}}else {if(d in l){d=l[d]}if(d in k){g=k[d].call(this,g);if(typeof g!=='undefined'){b[d]=g}}else {if(o){b[d]=g}}}}}return b},normalize:function(d,m){if(!d){return {}}var k=this.getProcessors(),l=this.getAliases(),i=d.translation||d.translate,b={},f,g,c,e,j,h;if('rotation' in d){c=d.rotation}else {c='rotate' in d?d.rotate:undefined}if('scaling' in d){e=d.scaling}else {e='scale' in d?d.scale:undefined}if(i){if('x' in i){b.translationX=i.x}if('y' in i){b.translationY=i.y}}if(typeof e!=='undefined'){if(a.isNumber(e)){b.scalingX=e;b.scalingY=e}else {if('x' in e){b.scalingX=e.x}if('y' in e){b.scalingY=e.y}if('centerX' in e){b.scalingCenterX=e.centerX}if('centerY' in e){b.scalingCenterY=e.centerY}}}if(typeof c!=='undefined'){if(a.isNumber(c)){c=a.draw.Draw.rad(c);b.rotationRads=c}else {if('rads' in c){b.rotationRads=c.rads}else {if('degrees' in c){b.rotationRads=a.draw.Draw.rad(c.degrees)}}if('centerX' in c){b.rotationCenterX=c.centerX}if('centerY' in c){b.rotationCenterY=c.centerY}}}if('matrix' in d){j=a.draw.Matrix.create(d.matrix);h=j.split();b.matrix=j;b.rotationRads=h.rotation;b.rotationCenterX=0;b.rotationCenterY=0;b.scalingX=h.scaleX;b.scalingY=h.scaleY;b.scalingCenterX=0;b.scalingCenterY=0;b.translationX=h.translateX;b.translationY=h.translateY}for(f in d){g=d[f];if(typeof g==='undefined'){continue}if(f in l){f=l[f]}if(f in k){g=k[f].call(this,g);if(typeof g!=='undefined'){b[f]=g}}else {if(m){b[f]=g}}}return b},setBypassingNormalization:function(d,b,c){return b.pushDown(d,c)},set:function(d,c,b){b=this.normalize(b);return this.setBypassingNormalization(d,c,b)}});a.define('Ext.draw.Matrix',{isMatrix:!0,statics:{createAffineMatrixFromTwoPair:function(g,h,o,p,k,l,m,n){var c=o-g,d=p-h,i=m-k,j=n-l,b=1/(c*c+d*d),e=c*i+d*j,f=i*d-c*j,q=-e*g-f*h,r=f*g-e*h;return new this(e*b,-f*b,f*b,e*b,q*b+k,r*b+l)},createPanZoomFromTwoPair:function(c,d,m,n,g,i,h,j){if(arguments.length===2){return this.createPanZoomFromTwoPair.apply(this,c.concat(d))}var k=m-c,l=n-d,q=(c+m)*0.5,r=(d+n)*0.5,e=h-g,f=j-i,o=(g+h)*0.5,p=(i+j)*0.5,t=k*k+l*l,s=e*e+f*f,b=Math.sqrt(s/t);return new this(b,0,0,b,o-b*q,p-b*r)},fly:function(){var b=null,c=function(c){b.elements=c;return b};return function(d){if(!b){b=new a.draw.Matrix()}b.elements=d;a.draw.Matrix.fly=c;return b}}(),create:function(b){if(b instanceof this){return b}return new this(b)}},constructor:function(b,e,f,g,c,d){if(b&&b.length===6){this.elements=b.slice()}else {if(b!==undefined){this.elements=[b,e,f,g,c,d]}else {this.elements=[1,0,0,1,0,0]}}},prepend:function(c,d,e,f,m,n){var b=this.elements,i=b[0],j=b[1],k=b[2],l=b[3],g=b[4],h=b[5];b[0]=c*i+e*j;b[1]=d*i+f*j;b[2]=c*k+e*l;b[3]=d*k+f*l;b[4]=c*g+e*h+m;b[5]=d*g+f*h+n;return this},prependMatrix:function(b){return this.prepend.apply(this,b.elements)},append:function(i,j,k,l,g,h){var b=this.elements,c=b[0],d=b[1],e=b[2],f=b[3],m=b[4],n=b[5];b[0]=i*c+j*e;b[1]=i*d+j*f;b[2]=k*c+l*e;b[3]=k*d+l*f;b[4]=g*c+h*e+m;b[5]=g*d+h*f+n;return this},appendMatrix:function(b){return this.append.apply(this,b.elements)},set:function(e,f,g,h,c,d){var b=this.elements;b[0]=e;b[1]=f;b[2]=g;b[3]=h;b[4]=c;b[5]=d;return this},inverse:function(j){var b=this.elements,c=b[0],d=b[1],e=b[2],f=b[3],h=b[4],i=b[5],g=1/(c*f-d*e);c*=g;d*=g;e*=g;f*=g;if(j){j.set(f,-d,-e,c,e*i-f*h,d*h-c*i);return j}else {return new a.draw.Matrix(f,-d,-e,c,e*i-f*h,d*h-c*i)}},translate:function(b,c,d){if(d){return this.prepend(1,0,0,1,b,c)}else {return this.append(1,0,0,1,b,c)}},scale:function(e,d,b,c,g){var f=this;if(d==null){d=e}if(b===undefined){b=0}if(c===undefined){c=0}if(g){return f.prepend(e,0,0,d,b-b*e,c-c*d)}else {return f.append(e,0,0,d,b-b*e,c-c*d)}},rotate:function(f,c,d,h){var g=this,b=Math.cos(f),e=Math.sin(f);c=c||0;d=d||0;if(h){return g.prepend(b,e,-e,b,c-b*c+d*e,d-b*d-c*e)}else {return g.append(b,e,-e,b,c-b*c+d*e,d-b*d-c*e)}},rotateFromVector:function(d,e,h){var f=this,g=Math.sqrt(d*d+e*e),b=d/g,c=e/g;if(h){return f.prepend(b,c,-c,b,0,0)}else {return f.append(b,c,-c,b,0,0)}},clone:function(){return new a.draw.Matrix(this.elements)},flipX:function(){return this.append(-1,0,0,1,0,0)},flipY:function(){return this.append(1,0,0,-1,0,0)},skewX:function(b){return this.append(1,0,Math.tan(b),1,0,0)},skewY:function(b){return this.append(1,Math.tan(b),0,1,0,0)},shearX:function(b){return this.append(1,0,b,1,0,0)},shearY:function(b){return this.append(1,b,0,1,0,0)},reset:function(){return this.set(1,0,0,1,0,0)},precisionCompensate:function(b,c){var d=this.elements,e=d[0],g=d[1],h=d[2],f=d[3],i=d[4],j=d[5],k=g*h-e*f;c.b=b*g/e;c.c=b*h/f;c.d=b;c.xx=e/b;c.yy=f/b;c.dx=(j*e*h-i*e*f)/k/b;c.dy=(i*g*f-j*e*f)/k/b},precisionCompensateRect:function(b,c){var d=this.elements,e=d[0],f=d[1],k=d[2],g=d[3],i=d[4],j=d[5],h=k/e;c.b=b*f/e;c.c=b*h;c.d=b*g/e;c.xx=e/b;c.yy=e/b;c.dx=(j*k-i*g)/(f*h-g)/b;c.dy=-(j*e-i*f)/(f*h-g)/b},x:function(c,d){var b=this.elements;return c*b[0]+d*b[2]+b[4]},y:function(c,d){var b=this.elements;return c*b[1]+d*b[3]+b[5]},get:function(b,c){return +this.elements[b+c*2].toFixed(4)},transformPoint:function(c){var b=this.elements,d,e;if(c.isPoint){d=c.x;e=c.y}else {d=c[0];e=c[1]}return [d*b[0]+e*b[2]+b[4],d*b[1]+e*b[3]+b[5]]},transformBBox:function(i,f,c){var b=this.elements,q=i.x,r=i.y,e=i.width*0.5,d=i.height*0.5,k=b[0],l=b[1],m=b[2],n=b[3],o=q+e,p=r+d,h,g,j;if(f){e-=f;d-=f;j=[Math.sqrt(b[0]*b[0]+b[2]*b[2]),Math.sqrt(b[1]*b[1]+b[3]*b[3])];h=Math.abs(e*k)+Math.abs(d*m)+Math.abs(j[0]*f);g=Math.abs(e*l)+Math.abs(d*n)+Math.abs(j[1]*f)}else {h=Math.abs(e*k)+Math.abs(d*m);g=Math.abs(e*l)+Math.abs(d*n)}if(!c){c={}}c.x=o*k+p*m+b[4]-h;c.y=o*l+p*n+b[5]-g;c.width=h+h;c.height=g+g;return c},transformList:function(e){var b=this.elements,i=b[0],k=b[2],f=b[4],j=b[1],l=b[3],g=b[5],h=e.length,d,c;for(c=0;c<h;c++){d=e[c];e[c]=[d[0]*i+d[1]*k+f,d[0]*j+d[1]*l+g]}return e},isIdentity:function(){var b=this.elements;return b[0]===1&&b[1]===0&&b[2]===0&&b[3]===1&&b[4]===0&&b[5]===0},isEqual:function(d){var c=d&&d.isMatrix?d.elements:d,b=this.elements;return b[0]===c[0]&&b[1]===c[1]&&b[2]===c[2]&&b[3]===c[3]&&b[4]===c[4]&&b[5]===c[5]},equals:function(b){return this.isEqual(b)},toArray:function(){var b=this.elements;return [b[0],b[2],b[4],b[1],b[3],b[5]]},toVerticalArray:function(){return this.elements.slice()},toString:function(){var b=this;return [b.get(0,0),b.get(0,1),b.get(1,0),b.get(1,1),b.get(2,0),b.get(2,1)].join(',')},toContext:function(b){b.transform.apply(b,this.elements);return this},toSvg:function(){var b=this.elements;return 'matrix('+b[0].toFixed(9)+','+b[1].toFixed(9)+','+b[2].toFixed(9)+','+b[3].toFixed(9)+','+b[4].toFixed(9)+','+b[5].toFixed(9)+')'},getScaleX:function(){var b=this.elements;return Math.sqrt(b[0]*b[0]+b[2]*b[2])},getScaleY:function(){var b=this.elements;return Math.sqrt(b[1]*b[1]+b[3]*b[3])},getXX:function(){return this.elements[0]},getXY:function(){return this.elements[1]},getYX:function(){return this.elements[2]},getYY:function(){return this.elements[3]},getDX:function(){return this.elements[4]},getDY:function(){return this.elements[5]},split:function(){var c=this.elements,d=c[0],e=c[1],f=c[3],b={translateX:c[4],translateY:c[5]};b.rotate=b.rotation=Math.atan2(e,d);b.scaleX=d/Math.cos(b.rotate);b.scaleY=f/d*b.scaleX;return b}},function(){function registerName(c,d,b){c[d]={get:function(){return this.elements[b]},set:function(e){this.elements[b]=e}}}if(Object.defineProperties){var b={};registerName(b,'a',0);registerName(b,'b',1);registerName(b,'c',2);registerName(b,'d',3);registerName(b,'e',4);registerName(b,'f',5);Object.defineProperties(this.prototype,b)}this.prototype.multiply=this.prototype.appendMatrix});a.define('Ext.draw.modifier.Modifier',{isModifier:!0,mixins:{observable:'Ext.mixin.Observable'},config:{lower:null,upper:null,sprite:null},constructor:function(b){this.mixins.observable.constructor.call(this,b)},updateUpper:function(b){if(b){b.setLower(this)}},updateLower:function(b){if(b){b.setUpper(this)}},prepareAttributes:function(b){if(this._lower){this._lower.prepareAttributes(b)}},popUp:function(c,b){if(this._upper){this._upper.popUp(c,b)}else {a.apply(c,b)}},filterChanges:function(g,d,f){var e=g.targets,b,c;if(f){for(b in d){c=d[b];if(c!==g[b]||e&&c!==e[b]){f[b]=c}}}else {for(b in d){c=d[b];if(c===g[b]&&(!e||c===e[b])){delete d[b]}}}return f||d},pushDown:function(c,b){return this._lower?this._lower.pushDown(c,b):this.filterChanges(c,b)}});a.define('Ext.draw.modifier.Target',{requires:['Ext.draw.Matrix'],extend:'Ext.draw.modifier.Modifier',alias:'modifier.target',statics:{uniqueId:0},prepareAttributes:function(b){if(this._lower){this._lower.prepareAttributes(b)}b.attributeId='attribute-'+a.draw.modifier.Target.uniqueId++;if(!b.hasOwnProperty('canvasAttributes')){b.bbox={plain:{dirty:!0},transform:{dirty:!0}};b.dirty=!0;b.pendingUpdaters={};b.canvasAttributes={};b.matrix=new a.draw.Matrix();b.inverseMatrix=new a.draw.Matrix()}},applyChanges:function(c,i){a.apply(c,i);var g=this.getSprite(),h=c.pendingUpdaters,o=g.self.def.getTriggers(),n,l,f,b,m,e,d,k,j;for(b in i){m=!0;if(n=o[b]){g.scheduleUpdaters(c,n,[b])}if(c.template&&i.removeFromInstance&&i.removeFromInstance[b]){delete c[b]}}if(!m){return}if(h.canvas){e=h.canvas;delete h.canvas;for(d=0,j=e.length;d<j;d++){b=e[d];c.canvasAttributes[b]=c[b]}}if(c.hasOwnProperty('children')){l=c.children;for(d=0,j=l.length;d<j;d++){f=l[d];a.apply(f.pendingUpdaters,h);if(e){for(k=0;k<e.length;k++){b=e[k];f.canvasAttributes[b]=f[b]}}g.callUpdaters(f)}}g.setDirty(!0);g.callUpdaters(c)},popUp:function(c,b){this.applyChanges(c,b)},pushDown:function(c,b){if(this._lower){b=this._lower.pushDown(c,b)}this.applyChanges(c,b);return b}});a.define('Ext.draw.TimingFunctions',function(){var c=Math.pow,l=Math.sin,k=Math.cos,j=Math.sqrt,i=Math.PI,g=['quad','cube','quart','quint'],e={pow:function(b,d){return c(b,d||6)},expo:function(b){return c(2,8*(b-1))},circ:function(b){return 1-j(1-b*b)},sine:function(b){return 1-l((1-b)*i/2)},back:function(c,b){b=b||1.616;return c*c*((b+1)*c-b)},bounce:function(e){for(var d=0,b=1;1;d+=b,b/=2){if(e>=(7-4*d)/11){return b*b-c((11-6*d-11*e)/4,2)}}},elastic:function(b,d){return c(2,10*--b)*k(20*b*i*(d||1)/3)}},b={},f,h,d;function createPoly(b){return function(d){return c(d,b)}}function addEasing(d,c){b[d+'In']=function(b){return c(b)};b[d+'Out']=function(b){return 1-c(1-b)};b[d+'InOut']=function(b){return b<=0.5?c(2*b)/2:(2-c(2*(1-b)))/2}}for(d=0,h=g.length;d<h;++d){e[g[d]]=createPoly(d+2)}for(f in e){addEasing(f,e[f])}b.linear=a.identityFn;b.easeIn=b.quadIn;b.easeOut=b.quadOut;b.easeInOut=b.quadInOut;return {singleton:!0,easingMap:b}},function(b){a.apply(b,b.easingMap)});a.define('Ext.draw.Animator',{uses:['Ext.draw.Draw'],singleton:!0,frameCallbacks:{},frameCallbackId:0,scheduled:0,frameStartTimeOffset:a.now(),animations:[],running:!1,animationTime:function(){return a.AnimationQueue.frameStartTime-this.frameStartTimeOffset},add:function(b){var c=this;if(!c.contains(b)){c.animations.push(b);c.ignite();if('fireEvent' in b){b.fireEvent('animationstart',b)}}},remove:function(b){var e=this,d=e.animations,c=0,f=d.length;for(;c<f;++c){if(d[c]===b){d.splice(c,1);if('fireEvent' in b){b.fireEvent('animationend',b)}return}}},contains:function(b){return a.Array.indexOf(this.animations,b)>-1},empty:function(){return this.animations.length===0},idle:function(){return this.scheduled===0&&this.animations.length===0},step:function(f){var g=this,d=g.animations,b,c=0,e=d.length;for(;c<e;c++){b=d[c];b.step(f);if(!b.animating){d.splice(c,1);c--;e--;if(b.fireEvent){b.fireEvent('animationend',b)}}}},schedule:function(b,c){c=c||this;var d='frameCallback'+this.frameCallbackId++;if(a.isString(b)){b=c[b]}a.draw.Animator.frameCallbacks[d]={fn:b,scope:c,once:!0};this.scheduled++;a.draw.Animator.ignite();return d},scheduleIf:function(b,c){c=c||this;var e=a.draw.Animator.frameCallbacks,d,f;if(a.isString(b)){b=c[b]}for(f in e){d=e[f];if(d.once&&d.fn===b&&d.scope===c){return null}}return this.schedule(b,c)},cancel:function(b){if(a.draw.Animator.frameCallbacks[b]&&a.draw.Animator.frameCallbacks[b].once){this.scheduled=Math.max(--this.scheduled,0);delete a.draw.Animator.frameCallbacks[b];a.draw.Draw.endUpdateIOS()}if(this.idle()){this.extinguish()}},clear:function(){this.animations.length=0;a.draw.Animator.frameCallbacks={};this.extinguish()},addFrameCallback:function(b,c){c=c||this;if(a.isString(b)){b=c[b]}var d='frameCallback'+this.frameCallbackId++;a.draw.Animator.frameCallbacks[d]={fn:b,scope:c};return d},removeFrameCallback:function(b){delete a.draw.Animator.frameCallbacks[b];if(this.idle()){this.extinguish()}},fireFrameCallbacks:function(){var d=this.frameCallbacks,e,c,b;for(e in d){b=d[e];c=b.fn;if(a.isString(c)){c=b.scope[c]}c.call(b.scope);if(d[e]&&b.once){this.scheduled=Math.max(--this.scheduled,0);delete d[e]}}},handleFrame:function(){var b=this;b.step(b.animationTime());b.fireFrameCallbacks();if(b.idle()){b.extinguish()}},ignite:function(){if(!this.running){this.running=!0;a.AnimationQueue.start(this.handleFrame,this);a.draw.Draw.beginUpdateIOS()}},extinguish:function(){this.running=!1;a.AnimationQueue.stop(this.handleFrame,this);a.draw.Draw.endUpdateIOS()}});a.define('Ext.draw.modifier.Animation',{extend:'Ext.draw.modifier.Modifier',alias:'modifier.animation',requires:['Ext.draw.TimingFunctions','Ext.draw.Animator'],config:{easing:a.identityFn,duration:0,customEasings:{},customDurations:{}},constructor:function(c){var b=this;b.anyAnimation=b.anySpecialAnimations=!1;b.animating=0;b.animatingPool=[];b.callParent([c])},prepareAttributes:function(b){if(!b.hasOwnProperty('timers')){b.animating=!1;b.timers={};b.targets=a.Object.chain(b);b.targets.prototype=b}if(this._lower){this._lower.prepareAttributes(b.targets)}},updateSprite:function(b){this.setConfig(b.config.animation)},updateDuration:function(b){this.anyAnimation=b>0},applyEasing:function(b){if(typeof b==='string'){b=a.draw.TimingFunctions.easingMap[b]}return b},applyCustomEasings:function(h,c){c=c||{};var f,g,e,b,d,i;for(g in h){f=!0;b=h[g];e=g.split(',');if(typeof b==='string'){b=a.draw.TimingFunctions.easingMap[b]}for(d=0,i=e.length;d<i;d++){c[e[d]]=b}}if(f){this.anySpecialAnimations=f}return c},setEasingOn:function(b,e){b=a.Array.from(b).slice();var d={},f=b.length,c=0;for(;c<f;c++){d[b[c]]=e}this.setCustomEasings(d)},clearEasingOn:function(b){b=a.Array.from(b,!0);var c=0,d=b.length;for(;c<d;c++){delete this._customEasings[b[c]]}},applyCustomDurations:function(g,b){b=b||{};var e,f,h,d,c,i;for(f in g){e=!0;h=g[f];d=f.split(',');for(c=0,i=d.length;c<i;c++){b[d[c]]=h}}if(e){this.anySpecialAnimations=e}return b},setDurationOn:function(b,e){b=a.Array.from(b).slice();var d={},c=0,f=b.length;for(;c<f;c++){d[b[c]]=e}this.setCustomDurations(d)},clearDurationOn:function(b){b=a.Array.from(b,!0);for(var c=0,d=b.length;c<d;c++){delete this._customDurations[b[c]]}},setAnimating:function(d,e){var c=this,b=c.animatingPool;if(d.animating!==e){d.animating=e;if(e){b.push(d);if(c.animating===0){a.draw.Animator.add(c)}c.animating++}else {for(var f=b.length;f--;){if(b[f]===d){b.splice(f,1)}}c.animating=b.length}}},setAttrs:function(i,d){var h=this,k=i.timers,u=h._sprite.self.def._animationProcessors,t=h._easing,s=h._duration,n=h._customDurations,o=h._customEasings,p=h.anySpecialAnimations,v=h.anyAnimation||p,l=i.targets,r=!1,c,b,f,e,g,m,j;if(!v){for(b in d){if(i[b]===d[b]){delete d[b]}else {i[b]=d[b]}delete l[b];delete k[b]}return d}else {for(b in d){f=d[b];e=i[b];if(f!==e&&e!==undefined&&e!==null&&(g=u[b])){m=t;j=s;if(p){if(b in o){m=o[b]}if(b in n){j=n[b]}}if(e&&e.isGradient||f&&f.isGradient){j=0}if(j){if(!k[b]){k[b]={}}c=k[b];c.start=0;c.easing=m;c.duration=j;c.compute=g.compute;c.serve=g.serve||a.identityFn;c.remove=d.removeFromInstance&&d.removeFromInstance[b];if(g.parseInitial){var q=g.parseInitial(e,f);c.source=q[0];c.target=q[1]}else {if(g.parse){c.source=g.parse(e);c.target=g.parse(f)}else {c.source=e;c.target=f}}l[b]=f;delete d[b];r=!0;continue}else {delete l[b]}}else {delete l[b]}delete k[b]}}if(r&&!i.animating){h.setAnimating(i,!0)}return d},updateAttributes:function(d){if(!d.animating){return {}}var e={},j=!1,f=d.timers,i=d.targets,h=a.draw.Animator.animationTime(),c,b,g;if(d.lastUpdate===h){return null}for(c in f){b=f[c];if(!b.start){b.start=h;g=0}else {g=(h-b.start)/b.duration}if(g>=1){e[c]=i[c];delete i[c];if(f[c].remove){e.removeFromInstance=e.removeFromInstance||{};e.removeFromInstance[c]=!0}delete f[c]}else {e[c]=b.serve(b.compute(b.source,b.target,b.easing(g),d[c]));j=!0}}d.lastUpdate=h;this.setAnimating(d,j);return e},pushDown:function(c,b){b=this.callParent([c.targets,b]);return this.setAttrs(c,b)},popUp:function(b,c){b=b.prototype;c=this.setAttrs(b,c);if(this._upper){return this._upper.popUp(b,c)}else {return a.apply(b,c)}},step:function(h){var b=this,f=b.animatingPool.slice(),g=f.length,e=0,d,c;for(;e<g;e++){d=f[e];c=b.updateAttributes(d);if(c&&b._upper){b._upper.popUp(d,c)}}},stop:function(){this.step();var b=this,d=b.animatingPool,c,e;for(c=0,e=d.length;c<e;c++){d[c].animating=!1}b.animatingPool.length=0;b.animating=0;a.draw.Animator.remove(b)},destroy:function(){a.draw.Animator.remove(this);this.callParent()}});a.define('Ext.draw.modifier.Highlight',{extend:'Ext.draw.modifier.Modifier',alias:'modifier.highlight',config:{enabled:!1,style:null},preFx:!0,applyStyle:function(c,b){b=b||{};if(this.getSprite()){a.apply(b,this.getSprite().self.def.normalize(c))}else {a.apply(b,c)}return b},prepareAttributes:function(b){if(!b.hasOwnProperty('highlightOriginal')){b.highlighted=!1;b.highlightOriginal=a.Object.chain(b);b.highlightOriginal.prototype=b;b.highlightOriginal.removeFromInstance={}}if(this._lower){this._lower.prepareAttributes(b.highlightOriginal)}},updateSprite:function(b,f){var d=this,e=d.getStyle(),c;if(b){c=b.self.def;if(e){d._style=c.normalize(e)}d.setStyle(b.config.highlight);c.setConfig({defaults:{highlighted:!1},processors:{highlighted:'bool'}})}this.setSprite(b)},filterChanges:function(d,c){var g=this,e=d.highlightOriginal,f=g.getStyle(),b;if(d.highlighted){for(b in c){if(f.hasOwnProperty(b)){e[b]=c[b];delete c[b]}}}return c},pushDown:function(e,b){var g=this.getStyle(),d=e.highlightOriginal,h=d.removeFromInstance,f,c,i,j;if(b.hasOwnProperty('highlighted')){f=b.highlighted;delete b.highlighted;if(this._lower){b=this._lower.pushDown(d,b)}b=this.filterChanges(e,b);if(f!==e.highlighted){if(f){for(c in g){if(c in b){d[c]=b[c]}else {i=e.template&&e.template.ownAttr;if(i&&!e.prototype.hasOwnProperty(c)){h[c]=!0;d[c]=i.targets[c]}else {j=d.timers[c];if(j&&j.remove){h[c]=!0}d[c]=e[c]}}if(d[c]!==g[c]){b[c]=g[c]}}}else {for(c in g){if(!(c in b)){b[c]=d[c]}delete d[c]}b.removeFromInstance=b.removeFromInstance||{};a.apply(b.removeFromInstance,h);d.removeFromInstance={}}b.highlighted=f}}else {if(this._lower){b=this._lower.pushDown(d,b)}b=this.filterChanges(e,b)}return b},popUp:function(c,b){b=this.filterChanges(c,b);this.callParent([c,b])}});a.define('Ext.draw.sprite.Sprite',{alias:'sprite.sprite',mixins:{observable:'Ext.mixin.Observable'},requires:['Ext.draw.Draw','Ext.draw.gradient.Gradient','Ext.draw.sprite.AttributeDefinition','Ext.draw.modifier.Target','Ext.draw.modifier.Animation','Ext.draw.modifier.Highlight'],isSprite:!0,$configStrict:!1,statics:{defaultHitTestOptions:{fill:!0,stroke:!0},debug:!1},inheritableStatics:{def:{processors:{debug:'default',strokeStyle:'color',fillStyle:'color',strokeOpacity:'limited01',fillOpacity:'limited01',lineWidth:'number',lineCap:'enums(butt,round,square)',lineJoin:'enums(round,bevel,miter)',lineDash:'data',lineDashOffset:'number',miterLimit:'number',shadowColor:'color',shadowOffsetX:'number',shadowOffsetY:'number',shadowBlur:'number',globalAlpha:'limited01',globalCompositeOperation:'enums(source-over,destination-over,source-in,destination-in,source-out,destination-out,source-atop,destination-atop,lighter,xor,copy)',hidden:'bool',transformFillStroke:'bool',zIndex:'number',translationX:'number',translationY:'number',rotationRads:'number',rotationCenterX:'number',rotationCenterY:'number',scalingX:'number',scalingY:'number',scalingCenterX:'number',scalingCenterY:'number',constrainGradients:'bool'},aliases:{'stroke':'strokeStyle','fill':'fillStyle','color':'fillStyle','stroke-width':'lineWidth','stroke-linecap':'lineCap','stroke-linejoin':'lineJoin','stroke-miterlimit':'miterLimit','text-anchor':'textAlign','opacity':'globalAlpha',translateX:'translationX',translateY:'translationY',rotateRads:'rotationRads',rotateCenterX:'rotationCenterX',rotateCenterY:'rotationCenterY',scaleX:'scalingX',scaleY:'scalingY',scaleCenterX:'scalingCenterX',scaleCenterY:'scalingCenterY'},defaults:{hidden:!1,zIndex:0,strokeStyle:'none',fillStyle:'none',lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:'butt',lineJoin:'miter',miterLimit:10,shadowColor:'none',shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,globalAlpha:1,strokeOpacity:1,fillOpacity:1,transformFillStroke:!1,translationX:0,translationY:0,rotationRads:0,rotationCenterX:null,rotationCenterY:null,scalingX:1,scalingY:1,scalingCenterX:null,scalingCenterY:null,constrainGradients:!1},triggers:{zIndex:'zIndex',globalAlpha:'canvas',globalCompositeOperation:'canvas',transformFillStroke:'canvas',strokeStyle:'canvas',fillStyle:'canvas',strokeOpacity:'canvas',fillOpacity:'canvas',lineWidth:'canvas',lineCap:'canvas',lineJoin:'canvas',lineDash:'canvas',lineDashOffset:'canvas',miterLimit:'canvas',shadowColor:'canvas',shadowOffsetX:'canvas',shadowOffsetY:'canvas',shadowBlur:'canvas',translationX:'transform',translationY:'transform',rotationRads:'transform',rotationCenterX:'transform',rotationCenterY:'transform',scalingX:'transform',scalingY:'transform',scalingCenterX:'transform',scalingCenterY:'transform',constrainGradients:'canvas'},updaters:{bbox:'bboxUpdater',zIndex:function(b){b.dirtyZIndex=!0},transform:function(b){b.dirtyTransform=!0;b.bbox.transform.dirty=!0}}}},config:{parent:null,surface:null},onClassExtended:function(b,c){var d=b.superclass.self.def.initialConfig,e=c.inheritableStatics&&c.inheritableStatics.def,f;if(e){f=a.Object.merge({},d,e);b.def=new a.draw.sprite.AttributeDefinition(f);delete c.inheritableStatics.def}else {b.def=new a.draw.sprite.AttributeDefinition(d)}b.def.spriteClass=b},constructor:function(c){if(a.getClassName(this)==='Ext.draw.sprite.Sprite'){throw 'Ext.draw.sprite.Sprite is an abstract class'}var b=this,e=b.self.def,h=e.getDefaults(),g=e.getProcessors(),f,d;c=a.isObject(c)?c:{};b.id=c.id||a.id(null,'ext-sprite-');b.attr={};b.mixins.observable.constructor.apply(b,arguments);f=a.Array.from(c.modifiers,!0);b.createModifiers(f);b.initializeAttributes();b.setAttributes(h,!0);for(d in c){if(d in g&&b['get'+d.charAt(0).toUpperCase()+d.substr(1)]){a.raise('The '+b.$className+' sprite has both a config and an attribute with the same name: '+d+'.')}}b.setAttributes(c)},updateSurface:function(c,b){if(b){b.remove(this)}},getDirty:function(){return this.attr.dirty},setDirty:function(c){this.attr.dirty=c;if(c){var b=this.getParent();if(b){b.setDirty(!0)}}},addModifier:function(b,h){var f=this,c=f.modifiers,e=c.animation,g=c.target,d;if(!(b instanceof a.draw.modifier.Modifier)){d=typeof b==='string'?b:b.type;if(d&&!c[d]){c[d]=b=a.factory(b,null,null,'modifier')}}b.setSprite(f);if(b.preFx||b.config&&b.config.preFx){if(e._lower){e._lower.setUpper(b)}b.setUpper(e)}else {g._lower.setUpper(b);b.setUpper(g)}if(h){f.initializeAttributes()}return b},createModifiers:function(e){var b=this,f=a.draw.modifier,h=b.getInitialConfig().animation,c,d,g;b.modifiers=c={target:new f.Target({sprite:b}),animation:new f.Animation(a.apply({sprite:b},h))};c.animation.setUpper(c.target);for(d=0,g=e.length;d<g;d++){b.addModifier(e[d],!1)}return c},getAnimation:function(){return this.modifiers.animation},setAnimation:function(b){if(!this.isConfiguring){this.modifiers.animation.setConfig(b||{duration:0})}},initializeAttributes:function(){this.modifiers.target.prepareAttributes(this.attr)},callUpdaters:function(e){e=e||this.attr;var c=this,g=e.pendingUpdaters,j=c.self.def.getUpdaters(),f=!1,h=!1,i,d,b;c.callUpdaters=a.emptyFn;do{f=!1;for(d in g){f=!0;i=g[d];delete g[d];b=j[d];if(typeof b==='string'){b=c[b]}if(b){b.call(c,e,i)}}h=h||f}while(f);delete c.callUpdaters;if(h){c.setDirty(!0)}},callUpdater:function(b,d,c){this.scheduleUpdater(b,d,c);this.callUpdaters(b)},scheduleUpdaters:function(e,d,c){var b;e=e||this.attr;if(c){for(var f=0,g=d.length;f<g;f++){b=d[f];this.scheduleUpdater(e,b,c)}}else {for(b in d){c=d[b];this.scheduleUpdater(e,b,c)}}},scheduleUpdater:function(e,d,b){b=b||[];e=e||this.attr;var c=e.pendingUpdaters;if(d in c){if(b.length){c[d]=a.Array.merge(c[d],b)}}else {c[d]=b}},setAttributes:function(d,e,f){var c=this,b;if(c.destroyed){a.Error.raise('Setting attributes of a destroyed sprite.')}if(e){if(f){b=d}else {b=a.apply({},d)}}else {b=c.self.def.normalize(d)}c.modifiers.target.pushDown(c.attr,b)},setAttributesBypassingNormalization:function(c,b){return this.setAttributes(c,!0,b)},bboxUpdater:function(b){var e=b.rotationRads!==0,f=b.scalingX!==1||b.scalingY!==1,c=b.rotationCenterX===null||b.rotationCenterY===null,d=b.scalingCenterX===null||b.scalingCenterY===null;b.bbox.plain.dirty=!0;b.bbox.transform.dirty=!0;if(e&&c||f&&d){this.scheduleUpdater(b,'transform')}},getBBox:function(f){var d=this,g=d.attr,e=g.bbox,b=e.plain,c=e.transform;if(b.dirty){d.updatePlainBBox(b);b.dirty=!1}if(!f){d.applyTransformations();if(c.dirty){d.updateTransformedBBox(c,b);c.dirty=!1}return c}return b},updatePlainBBox:a.emptyFn,updateTransformedBBox:function(b,c){this.attr.matrix.transformBBox(c,0,b)},getBBoxCenter:function(c){var b=this.getBBox(c);if(b){return [b.x+b.width*0.5,b.y+b.height*0.5]}else {return [0,0]}},hide:function(){this.attr.hidden=!0;this.setDirty(!0);return this},show:function(){this.attr.hidden=!1;this.setDirty(!0);return this},useAttributes:function(b,j){this.applyTransformations(this.isSpriteInstance);var i=this.attr,c=i.canvasAttributes,e=c.strokeStyle,f=c.fillStyle,h=c.lineDash,g=c.lineDashOffset,d;if(e){if(e.isGradient){b.strokeStyle='black';b.strokeGradient=e}else {b.strokeGradient=!1}}if(f){if(f.isGradient){b.fillStyle='black';b.fillGradient=f}else {b.fillGradient=!1}}if(h){b.setLineDash(h)}if(a.isNumber(g)&&a.isNumber(b.lineDashOffset)){b.lineDashOffset=g}for(d in c){if(c[d]!==undefined&&c[d]!==b[d]){b[d]=c[d]}}this.setGradientBBox(b,j)},setGradientBBox:function(d,b){var c=this.attr;if(c.constrainGradients){d.setGradientBBox({x:b[0],y:b[1],width:b[2],height:b[3]})}else {d.setGradientBBox(this.getBBox(c.transformFillStroke))}},applyTransformations:function(r){if(!r&&!this.attr.dirtyTransform){return}var q=this,b=q.attr,n=q.getBBoxCenter(!0),l=n[0],m=n[1],s=b.translationX,t=b.translationY,e=b.scalingX,f=b.scalingY===null?b.scalingX:b.scalingY,o=b.scalingCenterX===null?l:b.scalingCenterX,p=b.scalingCenterY===null?m:b.scalingCenterY,i=b.rotationRads,j=b.rotationCenterX===null?l:b.rotationCenterX,k=b.rotationCenterY===null?m:b.rotationCenterY,c=Math.cos(i),d=Math.sin(i),g,h;if(e===1&&f===1){o=0;p=0}if(i===0){j=0;k=0}g=o*(1-e)-j;h=p*(1-f)-k;b.matrix.elements=[c*e,d*e,-d*f,c*f,c*g-d*h+j+s,d*g+c*h+k+t];b.matrix.inverse(b.inverseMatrix);b.dirtyTransform=!1;b.bbox.transform.dirty=!0},transform:function(c,f){var d=this.attr,e=d.matrix,b;if(c&&c.isMatrix){b=c.elements}else {b=c}if(!(a.isArray(b)&&b.length===6)){a.raise('An instance of Ext.draw.Matrix or an array of 6 numbers is expected.')}e.prepend.apply(e,b.slice());e.inverse(d.inverseMatrix);if(f){this.updateTransformAttributes()}d.dirtyTransform=!1;d.bbox.transform.dirty=!0;this.setDirty(!0);return this},updateTransformAttributes:function(){var b=this.attr,c=b.matrix.split();b.rotationRads=c.rotate;b.rotationCenterX=0;b.rotationCenterY=0;b.scalingX=c.scaleX;b.scalingY=c.scaleY;b.scalingCenterX=0;b.scalingCenterY=0;b.translationX=c.translateX;b.translationY=c.translateY},resetTransform:function(c){var b=this.attr;b.matrix.reset();b.inverseMatrix.reset();if(!c){this.updateTransformAttributes()}b.dirtyTransform=!1;b.bbox.transform.dirty=!0;this.setDirty(!0);return this},setTransform:function(c,b){this.resetTransform(!0);this.transform.call(this,c,b);return this},preRender:a.emptyFn,render:a.emptyFn,renderBBox:function(d,c){var b=this.getBBox();c.beginPath();c.moveTo(b.x,b.y);c.lineTo(b.x+b.width,b.y);c.lineTo(b.x+b.width,b.y+b.height);c.lineTo(b.x,b.y+b.height);c.closePath();c.strokeStyle='red';c.strokeOpacity=1;c.lineWidth=0.5;c.stroke()},hitTest:function(c,g){if(this.isVisible()){var d=c[0],e=c[1],b=this.getBBox(),f=b&&d>=b.x&&d<=b.x+b.width&&e>=b.y&&e<=b.y+b.height;if(f){return {sprite:this}}}return null},isVisible:function(){var b=this.attr,c=this.getParent(),f=c&&(c.isSurface||c.isVisible()),i=f&&!b.hidden&&b.globalAlpha,d=a.util.Color.NONE,e=a.util.Color.RGBA_NONE,h=b.fillOpacity&&b.fillStyle!==d&&b.fillStyle!==e,g=b.strokeOpacity&&b.strokeStyle!==d&&b.strokeStyle!==e,j=i&&(h||g);return !!j},repaint:function(){var b=this.getSurface();if(b){b.renderFrame()}},remove:function(){var b=this.getSurface();if(b&&b.isSurface){return b.remove(this)}return null},destroy:function(){var b=this,c=b.modifiers.target,d;while(c){d=c;c=c._lower;d.destroy()}delete b.attr;b.remove();if(b.fireEvent('beforedestroy',b)!==!1){b.fireEvent('destroy',b)}b.callParent()}},function(){this.def=new a.draw.sprite.AttributeDefinition(this.def);this.def.spriteClass=this});a.define('Ext.draw.Path',{requires:['Ext.draw.Draw'],statics:{pathRe:/,?([achlmqrstvxz]),?/gi,pathRe2:/-/gi,pathSplitRe:/\s|,/g},svgString:'',constructor:function(c){var b=this;b.commands=[];b.params=[];b.cursor=null;b.startX=0;b.startY=0;if(c){b.fromSvgString(c)}},clear:function(){var b=this;b.params.length=0;b.commands.length=0;b.cursor=null;b.startX=0;b.startY=0;b.dirt()},dirt:function(){this.svgString=''},moveTo:function(c,d){var b=this;if(!b.cursor){b.cursor=[c,d]}b.params.push(c,d);b.commands.push('M');b.startX=c;b.startY=d;b.cursor[0]=c;b.cursor[1]=d;b.dirt()},lineTo:function(c,d){var b=this;if(!b.cursor){b.cursor=[c,d];b.params.push(c,d);b.commands.push('M')}else {b.params.push(c,d);b.commands.push('L')}b.cursor[0]=c;b.cursor[1]=d;b.dirt()},bezierCurveTo:function(c,d,g,h,e,f){var b=this;if(!b.cursor){b.moveTo(c,d)}b.params.push(c,d,g,h,e,f);b.commands.push('C');b.cursor[0]=e;b.cursor[1]=f;b.dirt()},quadraticCurveTo:function(c,d,e,f){var b=this;if(!b.cursor){b.moveTo(c,d)}b.bezierCurveTo((2*c+b.cursor[0])/3,(2*d+b.cursor[1])/3,(2*c+e)/3,(2*d+f)/3,e,f)},closePath:function(){var b=this;if(b.cursor){b.cursor=null;b.commands.push('Z');b.dirt()}},arcTo:function(m,n,f,g,e,c,o){var j=this;if(c===undefined){c=e}if(o===undefined){o=0}if(!j.cursor){j.moveTo(m,n);return}if(e===0||c===0){j.lineTo(m,n);return}f-=m;g-=n;var h=j.cursor[0]-m,i=j.cursor[1]-n,r=f*i-g*h,k,l,y,A,z,B,w=Math.sqrt(h*h+i*i),x=Math.sqrt(f*f+g*g),u,d,b;if(r===0){j.lineTo(m,n);return}if(c!==e){k=Math.cos(o);l=Math.sin(o);y=k/e;A=l/c;z=-l/e;B=k/c;var v=y*h+A*i;i=z*h+B*i;h=v;v=y*f+A*g;g=z*f+B*g;f=v}else {h/=e;i/=c;f/=e;g/=c}d=h*x+f*w;b=i*x+g*w;u=1/(Math.sin(Math.asin(Math.abs(r)/(w*x))*0.5)*Math.sqrt(d*d+b*b));d*=u;b*=u;var C=(d*h+b*i)/(h*h+i*i),D=(d*f+b*g)/(f*f+g*g);var s=h*C-d,t=i*C-b,E=f*D-d,F=g*D-b,p=Math.atan2(t,s),q=Math.atan2(F,E);if(r>0){if(q<p){q+=Math.PI*2}}else {if(p<q){p+=Math.PI*2}}if(c!==e){d=k*d*e-l*b*c+m;b=l*b*c+k*b*c+n;j.lineTo(k*e*s-l*c*t+d,l*e*s+k*c*t+b);j.ellipse(d,b,e,c,o,p,q,r<0)}else {d=d*e+m;b=b*c+n;j.lineTo(e*s+d,c*t+b);j.ellipse(d,b,e,c,o,p,q,r<0)}},ellipse:function(k,l,i,j,h,e,f,m){var c=this,b=c.params,p=b.length,n,d,g;if(f-e>=Math.PI*2){c.ellipse(k,l,i,j,h,e,e+Math.PI,m);c.ellipse(k,l,i,j,h,e+Math.PI,f,m);return}if(!m){if(f<e){f+=Math.PI*2}n=c.approximateArc(b,k,l,i,j,h,e,f)}else {if(e<f){e+=Math.PI*2}n=c.approximateArc(b,k,l,i,j,h,f,e);for(d=p,g=b.length-2;d<g;d+=2,g-=2){var o=b[d];b[d]=b[g];b[g]=o;o=b[d+1];b[d+1]=b[g+1];b[g+1]=o}}if(!c.cursor){c.cursor=[b[b.length-2],b[b.length-1]];c.commands.push('M')}else {c.cursor[0]=b[b.length-2];c.cursor[1]=b[b.length-1];c.commands.push('L')}for(d=2;d<n;d+=6){c.commands.push('C')}c.dirt()},arc:function(f,g,b,d,e,c){this.ellipse(f,g,b,b,0,d,e,c)},rect:function(c,d,f,e){if(f==0||e==0){return}var b=this;b.moveTo(c,d);b.lineTo(c+f,d);b.lineTo(c+f,d+e);b.lineTo(c,d+e);b.closePath()},approximateArc:function(t,g,h,r,s,z,u,b){var n=Math.cos(z),o=Math.sin(z),l=Math.cos(u),m=Math.sin(u),A=n*l*r-o*m*s,C=-n*m*r-o*l*s,B=o*l*r+n*m*s,D=-o*m*r+n*l*s,y=Math.PI/2,v=2,e=A,c=C,f=B,d=D,q=0.547443256150549,p,j,i,k,w,x;b-=u;if(b<0){b+=Math.PI*2}t.push(A+g,B+h);while(b>=y){t.push(e+c*q+g,f+d*q+h,e*q+c+g,f*q+d+h,c+g,d+h);v+=6;b-=y;p=e;e=c;c=-p;p=f;f=d;d=-p}if(b){j=(0.3294738052815987+0.012120855841304373*b)*b;i=Math.cos(b);k=Math.sin(b);w=i+j*k;x=k-j*i;t.push(e+c*j+g,f+d*j+h,e*w+c*x+g,f*w+d*x+h,e*i+c*k+g,f*i+d*k+h);v+=6}return v},arcSvg:function(c,d,j,z,n,w,y){if(c<0){c=-c}if(d<0){d=-d}var o=this,v=o.cursor[0],x=o.cursor[1],r=(v-w)/2,s=(x-y)/2,h=Math.cos(j),i=Math.sin(j),p=r*h+s*i,q=-r*i+s*h,l=p/c,m=q/d,b=l*l+m*m,t=(v+w)*0.5,u=(x+y)*0.5,f=0,g=0;if(b>=1){b=Math.sqrt(b);c*=b;d*=b}else {b=Math.sqrt(1/b-1);if(z===n){b=-b}f=b*c*m;g=-b*d*l;t+=h*f-i*g;u+=i*f+h*g}var k=Math.atan2((q-g)/d,(p-f)/c),e=Math.atan2((-q-g)/d,(-p-f)/c)-k;if(n){if(e<=0){e+=Math.PI*2}}else {if(e>=0){e-=Math.PI*2}}o.ellipse(t,u,c,d,j,k,k+e,1-n)},fromSvgString:function(l){if(!l){return}var f=this,c,h={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0,A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},i='',j,k,d=0,e=0,m=!1,b,g,n;if(a.isString(l)){c=l.replace(a.draw.Path.pathRe,' $1 ').replace(a.draw.Path.pathRe2,' -').split(a.draw.Path.pathSplitRe)}else {if(a.isArray(l)){c=l.join(',').split(a.draw.Path.pathSplitRe)}}for(b=0,g=0;b<c.length;b++){if(c[b]!==''){c[g++]=c[b]}}c.length=g;f.clear();for(b=0;b<c.length;){i=m;m=c[b];n=m.toUpperCase()!==m;b++;switch(m){case 'M':f.moveTo(d=+c[b],e=+c[b+1]);b+=2;while(b<g&&!h.hasOwnProperty(c[b])){f.lineTo(d=+c[b],e=+c[b+1]);b+=2};break;case 'L':f.lineTo(d=+c[b],e=+c[b+1]);b+=2;while(b<g&&!h.hasOwnProperty(c[b])){f.lineTo(d=+c[b],e=+c[b+1]);b+=2};break;case 'A':while(b<g&&!h.hasOwnProperty(c[b])){f.arcSvg(+c[b],+c[b+1],+c[b+2]*Math.PI/180,+c[b+3],+c[b+4],d=+c[b+5],e=+c[b+6]);b+=7};break;case 'C':while(b<g&&!h.hasOwnProperty(c[b])){f.bezierCurveTo(+c[b],+c[b+1],j=+c[b+2],k=+c[b+3],d=+c[b+4],e=+c[b+5]);b+=6};break;case 'Z':f.closePath();break;case 'm':f.moveTo(d+=+c[b],e+=+c[b+1]);b+=2;while(b<g&&!h.hasOwnProperty(c[b])){f.lineTo(d+=+c[b],e+=+c[b+1]);b+=2};break;case 'l':f.lineTo(d+=+c[b],e+=+c[b+1]);b+=2;while(b<g&&!h.hasOwnProperty(c[b])){f.lineTo(d+=+c[b],e+=+c[b+1]);b+=2};break;case 'a':while(b<g&&!h.hasOwnProperty(c[b])){f.arcSvg(+c[b],+c[b+1],+c[b+2]*Math.PI/180,+c[b+3],+c[b+4],d+=+c[b+5],e+=+c[b+6]);b+=7};break;case 'c':while(b<g&&!h.hasOwnProperty(c[b])){f.bezierCurveTo(d+ +c[b],e+ +c[b+1],j=d+ +c[b+2],k=e+ +c[b+3],d+=+c[b+4],e+=+c[b+5]);b+=6};break;case 'z':f.closePath();break;case 's':if(!(i==='c'||i==='C'||i==='s'||i==='S')){j=d;k=e};while(b<g&&!h.hasOwnProperty(c[b])){f.bezierCurveTo(d+d-j,e+e-k,j=d+ +c[b],k=e+ +c[b+1],d+=+c[b+2],e+=+c[b+3]);b+=4};break;case 'S':if(!(i==='c'||i==='C'||i==='s'||i==='S')){j=d;k=e};while(b<g&&!h.hasOwnProperty(c[b])){f.bezierCurveTo(d+d-j,e+e-k,j=+c[b],k=+c[b+1],d=+c[b+2],e=+c[b+3]);b+=4};break;case 'q':while(b<g&&!h.hasOwnProperty(c[b])){f.quadraticCurveTo(j=d+ +c[b],k=e+ +c[b+1],d+=+c[b+2],e+=+c[b+3]);b+=4};break;case 'Q':while(b<g&&!h.hasOwnProperty(c[b])){f.quadraticCurveTo(j=+c[b],k=+c[b+1],d=+c[b+2],e=+c[b+3]);b+=4};break;case 't':if(!(i==='q'||i==='Q'||i==='t'||i==='T')){j=d;k=e};while(b<g&&!h.hasOwnProperty(c[b])){f.quadraticCurveTo(j=d+d-j,k=e+e-k,d+=+c[b+1],e+=+c[b+2]);b+=2};break;case 'T':if(!(i==='q'||i==='Q'||i==='t'||i==='T')){j=d;k=e};while(b<g&&!h.hasOwnProperty(c[b])){f.quadraticCurveTo(j=d+d-j,k=e+e-k,d=+c[b+1],e=+c[b+2]);b+=2};break;case 'h':while(b<g&&!h.hasOwnProperty(c[b])){f.lineTo(d+=+c[b],e);b++};break;case 'H':while(b<g&&!h.hasOwnProperty(c[b])){f.lineTo(d=+c[b],e);b++};break;case 'v':while(b<g&&!h.hasOwnProperty(c[b])){f.lineTo(d,e+=+c[b]);b++};break;case 'V':while(b<g&&!h.hasOwnProperty(c[b])){f.lineTo(d,e=+c[b]);b++};break;}}},clone:function(){var c=this,b=new a.draw.Path();b.params=c.params.slice(0);b.commands=c.commands.slice(0);b.cursor=c.cursor?c.cursor.slice(0):null;b.startX=c.startX;b.startY=c.startY;b.svgString=c.svgString;return b},transform:function(b){if(b.isIdentity()){return}var j=b.getXX(),l=b.getYX(),g=b.getDX(),k=b.getXY(),m=b.getYY(),h=b.getDY(),d=this.params,c=0,i=d.length,e,f;for(;c<i;c+=2){e=d[c];f=d[c+1];d[c]=e*j+f*l+g;d[c+1]=e*k+f*m+h}this.dirt()},getDimension:function(b){if(!b){b={}}if(!this.commands||!this.commands.length){b.x=0;b.y=0;b.width=0;b.height=0;return b}b.left=Infinity;b.top=Infinity;b.right=-Infinity;b.bottom=-Infinity;var g=0,c=0,h=this.commands,d=this.params,i=h.length,e,f;for(;g<i;g++){switch(h[g]){case 'M':case 'L':e=d[c];f=d[c+1];b.left=Math.min(e,b.left);b.top=Math.min(f,b.top);b.right=Math.max(e,b.right);b.bottom=Math.max(f,b.bottom);c+=2;break;case 'C':this.expandDimension(b,e,f,d[c],d[c+1],d[c+2],d[c+3],e=d[c+4],f=d[c+5]);c+=6;break;}}b.x=b.left;b.y=b.top;b.width=b.right-b.left;b.height=b.bottom-b.top;return b},getDimensionWithTransform:function(e,b){if(!this.commands||!this.commands.length){if(!b){b={}}b.x=0;b.y=0;b.width=0;b.height=0;return b}b.left=Infinity;b.top=Infinity;b.right=-Infinity;b.bottom=-Infinity;var j=e.getXX(),l=e.getYX(),h=e.getDX(),k=e.getXY(),m=e.getYY(),i=e.getDY(),n=0,c=0,o=this.commands,d=this.params,p=o.length,f,g;for(;n<p;n++){switch(o[n]){case 'M':case 'L':f=d[c]*j+d[c+1]*l+h;g=d[c]*k+d[c+1]*m+i;b.left=Math.min(f,b.left);b.top=Math.min(g,b.top);b.right=Math.max(f,b.right);b.bottom=Math.max(g,b.bottom);c+=2;break;case 'C':this.expandDimension(b,f,g,d[c]*j+d[c+1]*l+h,d[c]*k+d[c+1]*m+i,d[c+2]*j+d[c+3]*l+h,d[c+2]*k+d[c+3]*m+i,f=d[c+4]*j+d[c+5]*l+h,g=d[c+4]*k+d[c+5]*m+i);c+=6;break;}}if(!b){b={}}b.x=b.left;b.y=b.top;b.width=b.right-b.left;b.height=b.bottom-b.top;return b},expandDimension:function(b,m,o,i,k,j,l,n,p){var d=this,f=b.left,g=b.right,h=b.top,e=b.bottom,c=d.dim||(d.dim=[]);d.curveDimension(m,i,j,n,c);f=Math.min(f,c[0]);g=Math.max(g,c[1]);d.curveDimension(o,k,l,p,c);h=Math.min(h,c[0]);e=Math.max(e,c[1]);b.left=f;b.right=g;b.top=h;b.bottom=e},curveDimension:function(f,h,k,i,l){var m=3*(-f+3*(h-k)+i),j=6*(f-2*h+k),n=-3*(f-h),b,c,e=Math.min(f,i),d=Math.max(f,i),g;if(m===0){if(j===0){l[0]=e;l[1]=d;return}else {b=-n/j;if(0<b&&b<1){c=this.interpolate(f,h,k,i,b);e=Math.min(e,c);d=Math.max(d,c)}}}else {g=j*j-4*m*n;if(g>=0){g=Math.sqrt(g);b=(g-j)/2/m;if(0<b&&b<1){c=this.interpolate(f,h,k,i,b);e=Math.min(e,c);d=Math.max(d,c)}if(g>0){b-=g/m;if(0<b&&b<1){c=this.interpolate(f,h,k,i,b);e=Math.min(e,c);d=Math.max(d,c)}}}}l[0]=e;l[1]=d},interpolate:function(d,f,g,e,b){if(b===0){return d}if(b===1){return e}var c=(1-b)/b;return b*b*b*(e+c*(3*g+c*(3*f+c*d)))},fromStripes:function(f){var b=this,d=0,h=f.length,e,g,c;b.clear();for(;d<h;d++){c=f[d];b.params.push.apply(b.params,c);b.commands.push('M');for(e=2,g=c.length;e<g;e+=6){b.commands.push('C')}}if(!b.cursor){b.cursor=[]}b.cursor[0]=b.params[b.params.length-2];b.cursor[1]=b.params[b.params.length-1];b.dirt()},toStripes:function(n){var k=n||[],h,f,g,d,e,l,m,i,b,j=this.commands,c=this.params,o=j.length;for(i=0,b=0;i<o;i++){switch(j[i]){case 'M':h=[l=d=c[b++],m=e=c[b++]];k.push(h);break;case 'L':f=c[b++];g=c[b++];h.push((d+d+f)/3,(e+e+g)/3,(d+f+f)/3,(e+g+g)/3,d=f,e=g);break;case 'C':h.push(c[b++],c[b++],c[b++],c[b++],d=c[b++],e=c[b++]);break;case 'Z':f=l;g=m;h.push((d+d+f)/3,(e+e+g)/3,(d+f+f)/3,(e+g+g)/3,d=f,e=g);break;}}return k},updateSvgString:function(){var d=[],f=this.commands,c=this.params,g=f.length,e=0,b=0;for(;e<g;e++){switch(f[e]){case 'M':d.push('M'+c[b]+','+c[b+1]);b+=2;break;case 'L':d.push('L'+c[b]+','+c[b+1]);b+=2;break;case 'C':d.push('C'+c[b]+','+c[b+1]+' '+c[b+2]+','+c[b+3]+' '+c[b+4]+','+c[b+5]);b+=6;break;case 'Z':d.push('Z');break;}}this.svgString=d.join('')},toString:function(){if(!this.svgString){this.updateSvgString()}return this.svgString}});a.define('Ext.draw.overrides.hittest.Path',{override:'Ext.draw.Path',rayOrigin:{x:-10000,y:-10000},isPointInPath:function(k,l){var n=this,o=n.commands,i=a.draw.PathUtil,d=n.rayOrigin,c=n.params,p=o.length,g=null,m=null,e=0,f=0,h=0,j,b;for(j=0,b=0;j<p;j++){switch(o[j]){case 'M':if(g!==null){if(i.linesIntersection(g,m,e,f,d.x,d.y,k,l)){h+=1}};g=e=c[b];m=f=c[b+1];b+=2;break;case 'L':if(i.linesIntersection(e,f,c[b],c[b+1],d.x,d.y,k,l)){h+=1};e=c[b];f=c[b+1];b+=2;break;case 'C':h+=i.cubicLineIntersections(e,c[b],c[b+2],c[b+4],f,c[b+1],c[b+3],c[b+5],d.x,d.y,k,l).length;e=c[b+4];f=c[b+5];b+=6;break;case 'Z':if(g!==null){if(i.linesIntersection(g,m,e,f,d.x,d.y,k,l)){h+=1}};break;}}return h%2===1},isPointOnPath:function(i,j){var m=this,l=m.commands,g=a.draw.PathUtil,c=m.params,n=l.length,f=null,k=null,d=0,e=0,h,b;for(h=0,b=0;h<n;h++){switch(l[h]){case 'M':if(f!==null){if(g.pointOnLine(f,k,d,e,i,j)){return !0}};f=d=c[b];k=e=c[b+1];b+=2;break;case 'L':if(g.pointOnLine(d,e,c[b],c[b+1],i,j)){return !0};d=c[b];e=c[b+1];b+=2;break;case 'C':if(g.pointOnCubic(d,c[b],c[b+2],c[b+4],e,c[b+1],c[b+3],c[b+5],i,j)){return !0};d=c[b+4];e=c[b+5];b+=6;break;case 'Z':if(f!==null){if(g.pointOnLine(f,k,d,e,i,j)){return !0}};break;}}return !1},getSegmentIntersections:function(i,k,j,l,p,r,q,s){var v=this,o=arguments.length,h=a.draw.PathUtil,u=v.commands,c=v.params,w=u.length,m=null,n=null,f=0,g=0,e=[],t,b,d;for(t=0,b=0;t<w;t++){switch(u[t]){case 'M':if(m!==null){switch(o){case 4:d=h.linesIntersection(m,n,f,g,i,k,j,l);if(d){e.push(d)};break;case 8:d=h.cubicLineIntersections(i,j,p,q,k,l,r,s,m,n,f,g);e.push.apply(e,d);break;}};m=f=c[b];n=g=c[b+1];b+=2;break;case 'L':switch(o){case 4:d=h.linesIntersection(f,g,c[b],c[b+1],i,k,j,l);if(d){e.push(d)};break;case 8:d=h.cubicLineIntersections(i,j,p,q,k,l,r,s,f,g,c[b],c[b+1]);e.push.apply(e,d);break;};f=c[b];g=c[b+1];b+=2;break;case 'C':switch(o){case 4:d=h.cubicLineIntersections(f,c[b],c[b+2],c[b+4],g,c[b+1],c[b+3],c[b+5],i,k,j,l);e.push.apply(e,d);break;case 8:d=h.cubicsIntersections(f,c[b],c[b+2],c[b+4],g,c[b+1],c[b+3],c[b+5],i,j,p,q,k,l,r,s);e.push.apply(e,d);break;};f=c[b+4];g=c[b+5];b+=6;break;case 'Z':if(m!==null){switch(o){case 4:d=h.linesIntersection(m,n,f,g,i,k,j,l);if(d){e.push(d)};break;case 8:d=h.cubicLineIntersections(i,j,p,q,k,l,r,s,m,n,f,g);e.push.apply(e,d);break;}};break;}}return e},getIntersections:function(f){var m=this,l=m.commands,c=m.params,n=l.length,i=null,k=null,g=0,h=0,d=[],j,b,e;for(j=0,b=0;j<n;j++){switch(l[j]){case 'M':if(i!==null){e=f.getSegmentIntersections.call(f,i,k,g,h);d.push.apply(d,e)};i=g=c[b];k=h=c[b+1];b+=2;break;case 'L':e=f.getSegmentIntersections.call(f,g,h,c[b],c[b+1]);d.push.apply(d,e);g=c[b];h=c[b+1];b+=2;break;case 'C':e=f.getSegmentIntersections.call(f,g,h,c[b],c[b+1],c[b+2],c[b+3],c[b+4],c[b+5]);d.push.apply(d,e);g=c[b+4];h=c[b+5];b+=6;break;case 'Z':if(i!==null){e=f.getSegmentIntersections.call(f,i,k,g,h);d.push.apply(d,e)};break;}}return d}});a.define('Ext.draw.sprite.Path',{extend:'Ext.draw.sprite.Sprite',requires:['Ext.draw.Draw','Ext.draw.Path'],alias:['sprite.path','Ext.draw.Sprite'],type:'path',isPath:!0,inheritableStatics:{def:{processors:{path:function(b,c){if(!(b instanceof a.draw.Path)){b=new a.draw.Path(b)}return b}},aliases:{d:'path'},triggers:{path:'bbox'},updaters:{path:function(c){var b=c.path;if(!b||b.bindAttr!==c){b=new a.draw.Path();b.bindAttr=c;c.path=b}b.clear();this.updatePath(b,c);this.scheduleUpdater(c,'bbox',['path'])}}}},updatePlainBBox:function(b){if(this.attr.path){this.attr.path.getDimension(b)}},updateTransformedBBox:function(b){if(this.attr.path){this.attr.path.getDimensionWithTransform(this.attr.matrix,b)}},render:function(e,c){var f=this.attr.matrix,b=this.attr;if(!b.path||b.path.params.length===0){return}f.toContext(c);c.appendPath(b.path);c.fillStroke(b);var d=b.debug||this.statics().debug||a.draw.sprite.Sprite.debug;if(d){d.bbox&&this.renderBBox(e,c);d.xray&&this.renderXRay(e,c)}},renderXRay:function(n,d){var h=this.attr,l=h.matrix,j=h.inverseMatrix,k=h.path,g=k.commands,c=k.params,m=g.length,i=Math.PI*2,e=2,f,b;l.toContext(d);d.beginPath();for(f=0,b=0;f<m;f++){switch(g[f]){case 'M':d.moveTo(c[b]-e,c[b+1]-e);d.rect(c[b]-e,c[b+1]-e,e*2,e*2);b+=2;break;case 'L':d.moveTo(c[b]-e,c[b+1]-e);d.rect(c[b]-e,c[b+1]-e,e*2,e*2);b+=2;break;case 'C':d.moveTo(c[b]+e,c[b+1]);d.arc(c[b],c[b+1],e,0,i,!0);b+=2;d.moveTo(c[b]+e,c[b+1]);d.arc(c[b],c[b+1],e,0,i,!0);b+=2;d.moveTo(c[b]+e*2,c[b+1]);d.rect(c[b]-e,c[b+1]-e,e*2,e*2);b+=2;break;default:}}j.toContext(d);d.strokeStyle='black';d.strokeOpacity=1;d.lineWidth=1;d.stroke();l.toContext(d);d.beginPath();for(f=0,b=0;f<m;f++){switch(g[f]){case 'M':d.moveTo(c[b],c[b+1]);b+=2;break;case 'L':d.moveTo(c[b],c[b+1]);b+=2;break;case 'C':d.lineTo(c[b],c[b+1]);b+=2;d.moveTo(c[b],c[b+1]);b+=2;d.lineTo(c[b],c[b+1]);b+=2;break;default:}}j.toContext(d);d.lineWidth=0.5;d.stroke()},updatePath:function(c,b){}});a.define('Ext.draw.overrides.hittest.sprite.Path',{override:'Ext.draw.sprite.Path',requires:['Ext.draw.Color'],isPointInPath:function(f,g){var b=this.attr;if(b.fillStyle===a.util.Color.RGBA_NONE){return this.isPointOnPath(f,g)}var c=b.path,h=b.matrix,d,e;if(!h.isIdentity()){d=c.params.slice(0);c.transform(b.matrix)}e=c.isPointInPath(f,g);if(d){c.params=d}return e},isPointOnPath:function(g,h){var d=this.attr,b=d.path,f=d.matrix,c,e;if(!f.isIdentity()){c=b.params.slice(0);b.transform(d.matrix)}e=b.isPointOnPath(g,h);if(c){b.params=c}return e},hitTest:function(j,b){var e=this,f=e.attr,c=f.path,m=f.matrix,g=j[0],h=j[1],l=e.callParent([j,b]),d=null,i,k;if(!l){return d}b=b||a.draw.sprite.Sprite.defaultHitTestOptions;if(!m.isIdentity()){i=c.params.slice(0);c.transform(f.matrix)}if(b.fill&&b.stroke){k=f.fillStyle!==a.util.Color.NONE&&f.fillStyle!==a.util.Color.RGBA_NONE;if(k){if(c.isPointInPath(g,h)){d={sprite:e}}}else {if(c.isPointInPath(g,h)||c.isPointOnPath(g,h)){d={sprite:e}}}}else {if(b.stroke&&!b.fill){if(c.isPointOnPath(g,h)){d={sprite:e}}}else {if(b.fill&&!b.stroke){if(c.isPointInPath(g,h)){d={sprite:e}}}}}if(i){c.params=i}return d},getIntersections:function(h){if(!(h.isSprite&&h.isPath)){return []}var f=this.attr,g=h.attr,b=f.path,c=g.path,j=f.matrix,k=g.matrix,d,e,i;if(!j.isIdentity()){d=b.params.slice(0);b.transform(f.matrix)}if(!k.isIdentity()){e=c.params.slice(0);c.transform(g.matrix)}i=b.getIntersections(c);if(d){b.params=d}if(e){c.params=e}return i}});a.define('Ext.draw.sprite.Circle',{extend:'Ext.draw.sprite.Path',alias:'sprite.circle',type:'circle',inheritableStatics:{def:{processors:{cx:'number',cy:'number',r:'number'},aliases:{radius:'r',x:'cx',y:'cy',centerX:'cx',centerY:'cy'},defaults:{cx:0,cy:0,r:4},triggers:{cx:'path',cy:'path',r:'path'}}},updatePlainBBox:function(c){var d=this.attr,e=d.cx,f=d.cy,b=d.r;c.x=e-b;c.y=f-b;c.width=b+b;c.height=b+b},updateTransformedBBox:function(b){var d=this.attr,g=d.cx,h=d.cy,i=d.r,c=d.matrix,j=c.getScaleX(),k=c.getScaleY(),e,f;e=j*i;f=k*i;b.x=c.x(g,h)-e;b.y=c.y(g,h)-f;b.width=e+e;b.height=f+f},updatePath:function(c,b){c.arc(b.cx,b.cy,b.r,0,Math.PI*2,!1)}});a.define('Ext.draw.sprite.Arc',{extend:'Ext.draw.sprite.Circle',alias:'sprite.arc',type:'arc',inheritableStatics:{def:{processors:{startAngle:'number',endAngle:'number',anticlockwise:'bool'},aliases:{from:'startAngle',to:'endAngle',start:'startAngle',end:'endAngle'},defaults:{startAngle:0,endAngle:Math.PI*2,anticlockwise:!1},triggers:{startAngle:'path',endAngle:'path',anticlockwise:'path'}}},updatePath:function(c,b){c.arc(b.cx,b.cy,b.r,b.startAngle,b.endAngle,b.anticlockwise)}});a.define('Ext.draw.sprite.Arrow',{extend:'Ext.draw.sprite.Path',alias:'sprite.arrow',inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'path'}}},updatePath:function(d,c){var b=c.size*1.5,e=c.x-c.lineWidth/2,f=c.y;d.fromSvgString('M'.concat(e-b*0.7,',',f-b*0.4,'l',[b*0.6,0,0,-b*0.4,b,b*0.8,-b,b*0.8,0,-b*0.4,-b*0.6,0],'z'))}});a.define('Ext.draw.sprite.Composite',{extend:'Ext.draw.sprite.Sprite',alias:'sprite.composite',type:'composite',isComposite:!0,config:{sprites:[]},constructor:function(b){this.sprites=[];this.map={};this.callParent([b])},addSprite:function(b){var e=0,d;if(a.isArray(b)){d=[];while(e<b.length){d.push(this.addSprite(b[e++]))}return d}if(b&&b.type&&!b.isSprite){b=a.create('sprite.'+b.type,b)}if(!b||!b.isSprite||b.isComposite){return null}b.setSurface(null);b.setParent(this);var c=this.attr,f=b.applyTransformations;b.applyTransformations=function(d){if(b.attr.dirtyTransform){c.dirtyTransform=!0;c.bbox.plain.dirty=!0;c.bbox.transform.dirty=!0}f.call(b,d)};this.sprites.push(b);this.map[b.id]=b.getId();c.bbox.plain.dirty=!0;c.bbox.transform.dirty=!0;return b},add:function(b){return this.addSprite(b)},removeSprite:function(b,f){var c=this,d,e;if(b){if(b.charAt){b=c.map[b]}if(!b||!b.isSprite){return null}if(b.destroyed||b.destroying){return b}d=b.getId();e=c.map[d];delete c.map[d];if(f){b.destroy()}if(!e){return b}b.setParent(null);a.Array.remove(c.sprites,b);c.dirtyZIndex=!0;c.setDirty(!0)}return b||null},addAll:function(b){if(b.isSprite||b.type){this.add(b)}else {if(a.isArray(b)){var c=0;while(c<b.length){this.add(b[c++])}}}},updatePlainBBox:function(c){var k=this,d=Infinity,i=-Infinity,e=Infinity,g=-Infinity,h,b,f,j;for(f=0,j=k.sprites.length;f<j;f++){h=k.sprites[f];h.applyTransformations();b=h.getBBox();if(d>b.x){d=b.x}if(i<b.x+b.width){i=b.x+b.width}if(e>b.y){e=b.y}if(g<b.y+b.height){g=b.y+b.height}}c.x=d;c.y=e;c.width=i-d;c.height=g-e},isVisible:function(){var c=this.attr,b=this.getParent(),d=b&&(b.isSurface||b.isVisible()),e=d&&!c.hidden&&c.globalAlpha;return !!e},render:function(f,c,i){var b=this,h=b.attr,j=b.attr.matrix,e=b.sprites,k=e.length,d=0;j.toContext(c);for(;d<k;d++){f.renderSprite(e[d],i)}var g=h.debug||b.statics().debug||a.draw.sprite.Sprite.debug;if(g){h.inverseMatrix.toContext(c);if(g.bbox){b.renderBBox(f,c)}}},destroy:function(){var d=this,c=d.sprites,e=c.length,b;for(b=0;b<e;b++){c[b].destroy()}c.length=0;d.callParent()}});a.define('Ext.draw.sprite.Cross',{extend:'Ext.draw.sprite.Path',alias:'sprite.cross',inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'path'}}},updatePath:function(d,c){var b=c.size/1.7,e=c.x-c.lineWidth/2,f=c.y;d.fromSvgString('M'.concat(e-b,',',f,'l',[-b,-b,b,-b,b,b,b,-b,b,b,-b,b,b,b,-b,b,-b,-b,-b,b,-b,-b,'z']))}});a.define('Ext.draw.sprite.Diamond',{extend:'Ext.draw.sprite.Path',alias:'sprite.diamond',inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'path'}}},updatePath:function(d,c){var b=c.size*1.25,e=c.x-c.lineWidth/2,f=c.y;d.fromSvgString(['M',e,f-b,'l',b,b,-b,b,-b,-b,b,-b,'z'])}});a.define('Ext.draw.sprite.Ellipse',{extend:'Ext.draw.sprite.Path',alias:'sprite.ellipse',type:'ellipse',inheritableStatics:{def:{processors:{cx:'number',cy:'number',rx:'number',ry:'number',axisRotation:'number'},aliases:{radius:'r',x:'cx',y:'cy',centerX:'cx',centerY:'cy',radiusX:'rx',radiusY:'ry'},defaults:{cx:0,cy:0,rx:1,ry:1,axisRotation:0},triggers:{cx:'path',cy:'path',rx:'path',ry:'path',axisRotation:'path'}}},updatePlainBBox:function(b){var c=this.attr,f=c.cx,g=c.cy,d=c.rx,e=c.ry;b.x=f-d;b.y=g-e;b.width=d+d;b.height=e+e},updateTransformedBBox:function(d){var c=this.attr,n=c.cx,k=c.cy,l=c.rx,q=c.ry,m=q/l,b=c.matrix.clone(),e,f,g,h,o,p,j,i;b.append(1,0,0,m,0,k*(1-m));e=b.getXX();g=b.getYX();o=b.getDX();f=b.getXY();h=b.getYY();p=b.getDY();j=Math.sqrt(e*e+g*g)*l;i=Math.sqrt(f*f+h*h)*l;d.x=n*e+k*g+o-j;d.y=n*f+k*h+p-i;d.width=j+j;d.height=i+i},updatePath:function(c,b){c.ellipse(b.cx,b.cy,b.rx,b.ry,b.axisRotation,0,Math.PI*2,!1)}});a.define('Ext.draw.sprite.EllipticalArc',{extend:'Ext.draw.sprite.Ellipse',alias:'sprite.ellipticalArc',type:'ellipticalArc',inheritableStatics:{def:{processors:{startAngle:'number',endAngle:'number',anticlockwise:'bool'},aliases:{from:'startAngle',to:'endAngle',start:'startAngle',end:'endAngle'},defaults:{startAngle:0,endAngle:Math.PI*2,anticlockwise:!1},triggers:{startAngle:'path',endAngle:'path',anticlockwise:'path'}}},updatePath:function(c,b){c.ellipse(b.cx,b.cy,b.rx,b.ry,b.axisRotation,b.startAngle,b.endAngle,b.anticlockwise)}});a.define('Ext.draw.sprite.Rect',{extend:'Ext.draw.sprite.Path',alias:'sprite.rect',type:'rect',inheritableStatics:{def:{processors:{x:'number',y:'number',width:'number',height:'number',radius:'number'},aliases:{},triggers:{x:'path',y:'path',width:'path',height:'path',radius:'path'},defaults:{x:0,y:0,width:8,height:8,radius:0}}},updatePlainBBox:function(b){var c=this.attr;b.x=c.x;b.y=c.y;b.width=c.width;b.height=c.height},updateTransformedBBox:function(b,c){this.attr.matrix.transformBBox(c,this.attr.radius,b)},updatePath:function(e,h){var b=h.x,c=h.y,g=h.width,f=h.height,d=Math.min(h.radius,Math.abs(f)*0.5,Math.abs(g)*0.5);if(d===0){e.rect(b,c,g,f)}else {e.moveTo(b+d,c);e.arcTo(b+g,c,b+g,c+f,d);e.arcTo(b+g,c+f,b,c+f,d);e.arcTo(b,c+f,b,c,d);e.arcTo(b,c,b+d,c,d);e.closePath()}}});a.define('Ext.draw.sprite.Image',{extend:'Ext.draw.sprite.Rect',alias:'sprite.image',type:'image',statics:{imageLoaders:{}},inheritableStatics:{def:{processors:{src:'string'},triggers:{src:'src'},updaters:{src:'updateSource'},defaults:{src:'',width:null,height:null}}},updateSurface:function(b){if(b){this.updateSource(this.attr)}},updateSource:function(f){var h=this,g=f.src,e=h.getSurface(),b=a.draw.sprite.Image.imageLoaders[g],j=f.width,i=f.height,d,c;if(!e){return}if(!b){d=new Image();b=a.draw.sprite.Image.imageLoaders[g]={image:d,done:!1,pendingSprites:[h],pendingSurfaces:[e]};d.width=j;d.height=i;d.onload=function(){var d;if(!b.done){b.done=!0;for(c=0;c<b.pendingSprites.length;c++){d=b.pendingSprites[c];if(!d.destroyed){d.setDirty(!0)}}for(c=0;c<b.pendingSurfaces.length;c++){d=b.pendingSurfaces[c];if(!d.destroyed){d.renderFrame()}}}};d.src=g}else {a.Array.include(b.pendingSprites,h);a.Array.include(b.pendingSurfaces,e)}},render:function(e,f){var l=this,b=l.attr,j=b.matrix,k=b.src,m=b.x,n=b.y,i=b.width,h=b.height,d=a.draw.sprite.Image.imageLoaders[k],c;if(d&&d.done){j.toContext(f);c=d.image;f.drawImage(c,m,n,i||(c.naturalWidth||c.width)/e.devicePixelRatio,h||(c.naturalHeight||c.height)/e.devicePixelRatio)}var g=b.debug||this.statics().debug||a.draw.sprite.Sprite.debug;if(g){g.bbox&&this.renderBBox(e,f)}},isVisible:function(){var c=this.attr,b=this.getParent(),d=b&&(b.isSurface||b.isVisible()),e=d&&!c.hidden&&c.globalAlpha;return !!e}});a.define('Ext.draw.sprite.Instancing',{extend:'Ext.draw.sprite.Sprite',alias:'sprite.instancing',type:'instancing',isInstancing:!0,config:{template:null,instances:null},instances:null,applyTemplate:function(b){if(!a.isObject(b)){a.raise('A template of an instancing sprite must either be '+'a sprite instance or a valid config object from which a template '+'sprite will be created.')}else {if(b.isInstancing||b.isComposite){a.raise("Can't use an instancing or composite sprite "+'as a template for an instancing sprite.')}}if(!b.isSprite){if(!b.xclass&&!b.type){b.type='circle'}b=a.create(b.xclass||'sprite.'+b.type,b)}var c=b.getSurface();if(c){c.remove(b)}b.setParent(this);return b},updateTemplate:function(b,c){if(c){delete c.ownAttr}b.setSurface(this.getSurface());b.ownAttr=b.attr;this.clearAll();this.setDirty(!0)},updateInstances:function(b){this.clearAll();if(a.isArray(b)){for(var c=0,d=b.length;c<d;c++){this.add(b[c])}}},updateSurface:function(c){var b=this.getTemplate();if(b&&!b.destroyed){b.setSurface(c)}},get:function(b){return this.instances[b]},getCount:function(){return this.instances.length},clearAll:function(){var b=this.getTemplate();b.attr.children=this.instances=[];this.position=0},createInstance:function(d,b,c){return this.add(d,b,c)},add:function(h,f,g){var d=this,b=d.getTemplate(),e=b.attr,c=a.Object.chain(e);b.modifiers.target.prepareAttributes(c);b.attr=c;b.setAttributes(h,f,g);c.template=b;d.instances.push(c);b.attr=e;d.position++;return c},getBBox:function(){return null},getBBoxFor:function(f,d){var b=this.getTemplate(),e=b.attr,c;b.attr=this.instances[f];c=b.getBBox(d);b.attr=e;return c},isVisible:function(){var d=this.attr,b=this.getParent(),c;c=b&&b.isSurface&&!d.hidden&&d.globalAlpha;return !!c},isInstanceVisible:function(c){var e=this,b=e.getTemplate(),g=b.attr,f=e.instances,d=!1;if(!a.isNumber(c)||c<0||c>=f.length||!e.isVisible()){return d}b.attr=f[c];d=b.isVisible(point,options);b.attr=g;return d},render:function(f,c,i){if(!this.getTemplate()){a.raise('An instancing sprite must have a template.')}var e=this,b=e.getTemplate(),g=f.getRect(),k=e.attr.matrix,j=b.attr,h=e.instances,l=e.position,d;k.toContext(c);b.preRender(f,c,i);b.useAttributes(c,g);b.isSpriteInstance=!0;for(d=0;d<l;d++){if(h[d].hidden){continue}c.save();b.attr=h[d];b.useAttributes(c,g);b.render(f,c,i);c.restore()}b.isSpriteInstance=!1;b.attr=j},setAttributesFor:function(g,c,e){var b=this.getTemplate(),f=b.attr,d=this.instances[g];if(!d){return}b.attr=d;if(e){c=a.apply({},c)}else {c=b.self.def.normalize(c)}b.modifiers.target.pushDown(d,c);b.attr=f},destroy:function(){var b=this,c=b.getTemplate();b.instances=null;if(c){c.destroy()}b.callParent()}});a.define('Ext.draw.overrides.hittest.sprite.Instancing',{override:'Ext.draw.sprite.Instancing',hitTest:function(i,h){var f=this,d=f.getTemplate(),g=d.attr,e=f.instances,j=e.length,c=0,b=null;if(!f.isVisible()){return b}for(;c<j;c++){d.attr=e[c];b=d.hitTest(i,h);if(b){b.isInstance=!0;b.template=b.sprite;b.sprite=this;b.instance=e[c];b.index=c;return b}}d.attr=g;return b}});a.define('Ext.draw.sprite.Line',{extend:'Ext.draw.sprite.Sprite',alias:'sprite.line',type:'line',inheritableStatics:{def:{processors:{fromX:'number',fromY:'number',toX:'number',toY:'number',crisp:'bool'},defaults:{fromX:0,fromY:0,toX:1,toY:1,crisp:!1,strokeStyle:'black'},aliases:{x1:'fromX',y1:'fromY',x2:'toX',y2:'toY'},triggers:{crisp:'bbox'}}},updateLineBBox:function(i,r,b,d,c,e){var l=this.attr,n=l.matrix,m=l.lineWidth/2,g,h,j,k,f;if(l.crisp){b=this.align(b);c=this.align(c);d=this.align(d);e=this.align(e)}if(r){f=n.transformPoint([b,d]);b=f[0];d=f[1];f=n.transformPoint([c,e]);c=f[0];e=f[1]}g=Math.min(b,c);j=Math.max(b,c);h=Math.min(d,e);k=Math.max(d,e);var o=Math.atan2(j-g,k-h),t=Math.sin(o),s=Math.cos(o),p=m*s,q=m*t;g-=p;h-=q;j+=p;k+=q;i.x=g;i.y=h;i.width=j-g;i.height=k-h},updatePlainBBox:function(c){var b=this.attr;this.updateLineBBox(c,!1,b.fromX,b.fromY,b.toX,b.toY)},updateTransformedBBox:function(c,d){var b=this.attr;this.updateLineBBox(c,!0,b.fromX,b.fromY,b.toX,b.toY)},align:function(b){return Math.round(b)-0.5},render:function(f,c){var d=this,b=d.attr,g=b.matrix;g.toContext(c);c.beginPath();if(b.crisp){c.moveTo(d.align(b.fromX),d.align(b.fromY));c.lineTo(d.align(b.toX),d.align(b.toY))}else {c.moveTo(b.fromX,b.fromY);c.lineTo(b.toX,b.toY)}c.stroke();var e=b.debug||this.statics().debug||a.draw.sprite.Sprite.debug;if(e){this.attr.inverseMatrix.toContext(c);e.bbox&&this.renderBBox(f,c)}}});a.define('Ext.draw.sprite.Plus',{extend:'Ext.draw.sprite.Path',alias:'sprite.plus',inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'path'}}},updatePath:function(d,c){var b=c.size/1.3,e=c.x-c.lineWidth/2,f=c.y;d.fromSvgString('M'.concat(e-b/2,',',f-b/2,'l',[0,-b,b,0,0,b,b,0,0,b,-b,0,0,b,-b,0,0,-b,-b,0,0,-b,'z']))}});a.define('Ext.draw.sprite.Sector',{extend:'Ext.draw.sprite.Path',alias:'sprite.sector',type:'sector',inheritableStatics:{def:{processors:{centerX:'number',centerY:'number',startAngle:'number',endAngle:'number',startRho:'number',endRho:'number',margin:'number'},aliases:{rho:'endRho'},triggers:{centerX:'path,bbox',centerY:'path,bbox',startAngle:'path,bbox',endAngle:'path,bbox',startRho:'path,bbox',endRho:'path,bbox',margin:'path,bbox'},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:0,startRho:0,endRho:150,margin:0,path:'M 0,0'}}},getMidAngle:function(){return this.midAngle||0},updatePath:function(h,b){var c=Math.min(b.startAngle,b.endAngle),d=Math.max(b.startAngle,b.endAngle),k=this.midAngle=(c+d)*0.5,l=a.Number.isEqual(Math.abs(d-c),a.draw.Draw.pi2,1.0E-10),j=b.margin,e=b.centerX,f=b.centerY,g=Math.min(b.startRho,b.endRho),i=Math.max(b.startRho,b.endRho);if(j){e+=j*Math.cos(k);f+=j*Math.sin(k)}if(!l){h.moveTo(e+g*Math.cos(c),f+g*Math.sin(c));h.lineTo(e+i*Math.cos(c),f+i*Math.sin(c))}h.arc(e,f,i,c,d,!1);h[l?'moveTo':'lineTo'](e+g*Math.cos(d),f+g*Math.sin(d));h.arc(e,f,g,d,c,!0)}});a.define('Ext.draw.sprite.Square',{extend:'Ext.draw.sprite.Path',alias:'sprite.square',inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'size'}}},updatePath:function(e,b){var d=b.size*1.2,c=d*2,f=b.x-b.lineWidth/2,g=b.y;e.fromSvgString('M'.concat(f-d,',',g-d,'l',[c,0,0,c,-c,0,0,-c,'z']))}});a.define('Ext.draw.TextMeasurer',{singleton:!0,requires:['Ext.util.TextMetrics'],measureDiv:null,measureCache:{},precise:a.isIE8,measureDivTpl:{id:'ext-draw-text-measurer',tag:'div',style:{overflow:'hidden',position:'relative','float':'left',width:0,height:0},'data-sticky':!0,children:{tag:'div',style:{display:'block',position:'absolute',x:-100000,y:-100000,padding:0,margin:0,'z-index':-100000,'white-space':'nowrap'}}},actualMeasureText:function(h,f){var g=a.draw.TextMeasurer,b=g.measureDiv,c=100000,d;if(!b){var e=a.Element.create({'data-sticky':!0,style:{'overflow':'hidden','position':'relative','float':'left','width':0,'height':0}});g.measureDiv=b=a.Element.create({style:{'position':'absolute','x':c,'y':c,'z-index':-c,'white-space':'nowrap','display':'block','padding':0,'margin':0}});a.getBody().appendChild(e);e.appendChild(b)}if(f){b.setStyle({font:f,lineHeight:'normal'})}b.setText('('+h+')');d=b.getSize();b.setText('()');d.width-=b.getSize().width;return d},measureTextSingleLine:function(c,d){if(this.precise){return this.preciseMeasureTextSingleLine(c,d)}c=c.toString();var b=this.measureCache,i=c.split(''),j=0,h=0,e,f,g,l,k;if(!b[d]){b[d]={}}b=b[d];if(b[c]){return b[c]}for(g=0,l=i.length;g<l;g++){f=i[g];if(!(e=b[f])){k=this.actualMeasureText(f,d);e=b[f]=k}j+=e.width;h=Math.max(h,e.height)}return b[c]={width:j,height:h}},preciseMeasureTextSingleLine:function(b,d){b=b.toString();var c=this.measureDiv||(this.measureDiv=a.getBody().createChild(this.measureDivTpl).down('div'));c.setStyle({font:d||''});return a.util.TextMetrics.measure(c,b)},measureText:function(i,h){var g=i.split('\n'),j=g.length,f=0,e=0,b,c,d;if(j===1){return this.measureTextSingleLine(i,h)}d=[];for(c=0;c<j;c++){b=this.measureTextSingleLine(g[c],h);d.push(b);f+=b.height;e=Math.max(e,b.width)}return {width:e,height:f,sizes:d}}});a.define('Ext.draw.sprite.Text',function(){var e={'xx-small':!0,'x-small':!0,'small':!0,'medium':!0,'large':!0,'x-large':!0,'xx-large':!0};var d={normal:!0,bold:!0,bolder:!0,lighter:!0,100:!0,200:!0,300:!0,400:!0,500:!0,600:!0,700:!0,800:!0,900:!0};var b={start:'start',left:'start',center:'center',middle:'center',end:'end',right:'end'};var c={top:'top',hanging:'hanging',middle:'middle',center:'middle',alphabetic:'alphabetic',ideographic:'ideographic',bottom:'bottom'};return {extend:'Ext.draw.sprite.Sprite',requires:['Ext.draw.TextMeasurer','Ext.draw.Color'],alias:'sprite.text',type:'text',lineBreakRe:/\r?\n/g,statics:{debug:!1,fontSizes:e,fontWeights:d,textAlignments:b,textBaselines:c},inheritableStatics:{def:{animationProcessors:{text:'text'},processors:{x:'number',y:'number',text:'string',fontSize:function(b){if(a.isNumber(+b)){return b+'px'}else {if(b.match(a.dom.Element.unitRe)){return b}else {if(b in e){return b}}}},fontStyle:'enums(,italic,oblique)',fontVariant:'enums(,small-caps)',fontWeight:function(b){if(b in d){return String(b)}else {return ''}},fontFamily:'string',textAlign:function(c){return b[c]||'center'},textBaseline:function(b){return c[b]||'alphabetic'},font:'string',debug:'default'},aliases:{'font-size':'fontSize','font-family':'fontFamily','font-weight':'fontWeight','font-variant':'fontVariant','text-anchor':'textAlign','dominant-baseline':'textBaseline'},defaults:{fontStyle:'',fontVariant:'',fontWeight:'',fontSize:'10px',fontFamily:'sans-serif',font:'10px sans-serif',textBaseline:'alphabetic',textAlign:'start',strokeStyle:'rgba(0, 0, 0, 0)',fillStyle:'#000',x:0,y:0,text:''},triggers:{fontStyle:'fontX,bbox',fontVariant:'fontX,bbox',fontWeight:'fontX,bbox',fontSize:'fontX,bbox',fontFamily:'fontX,bbox',font:'font,bbox,canvas',textBaseline:'bbox',textAlign:'bbox',x:'bbox',y:'bbox',text:'bbox'},updaters:{fontX:'makeFontShorthand',font:'parseFontShorthand'}}},config:{preciseMeasurement:undefined},constructor:function(b){if(b&&b.font){b=a.clone(b);for(var c in b){if(c!=='font'&&c.indexOf('font')===0){delete b[c]}}}a.draw.sprite.Sprite.prototype.constructor.call(this,b)},fontValuesMap:{'italic':'fontStyle','oblique':'fontStyle','small-caps':'fontVariant','bold':'fontWeight','bolder':'fontWeight','lighter':'fontWeight',100:'fontWeight',200:'fontWeight',300:'fontWeight',400:'fontWeight',500:'fontWeight',600:'fontWeight',700:'fontWeight',800:'fontWeight',900:'fontWeight','xx-small':'fontSize','x-small':'fontSize','small':'fontSize','medium':'fontSize','large':'fontSize','x-large':'fontSize','xx-large':'fontSize'},makeFontShorthand:function(b){var c=[];if(b.fontStyle){c.push(b.fontStyle)}if(b.fontVariant){c.push(b.fontVariant)}if(b.fontWeight){c.push(b.fontWeight)}if(b.fontSize){c.push(b.fontSize)}if(b.fontFamily){c.push(b.fontFamily)}this.setAttributes({font:c.join(' ')},!0)},parseFontShorthand:function(j){var f=j.font,k=f.length,c={},i=this.fontValuesMap,d=0,e,g,b,h;while(d<k&&e!==-1){e=f.indexOf(' ',d);if(e<0){b=f.substr(d)}else {if(e>d){b=f.substr(d,e-d)}else {continue}}g=b.indexOf('/');if(g>0){b=b.substr(0,g)}else {if(g===0){continue}}if(b!=='normal'&&b!=='inherit'){h=i[b];if(h){c[h]=b}else {if(b.match(a.dom.Element.unitRe)){c.fontSize=b}else {c.fontFamily=f.substr(d);break}}}d=e+1}if(!c.fontStyle){c.fontStyle=''}if(!c.fontVariant){c.fontVariant=''}if(!c.fontWeight){c.fontWeight=''}this.setAttributes(c,!0)},fontProperties:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,fontFamily:!0},setAttributes:function(b,e,f){var c,d;if(b&&b.font){d={};for(c in b){if(!(c in this.fontProperties)){d[c]=b[c]}}b=d}this.callParent([b,e,f])},getBBox:function(e){var b=this,c=b.attr.bbox.plain,d=b.getSurface();if(c.dirty){b.updatePlainBBox(c);c.dirty=!1}if(d&&d.getInherited().rtl&&d.getFlipRtlText()){b.updatePlainBBox(c,!0)}return b.callParent([e])},rtlAlignments:{start:'end',center:'center',end:'start'},updatePlainBBox:function(m,v){var d=this,c=d.attr,i=c.x,o=c.y,n=[],x=c.font,y=c.text,w=c.textBaseline,p=c.textAlign,t=d.getPreciseMeasurement(),h,s;if(v&&d.oldSize){h=d.oldSize}else {s=a.draw.TextMeasurer.precise;if(a.isBoolean(t)){a.draw.TextMeasurer.precise=t}h=d.oldSize=a.draw.TextMeasurer.measureText(y,x);a.draw.TextMeasurer.precise=s}var k=d.getSurface(),l=k&&k.getInherited().rtl||!1,u=l&&k.getFlipRtlText(),g=h.sizes,j=h.height,e=h.width,r=g?g.length:0,f,q,b=0;switch(w){case 'hanging':case 'top':break;case 'ideographic':case 'bottom':o-=j;break;case 'alphabetic':o-=j*0.8;break;case 'middle':o-=j*0.5;break;}if(u){q=k.getRect();i=q[2]-q[0]-i;p=d.rtlAlignments[p]}switch(p){case 'start':if(l){for(;b<r;b++){f=g[b].width;n.push(-(e-f))}};break;case 'end':i-=e;if(l){break};for(;b<r;b++){f=g[b].width;n.push(e-f)};break;case 'center':i-=e*0.5;for(;b<r;b++){f=g[b].width;n.push((l?-1:1)*(e-f)*0.5)};break;}c.textAlignOffsets=n;m.x=i;m.y=o;m.width=e;m.height=j},setText:function(b){this.setAttributes({text:b},!0)},render:function(j,d,p){var g=this,c=g.attr,o=a.draw.Matrix.fly(c.matrix.elements.slice(0)),n=g.getBBox(!0),m=c.textAlignOffsets,l=a.util.Color.RGBA_NONE,h,i,b,e,f;if(c.text.length===0){return}e=c.text.split(g.lineBreakRe);f=n.height/e.length;h=c.bbox.plain.x;i=c.bbox.plain.y+f*0.78;o.toContext(d);if(j.getInherited().rtl){h+=c.bbox.plain.width}for(b=0;b<e.length;b++){if(d.fillStyle!==l){d.fillText(e[b],h+(m[b]||0),i+f*b)}if(d.strokeStyle!==l){d.strokeText(e[b],h+(m[b]||0),i+f*b)}}var k=c.debug||this.statics().debug||a.draw.sprite.Sprite.debug;if(k){this.attr.inverseMatrix.toContext(d);k.bbox&&g.renderBBox(j,d)}}}});a.define('Ext.draw.sprite.Tick',{extend:'Ext.draw.sprite.Line',alias:'sprite.tick',inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'tick',y:'tick',size:'tick'},updaters:{tick:function(b){var d=b.size*1.5,c=b.lineWidth/2,e=b.x,f=b.y;this.setAttributes({fromX:e-c,fromY:f-d,toX:e-c,toY:f+d})}}}}});a.define('Ext.draw.sprite.Triangle',{extend:'Ext.draw.sprite.Path',alias:'sprite.triangle',inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'path'}}},updatePath:function(d,c){var b=c.size*2.2,e=c.x,f=c.y;d.fromSvgString('M'.concat(e,',',f,'m0-',b*0.48,'l',b*0.5,',',b*0.87,'-',b,',0z'))}});a.define('Ext.draw.gradient.Linear',{extend:'Ext.draw.gradient.Gradient',requires:['Ext.draw.Color'],type:'linear',config:{degrees:0,radians:0},applyRadians:function(b,c){if(a.isNumber(b)){return b}return c},applyDegrees:function(b,c){if(a.isNumber(b)){return b}return c},updateRadians:function(b){this.setDegrees(a.draw.Draw.degrees(b))},updateDegrees:function(b){this.setRadians(a.draw.Draw.rad(b))},generateGradient:function(n,f){var h=this.getRadians(),l=Math.cos(h),m=Math.sin(h),e=f.width,b=f.height,j=f.x+e*0.5,k=f.y+b*0.5,i=this.getStops(),o=i.length,g,d,c;if(a.isNumber(j)&&a.isNumber(k)&&b>0&&e>0){d=Math.sqrt(b*b+e*e)*Math.abs(Math.cos(h-Math.atan(b/e)))/2;g=n.createLinearGradient(j+l*d,k+m*d,j-l*d,k-m*d);for(c=0;c<o;c++){g.addColorStop(i[c].offset,i[c].color)}return g}return a.util.Color.NONE}});a.define('Ext.draw.gradient.Radial',{extend:'Ext.draw.gradient.Gradient',type:'radial',config:{start:{x:0,y:0,r:0},end:{x:0,y:0,r:1}},applyStart:function(b,d){if(!d){return b}var c={x:d.x,y:d.y,r:d.r};if('x' in b){c.x=b.x}else {if('centerX' in b){c.x=b.centerX}}if('y' in b){c.y=b.y}else {if('centerY' in b){c.y=b.centerY}}if('r' in b){c.r=b.r}else {if('radius' in b){c.r=b.radius}}return c},applyEnd:function(b,d){if(!d){return b}var c={x:d.x,y:d.y,r:d.r};if('x' in b){c.x=b.x}else {if('centerX' in b){c.x=b.centerX}}if('y' in b){c.y=b.y}else {if('centerY' in b){c.y=b.centerY}}if('r' in b){c.r=b.r}else {if('radius' in b){c.r=b.radius}}return c},generateGradient:function(l,e){var f=this.getStart(),h=this.getEnd(),d=e.width*0.5,b=e.height*0.5,j=e.x+d,k=e.y+b,i=l.createRadialGradient(j+f.x*d,k+f.y*b,f.r*Math.max(d,b),j+h.x*d,k+h.y*b,h.r*Math.max(d,b)),g=this.getStops(),m=g.length,c;for(c=0;c<m;c++){i.addColorStop(g[c].offset,g[c].color)}return i}});a.define('Ext.draw.Surface',{extend:'Ext.draw.SurfaceBase',xtype:'surface',requires:['Ext.draw.sprite.*','Ext.draw.gradient.*','Ext.draw.sprite.AttributeDefinition','Ext.draw.Matrix','Ext.draw.Draw'],uses:['Ext.draw.engine.Canvas'],devicePixelRatio:window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,deprecated:{'5.1.0':{statics:{methods:{stableSort:function(b){return a.Array.sort(b,function(c,d){return c.attr.zIndex-d.attr.zIndex})}}}}},cls:a.baseCSSPrefix+'surface',config:{rect:null,background:null,items:[],dirty:!1,flipRtlText:!1},isSurface:!0,isPendingRenderFrame:!1,dirtyPredecessorCount:0,emptyRect:[0,0,0,0],constructor:function(c){var b=this;b.predecessors=[];b.successors=[];b.map={};b.callParent([c]);b.matrix=new a.draw.Matrix();b.inverseMatrix=b.matrix.inverse()},roundPixel:function(b){return Math.round(this.devicePixelRatio*b)/this.devicePixelRatio},waitFor:function(b){var c=this,d=c.predecessors;if(!a.Array.contains(d,b)){d.push(b);b.successors.push(c);if(b.getDirty()){c.dirtyPredecessorCount++}}},updateDirty:function(e){var d=this.successors,f=d.length,c=0,b;for(;c<f;c++){b=d[c];if(e){b.dirtyPredecessorCount++;b.setDirty(!0)}else {b.dirtyPredecessorCount--;if(b.dirtyPredecessorCount===0&&b.isPendingRenderFrame){b.renderFrame()}}}},applyBackground:function(b,c){this.setDirty(!0);if(a.isString(b)){b={fillStyle:b}}return a.factory(b,a.draw.sprite.Rect,c)},applyRect:function(b,c){if(c&&b[0]===c[0]&&b[1]===c[1]&&b[2]===c[2]&&b[3]===c[3]){return c}if(a.isArray(b)){return [b[0],b[1],b[2],b[3]]}else {if(a.isObject(b)){return [b.x||b.left,b.y||b.top,b.width||b.right-b.left,b.height||b.bottom-b.top]}}},updateRect:function(b){var e=this,c=b[0],d=b[1],i=c+b[2],h=d+b[3],f=e.getBackground(),g=e.element;g.setLocalXY(Math.floor(c),Math.floor(d));g.setSize(Math.ceil(i-Math.floor(c)),Math.ceil(h-Math.floor(d)));if(f){f.setAttributes({x:0,y:0,width:Math.ceil(i-Math.floor(c)),height:Math.ceil(h-Math.floor(d))})}e.setDirty(!0)},resetTransform:function(){this.matrix.set(1,0,0,1,0,0);this.inverseMatrix.set(1,0,0,1,0,0);this.setDirty(!0)},get:function(b){return this.map[b]||this.getItems()[b]},add:function(){var e=this,i=Array.prototype.slice.call(arguments),k=a.isArray(i[0]),j=e.map,f=[],c,d,b,g,h,l;c=a.Array.clean(k?i[0]:i);if(!c.length){return f}for(h=0,l=c.length;h<l;h++){d=c[h];if(!d||d.destroyed){continue}b=null;if(d.isSprite&&!j[d.getId()]){b=d}else {if(!j[d.id]){b=this.createItem(d)}}if(b){j[b.getId()]=b;f.push(b);g=b.getSurface();if(g&&g.isSurface){g.remove(b)}b.setParent(e);b.setSurface(e);e.onAdd(b)}}c=e.getItems();if(c){c.push.apply(c,f)}e.dirtyZIndex=!0;e.setDirty(!0);if(!k&&f.length===1){return f[0]}else {return f}},onAdd:a.emptyFn,remove:function(b,g){var c=this,f=c.clearing,e,d;if(b){if(b.charAt){b=c.map[b]}if(!b||!b.isSprite){return null}e=b.id;d=c.map[e];delete c.map[e];if(b.destroyed||b.destroying){if(d&&!f){a.Array.remove(c.getItems(),b)}return b}if(!d){if(g){b.destroy()}return b}b.setParent(null);b.setSurface(null);if(g){b.destroy()}if(!f){a.Array.remove(c.getItems(),b);c.dirtyZIndex=!0;c.setDirty(!0)}}return b||null},removeAll:function(f){var b=this,e=b.getItems(),c,g,d;b.clearing=!!f;for(d=e.length-1;d>=0;d--){c=e[d];if(f){c.destroy()}else {c.setParent(null);c.setSurface(null)}}b.clearing=!1;e.length=0;b.map={};b.dirtyZIndex=!0;if(!b.destroying){b.setDirty(!0)}},applyItems:function(b){if(this.getItems()){this.removeAll(!0)}return a.Array.from(this.add(b))},createItem:function(b){return a.create(b.xclass||'sprite.'+b.type,b)},getBBox:function(c,j){c=a.Array.from(c);var d=Infinity,h=-Infinity,e=Infinity,g=-Infinity,k=c.length,i,b,f;for(f=0;f<k;f++){i=c[f];b=i.getBBox(j);if(d>b.x){d=b.x}if(h<b.x+b.width){h=b.x+b.width}if(e>b.y){e=b.y}if(g<b.y+b.height){g=b.y+b.height}}return {x:d,y:e,width:h-d,height:g-e}},getEventXY:function(j){var c=this,i=c.getInherited().rtl,d=j.getXY(),g=c.getOwnerBody(),f=g.getXY(),e=c.getRect()||c.emptyRect,b=[],h;if(i){h=g.getWidth();b[0]=f[0]-d[0]-e[0]+h}else {b[0]=d[0]-f[0]-e[0]}b[1]=d[1]-f[1]-e[1];return b},clear:a.emptyFn,orderByZIndex:function(){var f=this,c=f.getItems(),e=!1,b,d;if(f.getDirty()){for(b=0,d=c.length;b<d;b++){if(c[b].attr.dirtyZIndex){e=!0;break}}if(e){a.Array.sort(c,function(b,c){return b.attr.zIndex-c.attr.zIndex});this.setDirty(!0)}for(b=0,d=c.length;b<d;b++){c[b].attr.dirtyZIndex=!1}}},repaint:function(){var b=this;b.repaint=a.emptyFn;a.defer(function(){delete b.repaint;b.element.repaint()},1)},renderFrame:function(){var b=this;if(!(b.element&&b.getDirty()&&b.getRect())){return}if(b.dirtyPredecessorCount>0){b.isPendingRenderFrame=!0;return}var e=b.getBackground(),f=b.getItems(),d,c,g;b.orderByZIndex();if(b.getDirty()){b.clear();b.clearTransform();if(e){b.renderSprite(e)}for(c=0,g=f.length;c<g;c++){d=f[c];if(b.renderSprite(d)===!1){return}d.attr.textPositionCount=b.textPosition}b.setDirty(!1)}},renderSprite:a.emptyFn,clearTransform:a.emptyFn,destroy:function(){var b=this;b.destroying=!0;b.removeAll(!0);b.destroying=!1;b.predecessors=b.successors=null;if(b.hasListeners.destroy){b.fireEvent('destroy',b)}b.callParent()}});a.define('Ext.draw.overrides.hittest.Surface',{override:'Ext.draw.Surface',hitTest:function(g,c){var h=this,f=h.getItems(),b,e,d;c=c||a.draw.sprite.Sprite.defaultHitTestOptions;for(b=f.length-1;b>=0;b--){e=f[b];if(e.hitTest){d=e.hitTest(g,c);if(d){return d}}}return null},hitTestEvent:function(c,b){var d=this.getEventXY(c);return this.hitTest(d,b)}});a.define('Ext.draw.engine.SvgContext',{requires:['Ext.draw.Color'],toSave:['strokeOpacity','strokeStyle','fillOpacity','fillStyle','globalAlpha','lineWidth','lineCap','lineJoin','lineDash','lineDashOffset','miterLimit','shadowOffsetX','shadowOffsetY','shadowBlur','shadowColor','globalCompositeOperation','position','fillGradient','strokeGradient'],strokeOpacity:1,strokeStyle:'none',fillOpacity:1,fillStyle:'none',lineDas:[],lineDashOffset:0,globalAlpha:1,lineWidth:1,lineCap:'butt',lineJoin:'miter',miterLimit:10,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:'none',globalCompositeOperation:'src',urlStringRe:/^url\(#([\w\-]+)\)$/,constructor:function(c){var b=this;b.surface=c;b.state=[];b.matrix=new a.draw.Matrix();b.path=null;b.clear()},clear:function(){this.group=this.surface.mainGroup;this.position=0;this.path=null},getElement:function(b){return this.surface.getSvgElement(this.group,b,this.position++)},save:function(){var e=this.toSave,d={},f=this.getElement('g'),b,c;for(c=0;c<e.length;c++){b=e[c];if(b in this){d[b]=this[b]}}this.position=0;d.matrix=this.matrix.clone();this.state.push(d);this.group=f;return f},restore:function(){var f=this.toSave,e=this.state.pop(),d=this.group,g=d.dom.childNodes,b,c;while(g.length>this.position){d.last().destroy()}for(c=0;c<f.length;c++){b=f[c];if(b in e){this[b]=e[b]}else {delete this[b]}}this.setTransform.apply(this,e.matrix.elements);this.group=d.getParent()},transform:function(d,f,e,g,b,c){if(this.path){var h=a.draw.Matrix.fly([d,f,e,g,b,c]).inverse();this.path.transform(h)}this.matrix.append(d,f,e,g,b,c)},setTransform:function(d,f,e,g,b,c){if(this.path){this.path.transform(this.matrix)}this.matrix.reset();this.transform(d,f,e,g,b,c)},scale:function(b,c){this.transform(b,0,0,c,0,0)},rotate:function(b){var c=Math.cos(b),e=Math.sin(b),d=-Math.sin(b),f=Math.cos(b);this.transform(c,e,d,f,0,0)},translate:function(b,c){this.transform(1,0,0,1,b,c)},setGradientBBox:function(b){this.bbox=b},beginPath:function(){this.path=new a.draw.Path()},moveTo:function(b,c){if(!this.path){this.beginPath()}this.path.moveTo(b,c);this.path.element=null},lineTo:function(b,c){if(!this.path){this.beginPath()}this.path.lineTo(b,c);this.path.element=null},rect:function(b,c,e,d){this.moveTo(b,c);this.lineTo(b+e,c);this.lineTo(b+e,c+d);this.lineTo(b,c+d);this.closePath()},strokeRect:function(d,e,c,b){this.beginPath();this.rect(d,e,c,b);this.stroke()},fillRect:function(d,e,c,b){this.beginPath();this.rect(d,e,c,b);this.fill()},closePath:function(){if(!this.path){this.beginPath()}this.path.closePath();this.path.element=null},arcSvg:function(e,f,b,c,d,g,h){if(!this.path){this.beginPath()}this.path.arcSvg(e,f,b,c,d,g,h);this.path.element=null},arc:function(f,g,e,c,d,b){if(!this.path){this.beginPath()}this.path.arc(f,g,e,c,d,b);this.path.element=null},ellipse:function(h,i,f,g,e,c,d,b){if(!this.path){this.beginPath()}this.path.ellipse(h,i,f,g,e,c,d,b);this.path.element=null},arcTo:function(e,g,f,h,c,d,b){if(!this.path){this.beginPath()}this.path.arcTo(e,g,f,h,c,d,b);this.path.element=null},bezierCurveTo:function(b,e,c,f,d,g){if(!this.path){this.beginPath()}this.path.bezierCurveTo(b,e,c,f,d,g);this.path.element=null},strokeText:function(d,e,f){d=String(d);if(this.strokeStyle){var c=this.getElement('text'),b=this.surface.getSvgElement(c,'tspan',0);this.surface.setElementAttributes(c,{'x':e,'y':f,'transform':this.matrix.toSvg(),'stroke':this.strokeStyle,'fill':'none','opacity':this.globalAlpha,'stroke-opacity':this.strokeOpacity,'style':'font: '+this.font,'stroke-dasharray':this.lineDash.join(','),'stroke-dashoffset':this.lineDashOffset});if(this.lineDash.length){this.surface.setElementAttributes(c,{'stroke-dasharray':this.lineDash.join(','),'stroke-dashoffset':this.lineDashOffset})}if(b.dom.firstChild){b.dom.removeChild(b.dom.firstChild)}this.surface.setElementAttributes(b,{'alignment-baseline':'alphabetic'});b.dom.appendChild(document.createTextNode(a.String.htmlDecode(d)))}},fillText:function(c,e,f){c=String(c);if(this.fillStyle){var d=this.getElement('text'),b=this.surface.getSvgElement(d,'tspan',0);this.surface.setElementAttributes(d,{'x':e,'y':f,'transform':this.matrix.toSvg(),'fill':this.fillStyle,'opacity':this.globalAlpha,'fill-opacity':this.fillOpacity,'style':'font: '+this.font});if(b.dom.firstChild){b.dom.removeChild(b.dom.firstChild)}this.surface.setElementAttributes(b,{'alignment-baseline':'alphabetic'});b.dom.appendChild(document.createTextNode(a.String.htmlDecode(c)))}},drawImage:function(c,k,l,e,d,p,q,o,j){var b=this,f=b.getElement('image'),m=k,n=l,i=typeof e==='undefined'?c.width:e,h=typeof d==='undefined'?c.height:d,g=null;if(typeof j!=='undefined'){g=k+' '+l+' '+e+' '+d;m=p;n=q;i=o;h=j}f.dom.setAttributeNS('http:/'+'/www.w3.org/1999/xlink','href',c.src);b.surface.setElementAttributes(f,{viewBox:g,x:m,y:n,width:i,height:h,opacity:b.globalAlpha,transform:b.matrix.toSvg()})},fill:function(){var b=this;if(!b.path){return}if(b.fillStyle){var g,e=b.fillGradient,c=b.path.element,f=b.bbox,d;if(!c){g=b.path.toString();c=b.path.element=b.getElement('path');b.surface.setElementAttributes(c,{'d':g,'transform':b.matrix.toSvg()})}if(e&&f){d=e.generateGradient(b,f)}else {d=b.fillStyle}b.surface.setElementAttributes(c,{'fill':d,'fill-opacity':b.fillOpacity*b.globalAlpha})}},stroke:function(){var b=this;if(!b.path){return}if(b.strokeStyle){var e,f=b.strokeGradient,c=b.path.element,g=b.bbox,d;if(!c||!b.path.svgString){e=b.path.toString();if(!e){return}c=b.path.element=b.getElement('path');b.surface.setElementAttributes(c,{'fill':'none','d':e,'transform':b.matrix.toSvg()})}if(f&&g){d=f.generateGradient(b,g)}else {d=b.strokeStyle}b.surface.setElementAttributes(c,{'stroke':d,'stroke-linecap':b.lineCap,'stroke-linejoin':b.lineJoin,'stroke-width':b.lineWidth,'stroke-opacity':b.strokeOpacity*b.globalAlpha,'stroke-dasharray':b.lineDash.join(','),'stroke-dashoffset':b.lineDashOffset});if(b.lineDash.length){b.surface.setElementAttributes(c,{'stroke-dasharray':b.lineDash.join(','),'stroke-dashoffset':b.lineDashOffset})}}},fillStroke:function(d,c){var b=this,h=b.fillStyle,g=b.strokeStyle,f=b.fillOpacity,e=b.strokeOpacity;if(c===undefined){c=d.transformFillStroke}if(!c){d.inverseMatrix.toContext(b)}if(h&&f!==0){b.fill()}if(g&&e!==0){b.stroke()}},appendPath:function(b){this.path=b.clone()},setLineDash:function(b){this.lineDash=b},getLineDash:function(){return this.lineDash},createLinearGradient:function(e,g,f,h){var b=this,d=b.surface.getNextDef('linearGradient'),c;b.surface.setElementAttributes(d,{'x1':e,'y1':g,'x2':f,'y2':h,'gradientUnits':'userSpaceOnUse'});c=new a.draw.engine.SvgContext.Gradient(b,b.surface,d);return c},createRadialGradient:function(g,i,f,h,j,e){var b=this,d=b.surface.getNextDef('radialGradient'),c;b.surface.setElementAttributes(d,{fx:g,fy:i,cx:h,cy:j,r:e,gradientUnits:'userSpaceOnUse'});c=new a.draw.engine.SvgContext.Gradient(b,b.surface,d,f/e);return c}});a.define('Ext.draw.engine.SvgContext.Gradient',{isGradient:!0,constructor:function(f,e,d,c){var b=this;b.ctx=f;b.surface=e;b.element=d;b.position=0;b.compression=c||0},addColorStop:function(e,d){var b=this,f=b.surface.getSvgElement(b.element,'stop',b.position++),c=b.compression;b.surface.setElementAttributes(f,{'offset':(((1-c)*e+c)*100).toFixed(2)+'%','stop-color':d,'stop-opacity':a.util.Color.fly(d).a.toFixed(15)})},toString:function(){var b=this.element.dom.childNodes;while(b.length>this.position){a.fly(b[b.length-1]).destroy()}return 'url(#'+this.element.getId()+')'}});a.define('Ext.draw.engine.Svg',{extend:'Ext.draw.Surface',requires:['Ext.draw.engine.SvgContext'],isSVG:!0,config:{highPrecision:!1},getElementConfig:function(){return {reference:'element',style:{position:'absolute'},children:[{reference:'bodyElement',style:{width:'100%',height:'100%',position:'relative'},children:[{tag:'svg',reference:'svgElement',namespace:'http://www.w3.org/2000/svg',width:'100%',height:'100%',version:1.1}]}]}},constructor:function(c){var b=this;b.callParent([c]);b.mainGroup=b.createSvgNode('g');b.defsElement=b.createSvgNode('defs');b.svgElement.appendChild(b.mainGroup);b.svgElement.appendChild(b.defsElement);b.ctx=new a.draw.engine.SvgContext(b)},createSvgNode:function(c){var b=document.createElementNS('http://www.w3.org/2000/svg',c);return a.get(b)},getSvgElement:function(f,g,c){var d=f.dom.childNodes,e=d.length,b;if(c<e){b=d[c];if(b.tagName===g){return a.get(b)}else {a.destroy(b)}}else {if(c>e){a.raise('Invalid position.')}}b=a.get(this.createSvgNode(g));if(c===0){f.insertFirst(b)}else {b.insertAfter(a.fly(d[c-1]))}b.cache={};return b},setElementAttributes:function(e,d){var g=e.dom,f=e.cache,b,c;for(b in d){c=d[b];if(f[b]!==c){f[b]=c;g.setAttribute(b,c)}}},getNextDef:function(b){return this.getSvgElement(this.defsElement,b,this.defsPosition++)},clearTransform:function(){var b=this;b.mainGroup.set({transform:b.matrix.toSvg()})},clear:function(){this.ctx.clear();this.removeSurplusDefs();this.defsPosition=0},removeSurplusDefs:function(){var c=this.defsElement,d=c.dom.childNodes,e=d.length,b;for(b=e-1;b>this.defsPosition;b--){c.removeChild(d[b])}},renderSprite:function(b){var e=this,d=e.getRect(),c=e.ctx;if(b.attr.hidden||b.attr.globalAlpha===0){c.save();c.restore();return}b.element=c.save();b.preRender(this);b.useAttributes(c,d);if(!1===b.render(this,c,[0,0,d[2],d[3]])){return !1}b.setDirty(!1);c.restore()},toSVG:function(g,f){var h=a.getClassName(this),b,c,e,d;b='<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg"'+' width="'+g.width+'"'+' height="'+g.height+'">';for(d=0;d<f.length;d++){c=f[d];if(a.getClassName(c)!==h){continue}e=c.getRect();b+='<g transform="translate('+e[0]+','+e[1]+')">';b+=this.serializeNode(c.svgElement.dom);b+='</g>'}b+='</svg>';return b},b64EncodeUnicode:function(b){return btoa(encodeURIComponent(b).replace(/%([0-9A-F]{2})/g,function(d,c){return String.fromCharCode('0x'+c)}))},flatten:function(d,c){var b='<?xml version="1.0" standalone="yes"?>';b+=this.toSVG(d,c);return {data:'data:image/svg+xml;base64,'+this.b64EncodeUnicode(b),type:'svg'}},serializeNode:function(b){var d='',c,e,f,g;if(b.nodeType===document.TEXT_NODE){return b.nodeValue}d+='<'+b.nodeName;if(b.attributes.length){for(c=0,e=b.attributes.length;c<e;c++){f=b.attributes[c];d+=' '+f.name+'="'+a.String.htmlEncode(f.value)+'"'}}d+='>';if(b.childNodes&&b.childNodes.length){for(c=0,e=b.childNodes.length;c<e;c++){g=b.childNodes[c];d+=this.serializeNode(g)}}d+='</'+b.nodeName+'>';return d},destroy:function(){var b=this;b.ctx.destroy();b.mainGroup.destroy();b.defsElement.destroy();delete b.mainGroup;delete b.defsElement;delete b.ctx;b.callParent()},remove:function(b,c){if(b&&b.element){b.element.destroy();b.element=null}this.callParent(arguments)}});a.draw||(a.draw={});a.draw.engine||(a.draw.engine={});a.draw.engine.excanvas=!0;if(!document.createElement('canvas').getContext){(function(){var g=Math;var c=g.round;var o=g.sin;var n=g.cos;var u=g.abs;var t=g.sqrt;var d=10;var f=d/2;var v=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];function getContext(){return this.context_||(this.context_=new CanvasRenderingContext2D_(this))}var q=Array.prototype.slice;function bind(d,b,e){var c=q.call(arguments,2);return function(){return d.apply(b,c.concat(q.call(arguments)))}}function encodeHtmlAttribute(b){return String(b).replace(/&/g,'&amp;').replace(/"/g,'&quot;')}function addNamespace(c,b,d){a.onReady(function(){if(!c.namespaces[b]){c.namespaces.add(b,d,'#default#VML')}})}function addNamespacesAndStylesheet(b){addNamespace(b,'g_vml_','urn:schemas-microsoft-com:vml');addNamespace(b,'g_o_','urn:schemas-microsoft-com:office:office');if(!b.styleSheets['ex_canvas_']){var c=b.createStyleSheet();c.owningElement.id='ex_canvas_';c.cssText='canvas{display:inline-block;overflow:hidden;'+'text-align:left;width:300px;height:150px}'}}addNamespacesAndStylesheet(document);var p={init:function(c){var b=c||document;b.createElement('canvas');b.attachEvent('onreadystatechange',bind(this.init_,this,b))},init_:function(d){var c=d.getElementsByTagName('canvas');for(var b=0;b<c.length;b++){this.initElement(c[b])}},initElement:function(b){if(!b.getContext){b.getContext=getContext;addNamespacesAndStylesheet(b.ownerDocument);b.innerHTML='';b.attachEvent('onpropertychange',onPropertyChange);b.attachEvent('onresize',onResize);var c=b.attributes;if(c.width&&c.width.specified){b.style.width=c.width.nodeValue+'px'}else {b.width=b.clientWidth}if(c.height&&c.height.specified){b.style.height=c.height.nodeValue+'px'}else {b.height=b.clientHeight}}return b}};function onPropertyChange(c){var b=c.srcElement;switch(c.propertyName){case 'width':b.getContext().clearRect();b.style.width=b.attributes.width.nodeValue+'px';b.firstChild.style.width=b.clientWidth+'px';break;case 'height':b.getContext().clearRect();b.style.height=b.attributes.height.nodeValue+'px';b.firstChild.style.height=b.clientHeight+'px';break;}}function onResize(c){var b=c.srcElement;if(b.firstChild){b.firstChild.style.width=b.clientWidth+'px';b.firstChild.style.height=b.clientHeight+'px'}}p.init();var i=[];for(var j=0;j<16;j++){for(var k=0;k<16;k++){i[j*16+k]=j.toString(16)+k.toString(16)}}function createMatrixIdentity(){return [[1,0,0],[0,1,0],[0,0,1]]}function matrixMultiply(g,h){var e=createMatrixIdentity();for(var b=0;b<3;b++){for(var c=0;c<3;c++){var f=0;for(var d=0;d<3;d++){f+=g[b][d]*h[d][c]}e[b][c]=f}}return e}function copyState(b,c){c.fillStyle=b.fillStyle;c.lineCap=b.lineCap;c.lineJoin=b.lineJoin;c.lineDash=b.lineDash;c.lineWidth=b.lineWidth;c.miterLimit=b.miterLimit;c.shadowBlur=b.shadowBlur;c.shadowColor=b.shadowColor;c.shadowOffsetX=b.shadowOffsetX;c.shadowOffsetY=b.shadowOffsetY;c.strokeStyle=b.strokeStyle;c.globalAlpha=b.globalAlpha;c.font=b.font;c.textAlign=b.textAlign;c.textBaseline=b.textBaseline;c.arcScaleX_=b.arcScaleX_;c.arcScaleY_=b.arcScaleY_;c.lineScale_=b.lineScale_}var s={aliceblue:'#F0F8FF',antiquewhite:'#FAEBD7',aquamarine:'#7FFFD4',azure:'#F0FFFF',beige:'#F5F5DC',bisque:'#FFE4C4',black:'#000000',blanchedalmond:'#FFEBCD',blueviolet:'#8A2BE2',brown:'#A52A2A',burlywood:'#DEB887',cadetblue:'#5F9EA0',chartreuse:'#7FFF00',chocolate:'#D2691E',coral:'#FF7F50',cornflowerblue:'#6495ED',cornsilk:'#FFF8DC',crimson:'#DC143C',cyan:'#00FFFF',darkblue:'#00008B',darkcyan:'#008B8B',darkgoldenrod:'#B8860B',darkgray:'#A9A9A9',darkgreen:'#006400',darkgrey:'#A9A9A9',darkkhaki:'#BDB76B',darkmagenta:'#8B008B',darkolivegreen:'#556B2F',darkorange:'#FF8C00',darkorchid:'#9932CC',darkred:'#8B0000',darksalmon:'#E9967A',darkseagreen:'#8FBC8F',darkslateblue:'#483D8B',darkslategray:'#2F4F4F',darkslategrey:'#2F4F4F',darkturquoise:'#00CED1',darkviolet:'#9400D3',deeppink:'#FF1493',deepskyblue:'#00BFFF',dimgray:'#696969',dimgrey:'#696969',dodgerblue:'#1E90FF',firebrick:'#B22222',floralwhite:'#FFFAF0',forestgreen:'#228B22',gainsboro:'#DCDCDC',ghostwhite:'#F8F8FF',gold:'#FFD700',goldenrod:'#DAA520',grey:'#808080',greenyellow:'#ADFF2F',honeydew:'#F0FFF0',hotpink:'#FF69B4',indianred:'#CD5C5C',indigo:'#4B0082',ivory:'#FFFFF0',khaki:'#F0E68C',lavender:'#E6E6FA',lavenderblush:'#FFF0F5',lawngreen:'#7CFC00',lemonchiffon:'#FFFACD',lightblue:'#ADD8E6',lightcoral:'#F08080',lightcyan:'#E0FFFF',lightgoldenrodyellow:'#FAFAD2',lightgreen:'#90EE90',lightgrey:'#D3D3D3',lightpink:'#FFB6C1',lightsalmon:'#FFA07A',lightseagreen:'#20B2AA',lightskyblue:'#87CEFA',lightslategray:'#778899',lightslategrey:'#778899',lightsteelblue:'#B0C4DE',lightyellow:'#FFFFE0',limegreen:'#32CD32',linen:'#FAF0E6',magenta:'#FF00FF',mediumaquamarine:'#66CDAA',mediumblue:'#0000CD',mediumorchid:'#BA55D3',mediumpurple:'#9370DB',mediumseagreen:'#3CB371',mediumslateblue:'#7B68EE',mediumspringgreen:'#00FA9A',mediumturquoise:'#48D1CC',mediumvioletred:'#C71585',midnightblue:'#191970',mintcream:'#F5FFFA',mistyrose:'#FFE4E1',moccasin:'#FFE4B5',navajowhite:'#FFDEAD',oldlace:'#FDF5E6',olivedrab:'#6B8E23',orange:'#FFA500',orangered:'#FF4500',orchid:'#DA70D6',palegoldenrod:'#EEE8AA',palegreen:'#98FB98',paleturquoise:'#AFEEEE',palevioletred:'#DB7093',papayawhip:'#FFEFD5',peachpuff:'#FFDAB9',peru:'#CD853F',pink:'#FFC0CB',plum:'#DDA0DD',powderblue:'#B0E0E6',rosybrown:'#BC8F8F',royalblue:'#4169E1',saddlebrown:'#8B4513',salmon:'#FA8072',sandybrown:'#F4A460',seagreen:'#2E8B57',seashell:'#FFF5EE',sienna:'#A0522D',skyblue:'#87CEEB',slateblue:'#6A5ACD',slategray:'#708090',slategrey:'#708090',snow:'#FFFAFA',springgreen:'#00FF7F',steelblue:'#4682B4',tan:'#D2B48C',thistle:'#D8BFD8',tomato:'#FF6347',turquoise:'#40E0D0',violet:'#EE82EE',wheat:'#F5DEB3',whitesmoke:'#F5F5F5',yellowgreen:'#9ACD32'};function getRgbHslContent(b){var d=b.indexOf('(',3);var e=b.indexOf(')',d+1);var c=b.substring(d+1,e).split(',');if(c.length!=4||b.charAt(3)!='a'){c[3]=1}return c}function percent(b){return parseFloat(b)/100}function clamp(d,c,b){return Math.min(b,Math.max(c,d))}function hslToRgb(f){var k,h,g,c,d,b;c=parseFloat(f[0])/360%360;if(c<0){c++}d=clamp(percent(f[1]),0,1);b=clamp(percent(f[2]),0,1);if(d==0){k=h=g=b}else {var e=b<0.5?b*(1+d):b+d-b*d;var j=2*b-e;k=hueToRgb(j,e,c+1/3);h=hueToRgb(j,e,c);g=hueToRgb(j,e,c-1/3)}return '#'+i[Math.floor(k*255)]+i[Math.floor(h*255)]+i[Math.floor(g*255)]}function hueToRgb(c,d,b){if(b<0){b++}if(b>1){b--}if(6*b<1){return c+(d-c)*6*b}else {if(2*b<1){return d}else {if(3*b<2){return c+(d-c)*(2/3-b)*6}else {return c}}}}var l={};function processStyle(b){if(b in l){return l[b]}var d,f=1;b=String(b);if(b.charAt(0)=='#'){d=b}else {if(/^rgb/.test(b)){var c=getRgbHslContent(b);var d='#',g;for(var e=0;e<3;e++){if(c[e].indexOf('%')!=-1){g=Math.floor(percent(c[e])*255)}else {g=+c[e]}d+=i[clamp(g,0,255)]}f=+c[3]}else {if(/^hsl/.test(b)){var c=getRgbHslContent(b);d=hslToRgb(c);f=c[3]}else {d=s[b]||b}}}return l[b]={color:d,alpha:f}}var h={style:'normal',variant:'normal',weight:'normal',size:10,family:'sans-serif'};var m={};function processFontStyle(c){if(m[c]){return m[c]}var d=document.createElement('div');var b=d.style;try{b.font=c}catch(w){}return m[c]={style:b.fontStyle||h.style,variant:b.fontVariant||h.variant,weight:b.fontWeight||h.weight,size:b.fontSize||h.size,family:b.fontFamily||h.family}}function getComputedStyle(c,g){var b={};for(var f in c){b[f]=c[f]}var e=parseFloat(g.currentStyle.fontSize),d=parseFloat(c.size);if(typeof c.size=='number'){b.size=c.size}else {if(c.size.indexOf('px')!=-1){b.size=d}else {if(c.size.indexOf('em')!=-1){b.size=e*d}else {if(c.size.indexOf('%')!=-1){b.size=e/100*d}else {if(c.size.indexOf('pt')!=-1){b.size=d/0.75}else {b.size=e}}}}}b.size*=0.981;return b}function buildStyle(b){return b.style+' '+b.variant+' '+b.weight+' '+b.size+'px '+b.family}var r={'butt':'flat','round':'round'};function processLineCap(b){return r[b]||'square'}function CanvasRenderingContext2D_(b){this.m_=createMatrixIdentity();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle='#000';this.fillStyle='#000';this.lineWidth=1;this.lineJoin='miter';this.lineDash=[];this.lineCap='butt';this.miterLimit=d*1;this.globalAlpha=1;this.font='10px sans-serif';this.textAlign='left';this.textBaseline='alphabetic';this.canvas=b;var f='width:'+b.clientWidth+'px;height:'+b.clientHeight+'px;overflow:hidden;position:absolute';var c=b.ownerDocument.createElement('div');c.style.cssText=f;b.appendChild(c);var e=c.cloneNode(!1);e.style.backgroundColor='red';e.style.filter='alpha(opacity=0)';b.appendChild(e);this.element_=c;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1}var b=CanvasRenderingContext2D_.prototype;b.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(!0);this.textMeasureEl_=null}this.element_.innerHTML=''};b.beginPath=function(){this.currentPath_=[]};b.moveTo=function(c,d){var b=getCoords(this,c,d);this.currentPath_.push({type:'moveTo',x:b.x,y:b.y});this.currentX_=b.x;this.currentY_=b.y};b.lineTo=function(c,d){var b=getCoords(this,c,d);this.currentPath_.push({type:'lineTo',x:b.x,y:b.y});this.currentX_=b.x;this.currentY_=b.y};b.bezierCurveTo=function(b,c,d,e,h,i){var j=getCoords(this,h,i);var f=getCoords(this,b,c);var g=getCoords(this,d,e);bezierCurveTo(this,f,g,j)};function bezierCurveTo(c,d,e,b){c.currentPath_.push({type:'bezierCurveTo',cp1x:d.x,cp1y:d.y,cp2x:e.x,cp2y:e.y,x:b.x,y:b.y});c.currentX_=b.x;c.currentY_=b.y}b.quadraticCurveTo=function(e,f,h,i){var d=getCoords(this,e,f);var c=getCoords(this,h,i);var b={x:this.currentX_+2/3*(d.x-this.currentX_),y:this.currentY_+2/3*(d.y-this.currentY_)};var g={x:b.x+(c.x-this.currentX_)/3,y:b.y+(c.y-this.currentY_)/3};bezierCurveTo(this,b,g,c)};b.arc=function(e,g,b,h,j,i){b*=d;var q=i?'at':'wa';var c=e+n(h)*b-f;var r=g+o(h)*b-f;var m=e+n(j)*b-f;var s=g+o(j)*b-f;if(c==m&&!i){c+=0.125}var p=getCoords(this,e,g);var k=getCoords(this,c,r);var l=getCoords(this,m,s);this.currentPath_.push({type:q,x:p.x,y:p.y,radius:b,xStart:k.x,yStart:k.y,xEnd:l.x,yEnd:l.y})};b.rect=function(b,c,e,d){this.moveTo(b,c);this.lineTo(b+e,c);this.lineTo(b+e,c+d);this.lineTo(b,c+d);this.closePath()};b.strokeRect=function(b,c,e,d){var f=this.currentPath_;this.beginPath();this.moveTo(b,c);this.lineTo(b+e,c);this.lineTo(b+e,c+d);this.lineTo(b,c+d);this.closePath();this.stroke();this.currentPath_=f};b.fillRect=function(b,c,e,d){var f=this.currentPath_;this.beginPath();this.moveTo(b,c);this.lineTo(b+e,c);this.lineTo(b+e,c+d);this.lineTo(b,c+d);this.closePath();this.fill();this.currentPath_=f};b.createLinearGradient=function(c,e,d,f){var b=new CanvasGradient_('gradient');b.x0_=c;b.y0_=e;b.x1_=d;b.y1_=f;return b};b.createRadialGradient=function(e,g,c,f,h,d){var b=new CanvasGradient_('gradientradial');b.x0_=e;b.y0_=g;b.r0_=c;b.x1_=f;b.y1_=h;b.r1_=d;return b};b.drawImage=function(b,v){var k,l,j,i,e,f,n,m;var u=b.runtimeStyle.width;var t=b.runtimeStyle.height;b.runtimeStyle.width='auto';b.runtimeStyle.height='auto';var h=b.width;var g=b.height;b.runtimeStyle.width=u;b.runtimeStyle.height=t;if(arguments.length==3){k=arguments[1];l=arguments[2];e=f=0;n=j=h;m=i=g}else {if(arguments.length==5){k=arguments[1];l=arguments[2];j=arguments[3];i=arguments[4];e=f=0;n=h;m=g}else {if(arguments.length==9){e=arguments[1];f=arguments[2];n=arguments[3];m=arguments[4];k=arguments[5];l=arguments[6];j=arguments[7];i=arguments[8]}else {throw Error('Invalid number of arguments')}}}var s=getCoords(this,k,l);var p=[];var r=10;var q=10;var o=this.m_;p.push(' <g_vml_:group',' coordsize="',d*r,',',d*q,'"',' coordorigin="0,0"',' style="width:',c(r*o[0][0]),'px;height:',c(q*o[1][1]),'px;position:absolute;','top:',c(s.y/d),'px;left:',c(s.x/d),'px; rotation:',c(Math.atan(o[0][1]/o[1][1])*180/Math.PI),';');p.push('" >','<g_vml_:image src="',b.src,'"',' style="width:',d*j,'px;',' height:',d*i,'px"',' cropleft="',e/h,'"',' croptop="',f/g,'"',' cropright="',(h-e-n)/h,'"',' cropbottom="',(g-f-m)/g,'"',' />','</g_vml_:group>');this.element_.insertAdjacentHTML('BeforeEnd',p.join(''))};b.setLineDash=function(b){if(b.length===1){b=b.slice();b[1]=b[0]}this.lineDash=b};b.getLineDash=function(){return this.lineDash};b.stroke=function(h){var e=[];var k=10;var j=10;e.push('<g_vml_:shape',' filled="',!!h,'"',' style="position:absolute;width:',k,'px;height:',j,'px;left:0px;top:0px;"',' coordorigin="0,0"',' coordsize="',d*k,',',d*j,'"',' stroked="',!h,'"',' path="');var g={x:null,y:null};var f={x:null,y:null};for(var i=0;i<this.currentPath_.length;i++){var b=this.currentPath_[i];var l;switch(b.type){case 'moveTo':l=b;e.push(' m ',c(b.x),',',c(b.y));break;case 'lineTo':e.push(' l ',c(b.x),',',c(b.y));break;case 'close':e.push(' x ');b=null;break;case 'bezierCurveTo':e.push(' c ',c(b.cp1x),',',c(b.cp1y),',',c(b.cp2x),',',c(b.cp2y),',',c(b.x),',',c(b.y));break;case 'at':case 'wa':e.push(' ',b.type,' ',c(b.x-this.arcScaleX_*b.radius),',',c(b.y-this.arcScaleY_*b.radius),' ',c(b.x+this.arcScaleX_*b.radius),',',c(b.y+this.arcScaleY_*b.radius),' ',c(b.xStart),',',c(b.yStart),' ',c(b.xEnd),',',c(b.yEnd));break;}if(b){if(g.x==null||b.x<g.x){g.x=b.x}if(f.x==null||b.x>f.x){f.x=b.x}if(g.y==null||b.y<g.y){g.y=b.y}if(f.y==null||b.y>f.y){f.y=b.y}}}e.push(' ">');if(!h){appendStroke(this,e)}else {appendFill(this,e,g,f)}e.push('</g_vml_:shape>');this.element_.insertAdjacentHTML('beforeEnd',e.join(''))};function appendStroke(b,f){var e=processStyle(b.strokeStyle);var g=e.color;var d=e.alpha*b.globalAlpha;var c=b.lineScale_*b.lineWidth;if(c<1){d*=c}f.push('<g_vml_:stroke',' opacity="',d,'"',' joinstyle="',b.lineJoin,'"',' dashstyle="',b.lineDash.join(' '),'"',' miterlimit="',b.miterLimit,'"',' endcap="',processLineCap(b.lineCap),'"',' weight="',c,'px"',' color="',g,'" />')}function appendFill(c,n,h,w){var b=c.fillStyle;var i=c.arcScaleX_;var j=c.arcScaleY_;var l=w.x-h.x;var k=w.y-h.y;if(b instanceof CanvasGradient_){var f=0;var p={x:0,y:0};var q=0;var t=1;if(b.type_=='gradient'){var J=b.x0_/i;var L=b.y0_/j;var K=b.x1_/i;var M=b.y1_/j;var m=getCoords(c,J,L);var x=getCoords(c,K,M);var H=x.x-m.x;var I=x.y-m.y;f=Math.atan2(H,I)*180/Math.PI;if(f<0){f+=360}if(f<1.0E-6){f=0}}else {var m=getCoords(c,b.x0_,b.y0_);p={x:(m.x-h.x)/l,y:(m.y-h.y)/k};l/=i*d;k/=j*d;var s=g.max(l,k);q=2*b.r0_/s;t=2*b.r1_/s-q}var e=b.colors_;e.sort(function(b,d){return b.offset-d.offset});var o=e.length;var E=e[0].color;var F=e[o-1].color;var B=e[0].alpha*c.globalAlpha;var C=e[o-1].alpha*c.globalAlpha;var u=[];for(var r=0;r<o;r++){var v=e[r];u.push(v.offset*t+q+' '+v.color)}n.push('<g_vml_:fill type="',b.type_,'"',' method="none" focus="100%"',' color="',E,'"',' color2="',F,'"',' colors="',u.join(','),'"',' opacity="',C,'"',' g_o_:opacity2="',B,'"',' angle="',f,'"',' focusposition="',p.x,',',p.y,'" />')}else {if(b instanceof CanvasPattern_){if(l&&k){var z=-h.x;var A=-h.y;n.push('<g_vml_:fill',' position="',z/l*i*i,',',A/k*j*j,'"',' type="tile"',' src="',b.src_,'" />')}}else {var y=processStyle(c.fillStyle);var G=y.color;var D=y.alpha*c.globalAlpha;n.push('<g_vml_:fill color="',G,'" opacity="',D,'" />')}}}b.fill=function(){this.$stroke(!0)};b.closePath=function(){this.currentPath_.push({type:'close'})};function getCoords(g,c,e){var b=g.m_;return {x:d*(c*b[0][0]+e*b[1][0]+b[2][0])-f,y:d*(c*b[0][1]+e*b[1][1]+b[2][1])-f}}b.save=function(){var b={};copyState(this,b);this.aStack_.push(b);this.mStack_.push(this.m_)};b.restore=function(){if(this.aStack_.length){copyState(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function matrixIsFinite(b){return isFinite(b[0][0])&&isFinite(b[0][1])&&isFinite(b[1][0])&&isFinite(b[1][1])&&isFinite(b[2][0])&&isFinite(b[2][1])}function setM(c,b,d){if(!matrixIsFinite(b)){return}c.m_=b;if(d){var e=b[0][0]*b[1][1]-b[0][1]*b[1][0];c.lineScale_=t(u(e))}}b.translate=function(b,c){var d=[[1,0,0],[0,1,0],[b,c,1]];setM(this,matrixMultiply(d,this.m_),!1)};b.rotate=function(b){var c=n(b);var d=o(b);var e=[[c,d,0],[-d,c,0],[0,0,1]];setM(this,matrixMultiply(e,this.m_),!1)};b.scale=function(b,c){this.arcScaleX_*=b;this.arcScaleY_*=c;var d=[[b,0,0],[0,c,0],[0,0,1]];setM(this,matrixMultiply(d,this.m_),!0)};b.transform=function(b,c,d,e,f,g){var h=[[b,c,0],[d,e,0],[f,g,1]];setM(this,matrixMultiply(h,this.m_),!0)};b.setTransform=function(b,c,d,e,f,g){var h=[[b,c,0],[d,e,0],[f,g,1]];setM(this,h,!0)};b.drawText_=function(r,s,t,u,k){var j=this.m_,l=1000,f=0,i=l,h={x:0,y:0},e=[];var g=getComputedStyle(processFontStyle(this.font),this.element_);var o=buildStyle(g);var m=this.element_.currentStyle;var b=this.textAlign.toLowerCase();switch(b){case 'left':case 'center':case 'right':break;case 'end':b=m.direction=='ltr'?'right':'left';break;case 'start':b=m.direction=='rtl'?'right':'left';break;default:b='left';}switch(this.textBaseline){case 'hanging':case 'top':h.y=g.size/1.75;break;case 'middle':break;default:case null:case 'alphabetic':case 'ideographic':case 'bottom':h.y=-g.size/3;break;}switch(b){case 'right':f=l;i=0.05;break;case 'center':f=i=l/2;break;}var n=getCoords(this,s+h.x,t+h.y);e.push('<g_vml_:line from="',-f,' 0" to="',i,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!k,'" stroked="',!!k,'" style="position:absolute;width:1px;height:1px;left:0px;top:0px;">');if(k){appendStroke(this,e)}else {appendFill(this,e,{x:-f,y:0},{x:i,y:g.size})}var q=j[0][0].toFixed(3)+','+j[1][0].toFixed(3)+','+j[0][1].toFixed(3)+','+j[1][1].toFixed(3)+',0,0';var p=c(n.x/d)+','+c(n.y/d);e.push('<g_vml_:skew on="t" matrix="',q,'" ',' offset="',p,'" origin="',f,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',encodeHtmlAttribute(r),'" style="v-text-align:',b,';font:',encodeHtmlAttribute(o),'" /></g_vml_:line>');this.element_.insertAdjacentHTML('beforeEnd',e.join(''))};b.fillText=function(c,d,e,b){this.drawText_(c,d,e,b,!1)};b.strokeText=function(c,d,e,b){this.drawText_(c,d,e,b,!0)};b.measureText=function(b){if(!this.textMeasureEl_){var d='<span style="position:absolute;'+'top:-20000px;left:0;padding:0;margin:0;border:none;'+'white-space:pre;"></span>';this.element_.insertAdjacentHTML('beforeEnd',d);this.textMeasureEl_=this.element_.lastChild}var c=this.element_.ownerDocument;this.textMeasureEl_.innerHTML='';this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(c.createTextNode(b));return {width:this.textMeasureEl_.offsetWidth}};b.clip=function(){};b.arcTo=function(){};b.createPattern=function(c,b){return new CanvasPattern_(c,b)};function CanvasGradient_(b){this.type_=b;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}CanvasGradient_.prototype.addColorStop=function(c,b){b=processStyle(b);this.colors_.push({offset:c,color:b.color,alpha:b.alpha})};function CanvasPattern_(b,c){assertImageIsValid(b);switch(c){case 'repeat':case null:case '':this.repetition_='repeat';break;case 'repeat-x':case 'repeat-y':case 'no-repeat':this.repetition_=c;break;default:throwException('SYNTAX_ERR');}this.src_=b.src;this.width_=b.width;this.height_=b.height}function throwException(b){throw new DOMException_(b)}function assertImageIsValid(b){if(!b||b.nodeType!=1||b.tagName!='IMG'){throwException('TYPE_MISMATCH_ERR')}if(b.readyState!='complete'){throwException('INVALID_STATE_ERR')}}function DOMException_(b){this.code=this[b];this.message=b+': DOM Exception '+this.code}var e=DOMException_.prototype=new Error();e.INDEX_SIZE_ERR=1;e.DOMSTRING_SIZE_ERR=2;e.HIERARCHY_REQUEST_ERR=3;e.WRONG_DOCUMENT_ERR=4;e.INVALID_CHARACTER_ERR=5;e.NO_DATA_ALLOWED_ERR=6;e.NO_MODIFICATION_ALLOWED_ERR=7;e.NOT_FOUND_ERR=8;e.NOT_SUPPORTED_ERR=9;e.INUSE_ATTRIBUTE_ERR=10;e.INVALID_STATE_ERR=11;e.SYNTAX_ERR=12;e.INVALID_MODIFICATION_ERR=13;e.NAMESPACE_ERR=14;e.INVALID_ACCESS_ERR=15;e.VALIDATION_ERR=16;e.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=p;CanvasRenderingContext2D=CanvasRenderingContext2D_;CanvasGradient=CanvasGradient_;CanvasPattern=CanvasPattern_;DOMException=DOMException_})()}a.define('Ext.draw.engine.Canvas',{extend:'Ext.draw.Surface',isCanvas:!0,requires:['Ext.draw.engine.excanvas','Ext.draw.Animator','Ext.draw.Color'],config:{highPrecision:!1},statics:{contextOverrides:{setGradientBBox:function(b){this.bbox=b},fill:function(){var e=this.fillStyle,c=this.fillGradient,b=this.fillOpacity,f=this.globalAlpha,d=this.bbox;if(e!==a.util.Color.RGBA_NONE&&b!==0){if(c&&d){this.fillStyle=c.generateGradient(this,d)}if(b!==1){this.globalAlpha=f*b}this.$fill();if(b!==1){this.globalAlpha=f}if(c&&d){this.fillStyle=e}}},stroke:function(){var e=this.strokeStyle,c=this.strokeGradient,b=this.strokeOpacity,f=this.globalAlpha,d=this.bbox;if(e!==a.util.Color.RGBA_NONE&&b!==0){if(c&&d){this.strokeStyle=c.generateGradient(this,d)}if(b!==1){this.globalAlpha=f*b}this.$stroke();if(b!==1){this.globalAlpha=f}if(c&&d){this.strokeStyle=e}}},fillStroke:function(e,c){var b=this,k=this.fillStyle,g=this.fillOpacity,i=this.strokeStyle,f=this.strokeOpacity,h=b.shadowColor,j=b.shadowBlur,d=a.util.Color.RGBA_NONE;if(c===undefined){c=e.transformFillStroke}if(!c){e.inverseMatrix.toContext(b)}if(k!==d&&g!==0){b.fill();b.shadowColor=d;b.shadowBlur=0}if(i!==d&&f!==0){b.stroke()}b.shadowColor=h;b.shadowBlur=j},setLineDash:function(b){if(this.$setLineDash){this.$setLineDash(b)}},getLineDash:function(){if(this.$getLineDash){return this.$getLineDash()}},ellipse:function(f,g,d,e,h,j,k,i){var b=Math.cos(h),c=Math.sin(h);this.transform(b*d,c*d,-c*e,b*e,f,g);this.arc(0,0,1,j,k,i);this.transform(b/d,-c/e,c/d,b/e,-(b*f+c*g)/d,(c*f-b*g)/e)},appendPath:function(g){var d=this,e=0,b=0,f=g.commands,c=g.params,h=f.length;d.beginPath();for(;e<h;e++){switch(f[e]){case 'M':d.moveTo(c[b],c[b+1]);b+=2;break;case 'L':d.lineTo(c[b],c[b+1]);b+=2;break;case 'C':d.bezierCurveTo(c[b],c[b+1],c[b+2],c[b+3],c[b+4],c[b+5]);b+=6;break;case 'Z':d.closePath();break;}}},save:function(){var d=this.toSave,f=d.length,e=f&&{},c=0,b;for(;c<f;c++){b=d[c];if(b in this){e[b]=this[b]}}this.state.push(e);this.$save()},restore:function(){var c=this.state.pop(),b;if(c){for(b in c){this[b]=c[b]}}this.$restore()}}},splitThreshold:3000,toSave:['fillGradient','strokeGradient'],element:{reference:'element',children:[{reference:'bodyElement',style:{width:'100%',height:'100%',position:'relative'}}]},createCanvas:function(){var c=a.Element.create({tag:'canvas',cls:a.baseCSSPrefix+'surface-canvas'});if(window['G_vmlCanvasManager']){G_vmlCanvasManager.initElement(c.dom);this.isVML=!0}var d=a.draw.engine.Canvas.contextOverrides,b=c.dom.getContext('2d'),e;if(b.ellipse){delete d.ellipse}b.state=[];b.toSave=this.toSave;for(e in d){b['$'+e]=b[e]}a.apply(b,d);if(this.getHighPrecision()){this.enablePrecisionCompensation(b)}else {this.disablePrecisionCompensation(b)}this.bodyElement.appendChild(c);this.canvases.push(c);this.contexts.push(b)},updateHighPrecision:function(e){var d=this.contexts,f=d.length,b,c;for(b=0;b<f;b++){c=d[b];if(e){this.enablePrecisionCompensation(c)}else {this.disablePrecisionCompensation(c)}}},precisionNames:['rect','fillRect','strokeRect','clearRect','moveTo','lineTo','arc','arcTo','save','restore','updatePrecisionCompensate','setTransform','transform','scale','translate','rotate','quadraticCurveTo','bezierCurveTo','createLinearGradient','createRadialGradient','fillText','strokeText','drawImage'],disablePrecisionCompensation:function(f){var e=a.draw.engine.Canvas.contextOverrides,d=this.precisionNames,g=d.length,b,c;for(b=0;b<g;b++){c=d[b];if(!(c in e)){delete f[c]}}this.setDirty(!0)},enablePrecisionCompensation:function(l){var i=this,b=1,d=1,e=0,f=0,h=new a.draw.Matrix(),k=[],g={},j=a.draw.engine.Canvas.contextOverrides,c=l.constructor.prototype;var m={toSave:i.toSave,rect:function(i,j,h,g){return c.rect.call(this,i*b+e,j*d+f,h*b,g*d)},fillRect:function(i,j,h,g){this.updatePrecisionCompensateRect();c.fillRect.call(this,i*b+e,j*d+f,h*b,g*d);this.updatePrecisionCompensate()},strokeRect:function(i,j,h,g){this.updatePrecisionCompensateRect();c.strokeRect.call(this,i*b+e,j*d+f,h*b,g*d);this.updatePrecisionCompensate()},clearRect:function(i,j,h,g){return c.clearRect.call(this,i*b+e,j*d+f,h*b,g*d)},moveTo:function(g,h){return c.moveTo.call(this,g*b+e,h*d+f)},lineTo:function(g,h){return c.lineTo.call(this,g*b+e,h*d+f)},arc:function(j,k,i,g,h,d){this.updatePrecisionCompensateRect();c.arc.call(this,j*b+e,k*b+f,i*b,g,h,d);this.updatePrecisionCompensate()},arcTo:function(h,j,i,k,g){this.updatePrecisionCompensateRect();c.arcTo.call(this,h*b+e,j*d+f,i*b+e,k*d+f,g*b);this.updatePrecisionCompensate()},save:function(){k.push(h);h=h.clone();j.save.call(this);c.save.call(this)},restore:function(){h=k.pop();j.restore.call(this);c.restore.call(this);this.updatePrecisionCompensate()},updatePrecisionCompensate:function(){h.precisionCompensate(i.devicePixelRatio,g);b=g.xx;d=g.yy;e=g.dx;f=g.dy;c.setTransform.call(this,i.devicePixelRatio,g.b,g.c,g.d,0,0)},updatePrecisionCompensateRect:function(){h.precisionCompensateRect(i.devicePixelRatio,g);b=g.xx;d=g.yy;e=g.dx;f=g.dy;c.setTransform.call(this,i.devicePixelRatio,g.b,g.c,g.d,0,0)},setTransform:function(d,e,f,g,b,c){h.set(d,e,f,g,b,c);this.updatePrecisionCompensate()},transform:function(d,e,f,g,b,c){h.append(d,e,f,g,b,c);this.updatePrecisionCompensate()},scale:function(b,c){this.transform(b,0,0,c,0,0)},translate:function(b,c){this.transform(1,0,0,1,b,c)},rotate:function(b){var c=Math.cos(b),d=Math.sin(b);this.transform(c,d,-d,c,0,0)},quadraticCurveTo:function(g,h,i,j){c.quadraticCurveTo.call(this,g*b+e,h*d+f,i*b+e,j*d+f)},bezierCurveTo:function(g,h,i,j,k,m){c.bezierCurveTo.call(this,g*b+e,h*d+f,i*b+e,j*d+f,k*b+e,m*d+f)},createLinearGradient:function(h,j,i,k){this.updatePrecisionCompensateRect();var g=c.createLinearGradient.call(this,h*b+e,j*d+f,i*b+e,k*d+f);this.updatePrecisionCompensate();return g},createRadialGradient:function(i,k,g,j,m,h){this.updatePrecisionCompensateRect();var d=c.createLinearGradient.call(this,i*b+e,k*b+f,g*b,j*b+e,m*b+f,h*b);this.updatePrecisionCompensate();return d},fillText:function(d,e,f,b){c.setTransform.apply(this,h.elements);if(typeof b==='undefined'){c.fillText.call(this,d,e,f)}else {c.fillText.call(this,d,e,f,b)}this.updatePrecisionCompensate()},strokeText:function(d,e,f,b){c.setTransform.apply(this,h.elements);if(typeof b==='undefined'){c.strokeText.call(this,d,e,f)}else {c.strokeText.call(this,d,e,f,b)}this.updatePrecisionCompensate()},fill:function(){var b=this.fillGradient,d=this.bbox;this.updatePrecisionCompensateRect();if(b&&d){this.fillStyle=b.generateGradient(this,d)}c.fill.call(this);this.updatePrecisionCompensate()},stroke:function(){var b=this.strokeGradient,d=this.bbox;this.updatePrecisionCompensateRect();if(b&&d){this.strokeStyle=b.generateGradient(this,d)}c.stroke.call(this);this.updatePrecisionCompensate()},drawImage:function(g,h,i,j,k,m,n,p,o){switch(arguments.length){case 3:return c.drawImage.call(this,g,h*b+e,i*d+f);case 5:return c.drawImage.call(this,g,h*b+e,i*d+f,j*b,k*d);case 9:return c.drawImage.call(this,g,h,i,j,k,m*b+e,n*d*f,p*b,o*d);}}};a.apply(l,m);this.setDirty(!0)},updateRect:function(d){this.callParent([d]);var b=this,t=Math.floor(d[0]),v=Math.floor(d[1]),u=Math.ceil(d[0]+d[2]),s=Math.ceil(d[1]+d[3]),g=b.devicePixelRatio,h=b.canvases,r=u-t,q=s-v,e=Math.round(b.splitThreshold/g),o=b.xSplits=Math.ceil(r/e),p=b.ySplits=Math.ceil(q/e),m,n,f,i,j,c,l,k;for(n=0,j=0;n<p;n++,j+=e){for(m=0,i=0;m<o;m++,i+=e){f=n*o+m;if(f>=h.length){b.createCanvas()}c=h[f].dom;c.style.left=i+'px';c.style.top=j+'px';k=Math.min(e,q-j);if(k*g!==c.height){c.height=k*g;c.style.height=k+'px'}l=Math.min(e,r-i);if(l*g!==c.width){c.width=l*g;c.style.width=l+'px'}b.applyDefaults(b.contexts[f])}}b.activeCanvases=f=o*p;while(h.length>f){h.pop().destroy()}b.clear()},clearTransform:function(){var b=this,h=b.xSplits,k=b.ySplits,j=b.contexts,g=b.splitThreshold,f=b.devicePixelRatio,c,d,i,e;for(c=0;c<h;c++){for(d=0;d<k;d++){i=d*h+c;e=j[i];e.translate(-g*c,-g*d);e.scale(f,f);b.matrix.toContext(e)}}},renderSprite:function(c){var d=this,q=d.getRect(),v=d.matrix,e=c.getParent(),o=a.draw.Matrix.fly([1,0,0,1,0,0]),g=d.splitThreshold/d.devicePixelRatio,r=d.xSplits,w=d.ySplits,h,i,f,b,p,n,j=0,t,k=0,s,y=q[2],x=q[3],l,m,u;while(e&&e.isSprite){o.prependMatrix(e.matrix||e.attr&&e.attr.matrix);e=e.getParent()}o.prependMatrix(v);b=c.getBBox();if(b){b=o.transformBBox(b)}c.preRender(d);if(c.attr.hidden||c.attr.globalAlpha===0){c.setDirty(!1);return}for(m=0,i=0;m<w;m++,i+=g){for(l=0,h=0;l<r;l++,h+=g){u=m*r+l;f=d.contexts[u];p=Math.min(g,y-h);n=Math.min(g,x-i);j=h;t=j+p;k=i;s=k+n;if(b){if(b.x>t||b.x+b.width<j||b.y>s||b.y+b.height<k){continue}}f.save();c.useAttributes(f,q);if(!1===c.render(d,f,[j,k,p,n])){return !1}f.restore()}}c.setDirty(!1)},flatten:function(k,j){var c=document.createElement('canvas'),l=a.getClassName(this),e=this.devicePixelRatio,m=c.getContext('2d'),b,d,h,f,g,i;c.width=Math.ceil(k.width*e);c.height=Math.ceil(k.height*e);for(f=0;f<j.length;f++){b=j[f];if(a.getClassName(b)!==l){continue}h=b.getRect();for(g=0;g<b.canvases.length;g++){d=b.canvases[g];i=d.getOffsetsTo(d.getParent());m.drawImage(d.dom,(h[0]+i[0])*e,(h[1]+i[1])*e)}}return {data:c.toDataURL(),type:'png'}},applyDefaults:function(b){var c=a.util.Color.RGBA_NONE;b.strokeStyle=c;b.fillStyle=c;b.textAlign='start';b.textBaseline='alphabetic';b.miterLimit=1},clear:function(){var c=this,f=c.activeCanvases,b,d,e;for(b=0;b<f;b++){d=c.canvases[b].dom;e=c.contexts[b];e.setTransform(1,0,0,1,0,0);e.clearRect(0,0,d.width,d.height)}c.setDirty(!0)},destroy:function(){var c=this,d=c.canvases,e=d.length,b;for(b=0;b<e;b++){c.contexts[b]=null;d[b].destroy();d[b]=null}c.contexts=c.canvases=null;c.callParent()},privates:{initElement:function(){var b=this;b.callParent();b.canvases=[];b.contexts=[];b.activeCanvases=b.xSplits=b.ySplits=0}}},function(){var d=this,c=d.prototype,b=1.0E10;if(a.os.is.Android4&&a.browser.is.Chrome){b=3000}else {if(a.is.iOS){b=2200}}c.splitThreshold=b});a.define('Ext.draw.Container',{extend:'Ext.draw.ContainerBase',alternateClassName:'Ext.draw.Component',xtype:'draw',defaultType:'surface',isDrawContainer:!0,requires:['Ext.draw.Surface','Ext.draw.engine.Svg','Ext.draw.engine.Canvas','Ext.draw.gradient.GradientDefinition'],engine:'Ext.draw.engine.Canvas',config:{cls:[a.baseCSSPrefix+'draw-container',a.baseCSSPrefix+'unselectable'],resizeHandler:null,sprites:null,gradients:[],downloadServerUrl:undefined,touchAction:{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!1},surfaceZIndexes:{main:1}},defaultDownloadServerUrl:'http://svg.sencha.io',supportedFormats:['png','pdf','jpeg','gif'],supportedOptions:{version:a.isNumber,data:a.isString,format:function(b){return a.Array.indexOf(this.supportedFormats,b)>=0},filename:a.isString,width:a.isNumber,height:a.isNumber,scale:a.isNumber,pdf:a.isObject,jpeg:a.isObject},initAnimator:function(){this.frameCallbackId=a.draw.Animator.addFrameCallback('renderFrame',this)},applyDownloadServerUrl:function(b){var c=this.defaultDownloadServerUrl;if(!b){b=c;if(!window.jasmine){a.log.warn("Using Sencha's download server could expose your data and pose a security risk. "+'Please see Ext.draw.Container#download method docs for more info. (component id='+this.getId()+')')}}return b},applyGradients:function(e){var c=[],d,g,b,f;if(!a.isArray(e)){return c}for(d=0,g=e.length;d<g;d++){b=e[d];if(!a.isObject(b)){continue}if(typeof b.type!=='string'){b.type='linear'}if(b.angle){b.degrees=b.angle;delete b.angle}if(a.isObject(b.stops)){b.stops=function(d){var c=[],b;for(f in d){b=d[f];b.offset=f/100;c.push(b)}return c}(b.stops)}c.push(b)}a.draw.gradient.GradientDefinition.add(c);return c},applySprites:function(d){if(!d){return}d=a.Array.from(d);var g=d.length,f=[],e,b,c;for(e=0;e<g;e++){c=d[e];b=c.surface;if(!(b&&b.isSurface)){if(a.isString(b)){b=this.getSurface(b);delete c.surface}else {b=this.getSurface('main')}}c=b.add(c);f.push(c)}return f},resizeDelay:500,resizeTimerId:0,lastResizeTime:null,size:null,handleResize:function(c,i){var b=this,g=b.element,h=b.getResizeHandler()||b.defaultResizeHandler,e=b.resizeDelay,d=b.lastResizeTime,f,j;if(!g){return}c=c||g.getSize();if(!(c.width&&c.height)){return}b.size=c;b.stopResizeTimer();f=!i&&d&&a.Date.now()-d<e;if(f){b.resizeTimerId=a.defer(b.handleResize,e,b,[c,!0]);return}b.fireEvent('bodyresize',b,c);a.callback(h,null,[c],0,b);if(j!==!1){b.renderFrame()}b.lastResizeTime=a.Date.now()},stopResizeTimer:function(){if(this.resizeTimerId){a.undefer(this.resizeTimerId);this.resizeTimerId=0}},defaultResizeHandler:function(b){this.getItems().each(function(c){c.setRect([0,0,b.width,b.height])})},getSurface:function(c,b){c=c||'main';b=b||c;var d=this,f=d.getItems(),h=f.getCount(),g=d.getSurfaceZIndexes(),e;e=d.createSurface(c);if(b in g){e.element.setStyle('zIndex',g[b])}if(f.getCount()>h){d.handleResize(null,!0)}return e},createSurface:function(b){b=this.getId()+'-'+(b||'main');var d=this,e=d.getItems(),c=e.get(b);if(!c){c=d.add({xclass:d.engine,id:b})}return c},renderFrame:function(){var f=this,d=f.getItems(),b,e,c;for(b=0,e=d.length;b<e;b++){c=d.items[b];if(c.isSurface){c.renderFrame()}}},getSurfaces:function(h){var b=Array.prototype.slice.call(this.items.items),f=this.getSurfaceZIndexes(),c,d,e,g;if(h){for(d=1;d<b.length;d++){e=b[d];g=f[e.type];c=d-1;while(c>=0&&f[b[c].type]>g){b[c+1]=b[c];c--}b[c+1]=e}}return b},getImage:function(f){var g=this.bodyElement.getSize(),d=this.getSurfaces(!0),e=d[0],b,c;if((a.isIE||a.isEdge)&&e.isSVG){b={data:e.toSVG(g,d),type:'svg-markup'}}else {b=e.flatten(g,d);if(f==='image'){c=new Image();c.src=b.data;b.data=c;return b}if(f==='stream'){b.data=b.data.replace(/^data:image\/[^;]+/,'data:application/octet-stream');return b}}return b},download:function(b){var e=this,f=[],g,c,d;if(a.isIE8){return !1}b=b||{};b.version=2;if(!b.data){b.data=e.getImage().data}for(c in b){if(b.hasOwnProperty(c)){d=b[c];if(c in e.supportedOptions){if(e.supportedOptions[c].call(e,d)){f.push({tag:'input',type:'hidden',name:c,value:a.String.htmlEncode(a.isObject(d)?a.JSON.encode(d):d)})}else {a.log.error('Invalid value for image download option "'+c+'": '+d)}}else {a.log.error('Invalid image download option: "'+c+'"')}}}g=a.dom.Helper.markup({tag:'html',children:[{tag:'head'},{tag:'body',children:[{tag:'form',method:'POST',action:b.url||e.getDownloadServerUrl(),children:f},{tag:'script',type:'text/javascript',children:'document.getElementsByTagName("form")[0].submit();'}]}]});window.open('','ImageDownload_'+Date.now()).document.write(g)},doDestroy:function(){var b=this,c=b.frameCallbackId;if(c){a.draw.Animator.removeFrameCallback(c)}b.stopResizeTimer();b.callParent()}},function(){if(location.search.match('svg')){a.draw.Container.prototype.engine='Ext.draw.engine.Svg'}else {if(a.os.is.BlackBerry&&a.os.version.getMajor()===10||a.browser.is.AndroidStock4&&(a.os.version.getMinor()===1||a.os.version.getMinor()===2||a.os.version.getMinor()===3)){a.draw.Container.prototype.engine='Ext.draw.engine.Svg'}}});a.define('Ext.chart.theme.BaseTheme',{defaultsDivCls:'x-component'});a.define('Ext.chart.theme.Base',{extend:'Ext.chart.theme.BaseTheme',mixins:{factoryable:'Ext.mixin.Factoryable'},requires:['Ext.draw.Color'],factoryConfig:{type:'chart.theme'},isTheme:!0,isBase:!0,config:{baseColor:null,colors:undefined,gradients:null,chart:{defaults:{captions:{title:{docked:'top',padding:5,style:{textAlign:'center',fontFamily:'default',fontWeight:'500',fillStyle:'black',fontSize:'default*1.6'}},subtitle:{docked:'top',style:{textAlign:'center',fontFamily:'default',fontWeight:'normal',fillStyle:'black',fontSize:'default*1.3'}},credits:{docked:'bottom',padding:5,style:{textAlign:'left',fontFamily:'default',fontWeight:'lighter',fillStyle:'black',fontSize:'default'}}},background:'white'}},axis:{defaults:{label:{x:0,y:0,textBaseline:'middle',textAlign:'center',fontSize:'default',fontFamily:'default',fontWeight:'default',fillStyle:'black'},title:{fillStyle:'black',fontSize:'default*1.23',fontFamily:'default',fontWeight:'default'},style:{strokeStyle:'black'},grid:{strokeStyle:'rgb(221, 221, 221)'}},top:{style:{textPadding:5}},bottom:{style:{textPadding:5}}},series:{defaults:{label:{fillStyle:'black',strokeStyle:'none',fontFamily:'default',fontWeight:'default',fontSize:'default*1.077',textBaseline:'middle',textAlign:'center'},labelOverflowPadding:5}},sprites:{text:{fontSize:'default',fontWeight:'default',fontFamily:'default',fillStyle:'black'}},legend:{label:{fontSize:14,fontWeight:'default',fontFamily:'default',fillStyle:'black'},border:{lineWidth:1,radius:4,fillStyle:'none',strokeStyle:'gray'},background:'white'},seriesThemes:undefined,markerThemes:{type:['circle','cross','plus','square','triangle','diamond']},useGradients:!1,background:null},colorDefaults:['#94ae0a','#115fa6','#a61120','#ff8809','#ffd13e','#a61187','#24ad9a','#7c7474','#a66111'],constructor:function(b){this.initConfig(b);this.resolveDefaults()},defaultRegEx:/^default([+\-/\*]\d+(?:\.\d+)?)?$/,defaultOperators:{'*':function(b,c){return b*c},'+':function(b,c){return b+c},'-':function(b,c){return b-c}},resolveChartDefaults:function(){var d=a.clone(this.getChart()),f,e,b,c;for(f in d){b=d[f];if('captions' in b){for(e in b.captions){c=b.captions[e];if(c){this.replaceDefaults(c.style)}}}}this.setChart(d)},resolveDefaults:function(){var b=this;a.onInternalReady(function(){var h=a.clone(b.getSprites()),i=a.clone(b.getLegend()),g=a.clone(b.getAxis()),f=a.clone(b.getSeries()),c,e,d;if(!b.superclass.defaults){c=a.getBody().createChild({tag:'div',cls:b.defaultsDivCls});b.superclass.defaults={fontFamily:c.getStyle('fontFamily'),fontWeight:c.getStyle('fontWeight'),fontSize:parseFloat(c.getStyle('fontSize')),fontVariant:c.getStyle('fontVariant'),fontStyle:c.getStyle('fontStyle')};c.destroy()}b.resolveChartDefaults();b.replaceDefaults(h.text);b.setSprites(h);b.replaceDefaults(i.label);b.setLegend(i);for(e in g){d=g[e];b.replaceDefaults(d.label);b.replaceDefaults(d.title)}b.setAxis(g);for(e in f){d=f[e];b.replaceDefaults(d.label)}b.setSeries(f)})},replaceDefaults:function(e){var f=this,h=f.superclass.defaults,i=f.defaultRegEx,d,c,b,g;if(a.isObject(e)){for(d in h){b=i.exec(e[d]);if(b){c=h[d];b=b[1];if(b){g=f.defaultOperators[b.charAt(0)];c=Math.round(g(c,parseFloat(b.substr(1))))}e[d]=c}}}},applyBaseColor:function(c){var b,d;if(c){b=c.isColor?c:a.util.Color.fromString(c);d=b.getHSL()[2];if(d<0.15){b=b.createLighter(0.3)}else {if(d<0.3){b=b.createLighter(0.15)}else {if(d>0.85){b=b.createDarker(0.3)}else {if(d>0.7){b=b.createDarker(0.15)}}}}this.setColors([b.createDarker(0.3).toString(),b.createDarker(0.15).toString(),b.toString(),b.createLighter(0.12).toString(),b.createLighter(0.24).toString(),b.createLighter(0.31).toString()])}return c},applyColors:function(b){return b||this.colorDefaults},updateUseGradients:function(b){if(b){this.updateGradients({type:'linear',degrees:90})}},updateBackground:function(b){if(b){var c=this.getChart();c.defaults.background=b;this.setChart(c)}},updateGradients:function(e){var d=this.getColors(),h=[],f,b,g,c,i;if(a.isObject(e)){for(c=0,i=d&&d.length||0;c<i;c++){b=a.util.Color.fromString(d[c]);if(b){g=b.createLighter(0.15).toString();f=a.apply(a.Object.chain(e),{stops:[{offset:1,color:b.toString()},{offset:0,color:g.toString()}]});h.push(f)}}this.setColors(h)}},applySeriesThemes:function(b){this.getBaseColor();this.getUseGradients();this.getGradients();var c=this.getColors();if(!b){b={fillStyle:a.Array.clone(c),strokeStyle:a.Array.map(c,function(c){var d=a.util.Color.fromString(c.stops?c.stops[0].color:c);return d.createDarker(0.15).toString()})}}return b}});a.define('Ext.chart.theme.Default',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.default','chart.theme.Default','chart.theme.Base']});a.define('Ext.chart.Util',{singleton:!0,expandRange:function(c,g){var h=g.length,e=c[0],d=c[1],f,b;for(f=0;f<h;f++){b=g[f];if(b==null||!isFinite(b)){continue}if(b<e||!isFinite(e)){e=b}if(b>d||!isFinite(d)){d=b}}c[0]=e;c[1]=d},defaultRange:[0,1],validateRange:function(b,c,d){c=c||this.defaultRange.slice();if(!(d===0||d>0)){d=0.5}if(!b||b.length!==2){return c}b=[b[0],b[1]];if(!b[0]){b[0]=0}if(!b[1]){b[1]=0}if(d&&b[0]===b[1]){b=[b[0]-d,b[0]+d];if(b[0]===b[1]){return c}}var e=isFinite(b[0]);var f=isFinite(b[1]);if(!e&&!f){return c}if(e&&!f){b[1]=b[0]+a.Number.sign(b[1])*(c[1]-c[0])}else {if(f&&!e){b[0]=b[1]+a.Number.sign(b[0])*(c[1]-c[0])}}return [Math.min(b[0],b[1]),Math.max(b[0],b[1])]},applyAnimation:function(b,c){if(!b){b={duration:0}}else {if(b===!0){b={easing:'easeInOut',duration:500}}}return c?a.apply({},b,c):b}});a.define('Ext.chart.Markers',{extend:'Ext.draw.sprite.Instancing',isMarkers:!0,defaultCategory:'default',constructor:function(){this.callParent(arguments);this.categories={};this.revisions={}},destroy:function(){this.categories=null;this.revisions=null;this.callParent()},getMarkerFor:function(c,d){if(c in this.categories){var b=this.categories[c];if(d in b){return this.get(b[d])}}},clear:function(b){b=b||this.defaultCategory;if(!(b in this.revisions)){this.revisions[b]=1}else {this.revisions[b]++}},clearAll:function(){this.callParent();this.categories={};this.revisions={}},putMarkerFor:function(c,h,f,g,i){c=c||this.defaultCategory;var b=this,d=b.categories[c]||(b.categories[c]={}),e;if(f in d){b.setAttributesFor(d[f],h,g)}else {d[f]=b.getCount();b.add(h,g)}e=b.get(d[f]);if(e){e.category=c;if(!i){e.revision=b.revisions[c]||(b.revisions[c]=1)}}},getMarkerBBoxFor:function(c,d,e){if(c in this.categories){var b=this.categories[c];if(d in b){return this.getBBoxFor(b[d],e)}}},getBBox:function(){return null},render:function(g,c,i){var e=this,h=g.getRect(),k=e.revisions,l=e.attr.matrix,b=e.getTemplate(),j=b.attr,m=e.instances.length,d,f;l.toContext(c);b.preRender(g,c,i);b.useAttributes(c,h);for(f=0;f<m;f++){d=e.get(f);if(d.hidden||d.revision!==k[d.category]){continue}c.save();b.attr=d;b.useAttributes(c,h);b.render(g,c,i);c.restore()}b.attr=j}});a.define('Ext.chart.modifier.Callout',{extend:'Ext.draw.modifier.Modifier',alternateClassName:'Ext.chart.label.Callout',prepareAttributes:function(b){if(!b.hasOwnProperty('calloutOriginal')){b.calloutOriginal=a.Object.chain(b);b.calloutOriginal.prototype=b}if(this._lower){this._lower.prepareAttributes(b.calloutOriginal)}},setAttrs:function(g,b){var c=g.callout,j=g.calloutOriginal,m=g.bbox.plain,i=(m.width||0)+g.labelOverflowPadding,h=(m.height||0)+g.labelOverflowPadding,e,f;if('callout' in b){c=b.callout}if('callout' in b||'calloutPlaceX' in b||'calloutPlaceY' in b||'x' in b||'y' in b){var d='rotationRads' in b?j.rotationRads=b.rotationRads:j.rotationRads,o='x' in b?j.x=b.x:j.x,p='y' in b?j.y=b.y:j.y,k='calloutPlaceX' in b?b.calloutPlaceX:g.calloutPlaceX,l='calloutPlaceY' in b?b.calloutPlaceY:g.calloutPlaceY,q='calloutVertical' in b?b.calloutVertical:g.calloutVertical,n;d%=Math.PI*2;if(Math.cos(d)<0){d=(d+Math.PI)%(Math.PI*2)}if(d>Math.PI){d-=Math.PI*2}if(q){d=d*(1-c)-Math.PI/2*c;n=i;i=h;h=n}else {d=d*(1-c)}b.rotationRads=d;b.x=o*(1-c)+k*c;b.y=p*(1-c)+l*c;e=k-o;f=l-p;if(Math.abs(f*i)>Math.abs(e*h)){if(f>0){b.calloutEndX=b.x-h/2*(e/f)*c;b.calloutEndY=b.y-h/2*c}else {b.calloutEndX=b.x+h/2*(e/f)*c;b.calloutEndY=b.y+h/2*c}}else {if(e>0){b.calloutEndX=b.x-i/2;b.calloutEndY=b.y-i/2*(f/e)*c}else {b.calloutEndX=b.x+i/2;b.calloutEndY=b.y+i/2*(f/e)*c}}if(b.calloutStartX&&b.calloutStartY){b.calloutHasLine=e>0&&b.calloutStartX<b.calloutEndX||e<=0&&b.calloutStartX>b.calloutEndX||f>0&&b.calloutStartY<b.calloutEndY||f<=0&&b.calloutStartY>b.calloutEndY}else {b.calloutHasLine=!0}}return b},pushDown:function(c,b){b=this.callParent([c.calloutOriginal,b]);return this.setAttrs(c,b)},popUp:function(b,c){b=b.prototype;c=this.setAttrs(b,c);if(this._upper){return this._upper.popUp(b,c)}else {return a.apply(b,c)}}});a.define('Ext.chart.sprite.Label',{extend:'Ext.draw.sprite.Text',alternateClassName:'Ext.chart.label.Label',requires:['Ext.chart.modifier.Callout'],inheritableStatics:{def:{processors:{callout:'limited01',calloutHasLine:'bool',calloutPlaceX:'number',calloutPlaceY:'number',calloutStartX:'number',calloutStartY:'number',calloutEndX:'number',calloutEndY:'number',calloutColor:'color',calloutWidth:'number',calloutVertical:'bool',labelOverflowPadding:'number',display:'enums(none,under,over,rotate,insideStart,insideEnd,inside,outside)',orientation:'enums(horizontal,vertical)',renderer:'default'},defaults:{callout:0,calloutHasLine:!0,calloutPlaceX:0,calloutPlaceY:0,calloutStartX:0,calloutStartY:0,calloutEndX:0,calloutEndY:0,calloutWidth:1,calloutVertical:!1,calloutColor:'black',labelOverflowPadding:5,display:'none',orientation:'',renderer:null},triggers:{callout:'transform',calloutPlaceX:'transform',calloutPlaceY:'transform',labelOverflowPadding:'transform',calloutRotation:'transform',display:'hidden'},updaters:{hidden:function(b){b.hidden=b.display==='none'}}}},config:{animation:{customDurations:{callout:200}},field:null,calloutLine:!0,hideLessThan:20},applyCalloutLine:function(b){if(b){return a.apply({},b)}},createModifiers:function(){var c=this,b=c.callParent(arguments);b.callout=new a.chart.modifier.Callout({sprite:c});b.animation.setUpper(b.callout);b.callout.setUpper(b.target)},render:function(f,b){var c=this,e=c.attr,d=e.calloutColor;b.save();b.globalAlpha*=e.callout;if(b.globalAlpha>0&&e.calloutHasLine){if(d&&d.isGradient){d=d.getStops()[0].color}b.strokeStyle=d;b.fillStyle=d;b.lineWidth=e.calloutWidth;b.beginPath();b.moveTo(c.attr.calloutStartX,c.attr.calloutStartY);b.lineTo(c.attr.calloutEndX,c.attr.calloutEndY);b.stroke();b.beginPath();b.arc(c.attr.calloutStartX,c.attr.calloutStartY,1*e.calloutWidth,0,2*Math.PI,!0);b.fill();b.beginPath();b.arc(c.attr.calloutEndX,c.attr.calloutEndY,1*e.calloutWidth,0,2*Math.PI,!0);b.fill()}b.restore();a.draw.sprite.Text.prototype.render.apply(c,arguments)}});a.define('Ext.chart.series.Series',{requires:['Ext.chart.Util','Ext.chart.Markers','Ext.chart.sprite.Label','Ext.tip.ToolTip'],mixins:['Ext.mixin.Observable','Ext.mixin.Bindable'],isSeries:!0,defaultBindProperty:'store',type:null,seriesType:'sprite',identifiablePrefix:'ext-line-',observableType:'series',darkerStrokeRatio:0.15,config:{chart:null,title:null,renderer:null,showInLegend:!0,triggerAfterDraw:!1,theme:null,style:{},subStyle:{},themeStyle:{},colors:null,useDarkerStrokeColor:!0,store:null,label:null,labelOverflowPadding:null,showMarkers:!0,marker:null,markerSubStyle:null,itemInstancing:null,background:null,surface:null,overlaySurface:null,hidden:!1,highlight:!1,highlightCfg:{merge:function(b){return b},$value:{fillStyle:'yellow',strokeStyle:'red'}},animation:null,tooltip:null},directions:[],sprites:null,themeColorCount:function(){return 1},isStoreDependantColorCount:!1,themeMarkerCount:function(){return 0},getFields:function(e){var g=this,b=[],f=e.length,d,c;for(d=0;d<f;d++){c=g['get'+e[d]+'Field']();if(a.isArray(c)){b.push.apply(b,c)}else {b.push(c)}}return b},applyAnimation:function(c,b){var d=this.getChart();if(!d.isSettingSeriesAnimation){this.isUserAnimation=!0}return a.chart.Util.applyAnimation(c,b)},updateAnimation:function(f){var g=this.getSprites(),e,d,c,h,b;for(c=0,h=g.length;c<h;c++){b=g[c];if(b.isMarkerHolder){e=b.getMarker('items');if(e){e.getTemplate().setAnimation(f)}d=b.getMarker('markers');if(d){d.getTemplate().setAnimation(f)}}b.setAnimation(f)}},getAnimation:function(){var c=this.getChart(),b;if(c&&c.animationSuspendCount){b={duration:0}}else {if(this.isUserAnimation){b=this.callParent()}else {b=c.getAnimation()}}return b},updateTitle:function(){var c=this,b=c.getChart();if(b&&!b.isInitializing){b.refreshLegendStore()}},applyHighlight:function(b,d){var e=this,c=e.getHighlightCfg();if(a.isObject(b)){b=a.merge({},c,b)}else {if(b===!0){b=c}}if(b){b.type='highlight'}return b&&a.merge({},d,b)},updateHighlight:function(e){var b=this,h=b.sprites,j=b.getHighlightCfg(),d,i,c,g,f;b.getStyle();b.getMarker();if(!a.Object.isEmpty(e)){b.addItemHighlight();for(d=0,i=h.length;d<i;d++){c=h[d];if(c.isMarkerHolder){g=c.getMarker('items');if(g){g.getTemplate().modifiers.highlight.setStyle(e)}f=c.getMarker('markers');if(f){f.getTemplate().modifiers.highlight.setStyle(e)}}}}else {if(!a.Object.equals(j,this.defaultConfig.highlightCfg)){this.addItemHighlight()}}},updateHighlightCfg:function(b){if(!this.isConfiguring&&!a.Object.equals(b,this.defaultConfig.highlightCfg)){this.addItemHighlight()}},applyItemInstancing:function(b,c){if(b&&c&&(!b.type||b.type===c.type)){b=a.merge({},c,b)}if(b&&!b.type){b=null}return b},setAttributesForItem:function(c,d){var b=c&&c.sprite,e;if(b){if(b.isMarkerHolder&&c.category==='items'){b.putMarker(c.category,d,c.index,!1,!0)}if(b.isMarkerHolder&&c.category==='markers'){b.putMarker(c.category,d,c.index,!1,!0)}else {if(b.isInstancing){b.setAttributesFor(c.index,d)}else {if(a.isArray(b)){for(e=0;e<b.length;e++){b[e].setAttributes(d)}}else {b.setAttributes(d)}}}}},getBBoxForItem:function(c){var b=c&&c.sprite,d=null;if(b){if(b.getMarker('items')&&c.category==='items'){d=b.getMarkerBBox(c.category,c.index)}else {if(b instanceof a.draw.sprite.Instancing){d=b.getBBoxFor(c.index)}else {d=b.getBBox()}}}return d},dataRange:null,constructor:function(b){var c=this,d;b=b||{};if(b.tips){b=a.apply({tooltip:b.tips},b)}if(b.highlightCfg){b=a.apply({highlight:b.highlightCfg},b)}if('id' in b){d=b.id}else {if('id' in c.config){d=c.config.id}else {d=c.getId()}}c.setId(d);c.sprites=[];c.dataRange=[];c.mixins.observable.constructor.call(c,b);c.initBindable()},lookupViewModel:function(c){var b=this.getChart();return b?b.lookupViewModel(c):null},applyTooltip:function(b,d){var c=a.apply({xtype:'tooltip',renderer:a.emptyFn,constrainPosition:!0,shrinkWrapDock:!0,autoHide:!0,hideDelay:200,mouseOffset:[20,20],trackMouse:!0},b);return a.create(c)},updateTooltip:function(){this.addItemHighlight()},addItemHighlight:function(){var e=this.getChart();if(!e){return}var b=e.getInteractions(),c,d,f;for(c=0;c<b.length;c++){d=b[c];if(d.isItemHighlight||d.isItemEdit){f=!0;break}}if(!f){b.push('itemhighlight');e.setInteractions(b)}},showTooltip:function(c,e){var d=this,b=d.getTooltip();if(!b){return}a.callback(b.renderer,b.scope,[b,c.record,c],0,d);b.showBy(e)},showTooltipAt:function(d,f,g){var e=this,b=e.getTooltip(),c=b.config.mouseOffset;if(!b||!b.showAt){return}if(c){f+=c[0];g+=c[1]}a.callback(b.renderer,b.scope,[b,d.record,d],0,e);b.showAt([f,g])},hideTooltip:function(e,c){var d=this,b=d.getTooltip();if(!b){return}if(c){b.hide()}else {b.delayHide()}},applyStore:function(b){return b&&a.StoreManager.lookup(b)},getStore:function(){return this._store||this.getChart()&&this.getChart().getStore()},updateStore:function(d,c){var b=this,h=b.getChart(),j=h&&h.getStore(),f,g,i,e;c=c||j;if(c&&c!==d){c.un({datachanged:'onDataChanged',update:'onDataChanged',scope:b})}if(d){d.on({datachanged:'onDataChanged',update:'onDataChanged',scope:b});f=b.getSprites();for(e=0,i=f.length;e<i;e++){g=f[e];if(g.setStore){g.setStore(d)}}b.onDataChanged()}b.fireEvent('storechange',b,d,c)},onStoreChange:function(d,b,c){if(!this._store){this.updateStore(b,c)}},defaultRange:[0,1],coordinate:function(e,k,o){var b=this,r=b.getStore(),m=b.getHidden(),q=r.getData().items,g=b['get'+e+'Axis'](),d=[NaN,NaN],h=b['fieldCategory'+e]||[e],p=b.getFields(h),c,n,j,f={},i=b.getSprites(),l;if(i.length&&!a.isBoolean(m)||!m){for(c=0;c<h.length;c++){n=p[c];j=b.coordinateData(q,n,g);a.chart.Util.expandRange(d,j);f['data'+h[c]]=j}d=a.chart.Util.validateRange(d,b.defaultRange,0);b.dataRange[k]=d[0];b.dataRange[k+o]=d[1];f['dataMin'+e]=d[0];f['dataMax'+e]=d[1];if(g){l=g.getRange(!0);g.setBoundSeriesRange(l)}for(c=0;c<i.length;c++){i[c].setAttributes(f)}}},coordinateData:function(e,g,h){var d=[],i=e.length,f=h&&h.getLayout(),b,c;for(b=0;b<i;b++){c=e[b].data[g];if(!a.isEmpty(c,!0)){if(f){d[b]=f.getCoordFor(c,g,b,e)}else {c=+c;d[b]=a.isNumber(c)?c:b}}else {d[b]=c}}return d},updateLabelData:function(){var j=this.getLabel();if(!j){return}var m=this.getStore(),i=m.getData().items,g=this.getSprites(),l=j.getTemplate(),f=a.Array.from(l.getField()),b,e,k,h,c,d;if(!g.length||!f.length){return}for(b=0;b<g.length;b++){c=g[b];if(!c.getField){continue}h=[];d=c.getField();if(a.Array.indexOf(f,d)<0){d=f[b]}for(e=0,k=i.length;e<k;e++){h.push(i[e].get(d))}c.setAttributes({labels:h})}},processData:function(){var b=this;if(b.isProcessingData||!b.getStore()){return}var g=this.directions,c,h=g.length,d,e,f;b.isProcessingData=!0;for(c=0;c<h;c++){d=g[c];e=b['get'+d+'Axis']();if(e){e.processData(b);continue}f='coordinate'+d;if(b[f]){b[f]()}}b.updateLabelData();b.isProcessingData=!1},applyBackground:function(d){var b,c;if(this.getChart()){b=this.getSurface();b.setBackground(d);c=b.getBackground()}else {c=d}return c},updateChart:function(c,d){var b=this,e=b._store;if(d){d.un('axeschange','onAxesChange',b);b.clearSprites();b.setSurface(null);b.setOverlaySurface(null);d.unregister(b);b.onChartDetached(d);if(!e){b.updateStore(null)}}if(c){b.setSurface(c.getSurface('series'));b.setOverlaySurface(c.getSurface('overlay'));c.on('axeschange','onAxesChange',b);if(c.getAxes()){b.onAxesChange(c)}b.onChartAttached(c);c.register(b);if(!e){b.updateStore(c.getStore())}}},onAxesChange:function(i,m){if(i.destroying||i.destroyed){return}var g=this,l=i.getAxes(),d,f={},j={},k=!1,h=this.directions,b,c,e;for(c=0,e=h.length;c<e;c++){b=h[c];j[b]=g.getFields(g['fieldCategory'+b])}for(c=0,e=l.length;c<e;c++){d=l[c];b=d.getDirection();if(!f[b]){f[b]=[d]}else {f[b].push(d)}}for(c=0,e=h.length;c<e;c++){b=h[c];if(!m&&g['get'+b+'Axis']()){continue}if(f[b]){d=g.findMatchingAxis(f[b],j[b]);if(d){g['set'+b+'Axis'](d);if(d.getNeedHighPrecision()){k=!0}}}}this.getSurface().setHighPrecision(k)},findMatchingAxis:function(g,e){var b,f,c,d;for(c=0;c<g.length;c++){b=g[c];f=b.getFields();if(!f.length){return b}else {if(e){for(d=0;d<e.length;d++){if(a.Array.indexOf(f,e[d])>=0){return b}}}}}},onChartDetached:function(c){var b=this;b.fireEvent('chartdetached',c,b);c.un('storechange','onStoreChange',b)},onChartAttached:function(c){var b=this;b.fireEvent('chartattached',c,b);c.on('storechange','onStoreChange',b);b.processData()},updateOverlaySurface:function(b){var c=this.getLabel();if(b&&c){b.add(c)}},getLabel:function(){return this.labelMarker},setLabel:function(c){var d=this,f=d.getChart(),b=d.labelMarker,e;if(!c&&b){b.getTemplate().destroy();b.destroy();d.labelMarker=b=null}if(c){if(!b){b=d.labelMarker=new a.chart.Markers({zIndex:10});b.setTemplate(new a.chart.sprite.Label());d.getOverlaySurface().add(b)}e=b.getTemplate();e.setAttributes(c);e.setConfig(c);if(c.field){e.setField(c.field)}if(c.display){b.setAttributes({hidden:c.display==='none'})}b.setDirty(!0)}d.updateLabelData();if(f&&!f.isInitializing&&!d.isConfiguring){f.redraw()}},createItemInstancingSprite:function(h,f){var e=this,b=new a.chart.Markers(),g=a.apply({modifiers:'highlight'},f),i=e.getStyle(),d,c;b.setAttributes({zIndex:Number.MAX_VALUE});b.setTemplate(g);d=b.getTemplate();d.setAttributes(i);c=d.getAnimation();c.on('animationstart','onSpriteAnimationStart',this);c.on('animationend','onSpriteAnimationEnd',this);h.bindMarker('items',b);e.getSurface().add(b);return b},getDefaultSpriteConfig:function(){return {type:this.seriesType,renderer:this.getRenderer()}},updateRenderer:function(d){var c=this,b=c.getChart();if(b&&b.isInitializing){return}if(c.sprites.length){c.sprites[0].setAttributes({renderer:d||null});if(b&&!b.isInitializing){b.redraw()}}},updateShowMarkers:function(d){var c=this.getSprite(),b=c&&c.getMarker('markers');if(b){b.getTemplate().setAttributes({hidden:!d})}},createSprite:function(){var b=this,g=b.getSurface(),f=b.getItemInstancing(),c=g.add(b.getDefaultSpriteConfig()),e,d;c.setAttributes(b.getStyle());c.setSeries(b);if(f){b.createItemInstancingSprite(c,f)}if(c.isMarkerHolder){d=b.getLabel();if(d&&d.getTemplate().getField()){c.bindMarker('labels',d)}}if(c.setStore){c.setStore(b.getStore())}e=c.getAnimation();e.on('animationstart','onSpriteAnimationStart',b);e.on('animationend','onSpriteAnimationEnd',b);b.sprites.push(c);return c},getSprites:null,getSprite:function(){var b=this.getSprites();return b&&b[0]},withSprite:function(c){var b=this.getSprite();return b&&c(b)||undefined},forEachSprite:function(e){var c=this.getSprites(),b,d;for(b=0,d=c.length;b<d;b++){e(c[b])}},onDataChanged:function(){var b=this,c=b.getChart(),e=c&&c.getStore(),d=b.getStore();if(d!==e){b.processData()}},isXType:function(b){return b==='series'},getItemId:function(){return this.getId()},applyThemeStyle:function(b,f){var e=this,c,d;c=b&&b.subStyle&&b.subStyle.fillStyle;d=c&&b.subStyle.strokeStyle;if(c&&!d){b.subStyle.strokeStyle=e.getStrokeColorsFromFillColors(c)}c=b&&b.markerSubStyle&&b.markerSubStyle.fillStyle;d=c&&b.markerSubStyle.strokeStyle;if(c&&!d){b.markerSubStyle.strokeStyle=e.getStrokeColorsFromFillColors(c)}return a.apply(f||{},b)},applyStyle:function(c,b){return a.apply({},c,b)},applySubStyle:function(b,d){var e=a.ClassManager.getNameByAlias('sprite.'+this.seriesType),c=a.ClassManager.get(e);if(c&&c.def){b=c.def.batchedNormalize(b,!0)}return a.merge({},d,b)},applyMarker:function(b,e){var c,d;if(b){if(!a.isObject(b)){b={}}c=b.type||'circle';if(e&&c===e.type){b=a.merge({},e,b)}}if(c){d=a.ClassManager.get(a.ClassManager.getNameByAlias('sprite.'+c))}if(d&&d.def){b=d.def.normalize(b,!0);b.type=c}else {b=null;a.log.warn('Invalid series marker type: '+c)}return b},updateMarker:function(h){var c=this,g=c.getSprites(),d,b,f,e,i;for(e=0,i=g.length;e<i;e++){d=g[e];if(!d.isMarkerHolder){continue}b=d.getMarker('markers');if(h){if(!b){b=new a.chart.Markers();d.bindMarker('markers',b);c.getOverlaySurface().add(b)}f=a.Object.merge({modifiers:'highlight'},h);b.setTemplate(f);b.getTemplate().getAnimation().setCustomDurations({translationX:0,translationY:0})}else {if(b){d.releaseMarker('markers');c.getOverlaySurface().remove(b,!0)}}d.setDirty(!0)}if(!c.isConfiguring){c.doUpdateStyles();c.updateHighlight(c.getHighlight())}},applyMarkerSubStyle:function(b,c){var e=b&&b.type||c&&c.type||'circle',d=a.ClassManager.get(a.ClassManager.getNameByAlias('sprite.'+e));if(d&&d.def){b=d.def.batchedNormalize(b,!0)}return a.merge(c||{},b)},updateHidden:function(c){var b=this;b.getColors();b.getSubStyle();b.setSubStyle({hidden:c});b.processData();b.doUpdateStyles();if(!a.isArray(c)){b.updateLegendStore(c)}},updateLegendStore:function(d,h){var g=this,e=g.getChart(),c=e&&e.getLegendStore(),f=g.getId(),b;if(c){if(arguments.length>1){b=c.findBy(function(b){return b.get('series')===f&&b.get('index')===h});if(b!==-1){b=c.getAt(b)}}else {b=c.findRecord('series',f)}if(b&&b.get('disabled')!==d){b.set('disabled',d)}}},setHiddenByIndex:function(d,c){var b=this;if(a.isArray(b.getHidden())){b.getHidden()[d]=c;b.updateHidden(b.getHidden());b.updateLegendStore(c,d)}else {b.setHidden(c)}},getStrokeColorsFromFillColors:function(d){var e=this,c=e.getUseDarkerStrokeColor(),f=a.isNumber(c)?c:e.darkerStrokeRatio,b;if(c){b=a.Array.map(d,function(b){b=a.isString(b)?b:b.stops[0].color;b=a.util.Color.fromString(b);return b.createDarker(f).toString()})}else {b=a.Array.clone(d)}return b},updateThemeColors:function(e){var b=this,c=b.getThemeStyle(),g=a.Array.clone(e),f=b.getStrokeColorsFromFillColors(e),d={fillStyle:g,strokeStyle:f};c.subStyle=a.apply(c.subStyle||{},d);c.markerSubStyle=a.apply(c.markerSubStyle||{},d);b.doUpdateStyles();if(!b.isConfiguring){b.getChart().refreshLegendStore()}},themeOnlyIfConfigured:{},updateTheme:function(p){var d=this,e=p.getSeries(),n=d.getInitialConfig(),m=d.defaultConfig,o=d.self.getConfigurator().configs,l=e.defaults,k=e[d.type],j=d.themeOnlyIfConfigured,c,b,h,f,g,i;e=a.merge({},l,k);for(c in e){b=e[c];i=o[c];if(b!==null&&b!==undefined&&i){g=n[c];h=a.isObject(b);f=g===m[c];if(h){if(f&&j[c]){continue}b=a.merge({},b,g)}if(f||h){d[i.names.set](b)}}}},updateChartColors:function(c){var b=this;if(!b.getColors()){b.updateThemeColors(c)}},updateColors:function(c){this.updateThemeColors(c);if(!this.isConfiguring){var b=this.getChart();if(b){b.refreshLegendStore()}}},updateStyle:function(){this.doUpdateStyles()},updateSubStyle:function(){this.doUpdateStyles()},updateThemeStyle:function(){this.doUpdateStyles()},doUpdateStyles:function(){var d=this,e=d.sprites,h=d.getItemInstancing(),i=e&&e.length,j=d.getConfig('showMarkers',!0),g,c,f,b;for(b=0;b<i;b++){c=e[b];g=d.getStyleByIndex(b);if(h){c.getMarker('items').getTemplate().setAttributes(g)}c.setAttributes(g);f=c.isMarkerHolder&&c.getMarker('markers');if(f){f.getTemplate().setAttributes(d.getMarkerStyleByIndex(b))}}},getStyleWithTheme:function(){var d=this,b=d.getThemeStyle(),c=a.clone(d.getStyle());if(b&&b.style){a.applyIf(c,b.style)}return c},getSubStyleWithTheme:function(){var d=this,b=d.getThemeStyle(),c=a.clone(d.getSubStyle());if(b&&b.subStyle){a.applyIf(c,b.subStyle)}return c},getStyleByIndex:function(i){var c=this,d=c.getThemeStyle(),h,f,g,e,b={};h=c.getStyle();f=d&&d.style||{};g=c.styleDataForIndex(c.getSubStyle(),i);e=c.styleDataForIndex(d&&d.subStyle,i);a.apply(b,f);a.apply(b,e);a.apply(b,h);a.apply(b,g);return b},getMarkerStyleByIndex:function(f){var d=this,c=d.getThemeStyle(),m,l,e,j,k,h,i,g,b={};m=d.getStyle();l=c&&c.style||{};e=d.styleDataForIndex(d.getSubStyle(),f);if(e.hasOwnProperty('hidden')){e.hidden=e.hidden||!this.getConfig('showMarkers',!0)}j=d.styleDataForIndex(c&&c.subStyle,f);k=d.getMarker();h=c&&c.marker||{};i=d.getMarkerSubStyle();g=d.styleDataForIndex(c&&c.markerSubStyle,f);a.apply(b,l);a.apply(b,j);a.apply(b,h);a.apply(b,g);a.apply(b,m);a.apply(b,e);a.apply(b,k);a.apply(b,i);return b},styleDataForIndex:function(e,f){var b,c,d={};if(e){for(c in e){b=e[c];if(a.isArray(b)){d[c]=b[f%b.length]}else {d[c]=b}}}return d},getItemForPoint:a.emptyFn,getItemByIndex:function(f,b){var d=this,e=d.getSprites(),c=e&&e[0],g;if(!c){return}if(b===undefined&&c.isMarkerHolder){b=d.getItemInstancing()?'items':'markers'}else {if(!b||b===''||b==='sprites'){c=e[f]}}if(c){g={series:d,category:b,index:f,record:d.getStore().getData().items[f],field:d.getYField(),sprite:c};return g}},onSpriteAnimationStart:function(b){this.fireEvent('animationstart',this,b)},onSpriteAnimationEnd:function(b){this.fireEvent('animationend',this,b)},resolveListenerScope:function(e){var d=this,f=a._namedScopes[e],b=d.getChart(),c;if(!f){c=b?b.resolveListenerScope(e,!1):e||d}else {if(f.isThis){c=d}else {if(f.isController){c=b?b.resolveListenerScope(e,!1):d}else {if(f.isSelf){c=b?b.resolveListenerScope(e,!1):d;if(c===b&&!b.getInheritedConfig('defaultListenerScope')){c=d}}}}}return c},provideLegendInfo:function(e){var c=this,d=c.getSubStyleWithTheme(),b=d.fillStyle;if(a.isArray(b)){b=b[0]}e.push({name:c.getTitle()||c.getYField()||c.getId(),mark:(a.isObject(b)?b.stops&&b.stops[0].color:b)||d.strokeStyle||'black',disabled:c.getHidden(),series:c.getId(),index:0})},clearSprites:function(){var d=this.sprites,b,c,e;for(c=0,e=d.length;c<e;c++){b=d[c];if(b&&b.isSprite){b.destroy()}}this.sprites=[]},destroy:function(){var b=this,c=b._store,d=b.getConfig('tooltip',!0);if(c&&c.getAutoDestroy()){a.destroy(c)}b.setChart(null);b.clearListeners();if(d){a.destroy(d)}b.callParent()}});a.define('Ext.chart.interactions.Abstract',{xtype:'interaction',mixins:{observable:'Ext.mixin.Observable'},config:{gestures:{tap:'onGesture'},chart:null,enabled:!0},throttleGap:0,stopAnimationBeforeSync:!1,constructor:function(c){var b=this,d;c=c||{};if('id' in c){d=c.id}else {if('id' in b.config){d=b.config.id}else {d=b.getId()}}b.setId(d);b.mixins.observable.constructor.call(b,c)},updateChart:function(d,b){var c=this;if(b===d){return}if(b){b.unregister(c);c.removeChartListener(b)}if(d){d.register(c);c.addChartListener()}},updateEnabled:function(d){var b=this,c=b.getChart();if(c){if(d){b.addChartListener()}else {b.removeChartListener(c)}}},onGesture:a.emptyFn,getItemForEvent:function(e){var d=this,c=d.getChart(),b=c.getEventXY(e);return c.getItemForPoint(b[0],b[1])},getItemsForEvent:function(e){var d=this,c=d.getChart(),b=c.getEventXY(e);return c.getItemsForPoint(b[0],b[1])},addChartListener:function(){var b=this,e=b.getChart(),d=b.getGestures(),c;if(!b.getEnabled()){return}function insertGesture(c,d){e.addElementListener(c,b.listeners[c]=function(f){var g=b.getLocks(),e;if(b.getEnabled()&&(!(c in g)||g[c]===b)){e=(a.isFunction(d)?d:b[d]).apply(this,arguments);if(e===!1&&f&&f.stopPropagation){f.stopPropagation()}return e}},b)}b.listeners=b.listeners||{};for(c in d){insertGesture(c,d[c])}},removeChartListener:function(e){var b=this,d=b.getGestures(),c;function removeGesture(c){var d=b.listeners[c];if(d){e.removeElementListener(c,d);delete b.listeners[c]}}if(b.listeners){for(c in d){removeGesture(c)}}},lockEvents:function(){var c=this,e=c.getLocks(),b=Array.prototype.slice.call(arguments),d=b.length;while(d--){e[b[d]]=c}},unlockEvents:function(){var d=this.getLocks(),b=Array.prototype.slice.call(arguments),c=b.length;while(c--){delete d[b[c]]}},getLocks:function(){var b=this.getChart();return b.lockedEvents||(b.lockedEvents={})},doSync:function(){var b=this,c=b.getChart();if(b.syncTimer){a.undefer(b.syncTimer);b.syncTimer=null}if(b.stopAnimationBeforeSync){c.animationSuspendCount++}c.redraw();if(b.stopAnimationBeforeSync){c.animationSuspendCount--}b.syncThrottle=Date.now()+b.throttleGap},sync:function(){var b=this;if(b.throttleGap&&a.frameStartTime<b.syncThrottle){if(b.syncTimer){return}b.syncTimer=a.defer(function(){b.doSync()},b.throttleGap)}else {b.doSync()}},getItemId:function(){return this.getId()},isXType:function(b){return b==='interaction'},destroy:function(){var b=this;b.setChart(null);delete b.listeners;b.callParent()}},function(){if(a.os.is.Android4){this.prototype.throttleGap=40}});a.define('Ext.chart.MarkerHolder',{extend:'Ext.Mixin',requires:['Ext.chart.Markers'],mixinConfig:{id:'markerHolder',after:{constructor:'constructor',preRender:'preRender'},before:{destroy:'destroy'}},isMarkerHolder:!0,surfaceMatrix:null,inverseSurfaceMatrix:null,deprecated:{6:{methods:{getBoundMarker:{message:"Please use the 'getMarker' method instead.",fn:function(c){var b=this.boundMarkers[c];return b?[b]:b}}}}},constructor:function(){this.boundMarkers={};this.cleanRedraw=!1},bindMarker:function(c,b){var d=this,e=d.boundMarkers;if(b&&b.isMarkers){if(e[c]&&e[c]===b){a.log.warn(d.getId()," (MarkerHolder): the Markers instance '",b.getId(),"' is already bound under the name '",c,"'.")}d.releaseMarker(c);e[c]=b;b.on('destroy',d.onMarkerDestroy,d)}},onMarkerDestroy:function(b){this.releaseMarker(b)},releaseMarker:function(b){var d=this.boundMarkers,c;if(b&&b.isMarkers){for(c in d){if(d[c]===b){delete d[c];break}}}else {c=b;b=d[c];delete d[c]}return b||null},getMarker:function(b){return this.boundMarkers[b]||null},preRender:function(i,k,j){var b=this,h=b.getId(),f=b.boundMarkers,c=b.getParent(),g,e,d;if(b.surfaceMatrix){d=b.surfaceMatrix.set(1,0,0,1,0,0)}else {d=b.surfaceMatrix=new a.draw.Matrix()}b.cleanRedraw=!b.attr.dirty;if(!b.cleanRedraw){for(g in f){e=f[g];if(e){e.clear(h)}}}while(c&&c.attr&&c.attr.matrix){d.prependMatrix(c.attr.matrix);c=c.getParent()}d.prependMatrix(c.matrix);b.surfaceMatrix=d;b.inverseSurfaceMatrix=d.inverse(b.inverseSurfaceMatrix)},putMarker:function(g,f,e,c,d){var b=this.boundMarkers[g];if(b){b.putMarkerFor(this.getId(),f,e,c,d)}},getMarkerBBox:function(e,d,c){var b=this.boundMarkers[e];if(b){return b.getMarkerBBoxFor(this.getId(),d,c)}},destroy:function(){var b=this.boundMarkers,d,c;for(d in b){c=b[d];c.destroy()}}});a.define('Ext.chart.axis.sprite.Axis',{extend:'Ext.draw.sprite.Sprite',alias:'sprite.axis',type:'axis',mixins:{markerHolder:'Ext.chart.MarkerHolder'},requires:['Ext.draw.sprite.Text'],inheritableStatics:{def:{processors:{grid:'bool',axisLine:'bool',minorTicks:'bool',minorTickSize:'number',majorTicks:'bool',majorTickSize:'number',length:'number',startGap:'number',endGap:'number',dataMin:'number',dataMax:'number',visibleMin:'number',visibleMax:'number',position:'enums(left,right,top,bottom,angular,radial,gauge)',minStepSize:'number',estStepSize:'number',titleOffset:'number',textPadding:'number',min:'number',max:'number',centerX:'number',centerY:'number',radius:'number',totalAngle:'number',baseRotation:'number',data:'default',enlargeEstStepSizeByText:'bool'},defaults:{grid:!1,axisLine:!0,minorTicks:!1,minorTickSize:3,majorTicks:!0,majorTickSize:5,length:0,startGap:0,endGap:0,visibleMin:0,visibleMax:1,dataMin:0,dataMax:1,position:'',minStepSize:0,estStepSize:20,min:0,max:1,centerX:0,centerY:0,radius:1,baseRotation:0,data:null,titleOffset:0,textPadding:0,scalingCenterY:0,scalingCenterX:0,strokeStyle:'black',enlargeEstStepSizeByText:!1},triggers:{minorTickSize:'bbox',majorTickSize:'bbox',position:'bbox,layout',axisLine:'bbox,layout',minorTicks:'layout',min:'layout',max:'layout',length:'layout',minStepSize:'layout',estStepSize:'layout',data:'layout',dataMin:'layout',dataMax:'layout',visibleMin:'layout',visibleMax:'layout',enlargeEstStepSizeByText:'layout'},updaters:{layout:'layoutUpdater'}}},config:{label:null,labelOffset:10,layout:null,segmenter:null,renderer:null,layoutContext:null,axis:null},thickness:0,stepSize:0,getBBox:function(){return null},defaultRenderer:function(b){return this.segmenter.renderer(b,this)},layoutUpdater:function(){var c=this,j=c.getAxis().getChart();if(j.isInitializing){return}var b=c.attr,i=c.getLayout(),k=j.getInherited().rtl,g=b.dataMax-b.dataMin,f=b.dataMin+g*b.visibleMin,l=b.dataMin+g*b.visibleMax,d=l-f,e=b.position,h={attr:b,segmenter:c.getSegmenter(),renderer:c.defaultRenderer};if(e==='left'||e==='right'){b.translationX=0;b.translationY=l*b.length/d;b.scalingX=1;b.scalingY=-b.length/d;b.scalingCenterY=0;b.scalingCenterX=0;c.applyTransformations(!0)}else {if(e==='top'||e==='bottom'){if(k){b.translationX=b.length+f*b.length/d+1}else {b.translationX=-f*b.length/d}b.translationY=0;b.scalingX=(k?-1:1)*b.length/d;b.scalingY=1;b.scalingCenterY=0;b.scalingCenterX=0;c.applyTransformations(!0)}}if(i){i.calculateLayout(h);c.setLayoutContext(h)}},iterate:function(b,d){var c,f,k,i,h,e,l=a.Array.some,m=Math.abs,j;if(b.getLabel){if(b.min<b.from){d.call(this,b.min,b.getLabel(b.min),-1,b)}for(c=0;c<=b.steps;c++){d.call(this,b.get(c),b.getLabel(c),c,b)}if(b.max>b.to){d.call(this,b.max,b.getLabel(b.max),b.steps+1,b)}}else {var g=function(c){return !e.length||l(e,function(e){return m(e-c)>j})};i=this.getAxis();h=i.floatingAxes;e=[];j=(b.to-b.from)/(b.steps+1);if(i.getFloating()){for(k in h){e.push(h[k])}}if(b.min<b.from&&g(b.min)){d.call(this,b.min,b.min,-1,b)}for(c=0;c<=b.steps;c++){f=b.get(c);if(g(f)){d.call(this,f,f,c,b)}}if(b.max>b.to&&g(b.max)){d.call(this,b.max,b.max,b.steps+1,b)}}},renderTicks:function(k,c,q,j){var d=this,b=d.attr,w=b.position,l=b.matrix,h=0.5*b.lineWidth,t=l.getXX(),r=l.getDX(),u=l.getYY(),s=l.getDY(),g=q.majorTicks,e=b.majorTickSize,f=q.minorTicks,i=b.minorTickSize;if(g){switch(w){case 'right':var n=function(b){return function(d,e,f){d=k.roundPixel(d*u+s)+h;c.moveTo(0,d);c.lineTo(b,d)}};d.iterate(g,n(e));f&&d.iterate(f,n(i));break;case 'left':var o=function(b){return function(d,e,f){d=k.roundPixel(d*u+s)+h;c.moveTo(j[2]-b,d);c.lineTo(j[2],d)}};d.iterate(g,o(e));f&&d.iterate(f,o(i));break;case 'bottom':var m=function(b){return function(d,e,f){d=k.roundPixel(d*t+r)-h;c.moveTo(d,0);c.lineTo(d,b)}};d.iterate(g,m(e));f&&d.iterate(f,m(i));break;case 'top':var p=function(b){return function(d,e,f){d=k.roundPixel(d*t+r)-h;c.moveTo(d,j[3]);c.lineTo(d,j[3]-b)}};d.iterate(g,p(e));f&&d.iterate(f,p(i));break;case 'angular':d.iterate(g,function(d,f,g){d=d/(b.max+1)*Math.PI*2+b.baseRotation;c.moveTo(b.centerX+b.length*Math.cos(d),b.centerY+b.length*Math.sin(d));c.lineTo(b.centerX+(b.length+e)*Math.cos(d),b.centerY+(b.length+e)*Math.sin(d))});break;case 'gauge':var v=d.getGaugeAngles();d.iterate(g,function(d,f,g){d=(d-b.min)/(b.max-b.min)*b.totalAngle-b.totalAngle+v.start;c.moveTo(b.centerX+b.length*Math.cos(d),b.centerY+b.length*Math.sin(d));c.lineTo(b.centerX+(b.length+e)*Math.cos(d),b.centerY+(b.length+e)*Math.sin(d))});break;}}},renderLabels:function(f,I,j,t){var i=this,b=i.attr,q=0.5*b.lineWidth,u=b.position,C=b.matrix,H=b.textPadding,K=C.getXX(),w=C.getDX(),L=C.getYY(),J=C.getDY(),s=0,y=j.majorTicks,l=Math.max(b.majorTickSize,b.minorTickSize)+b.lineWidth,A=a.draw.Draw.isBBoxIntersect,c=i.getLabel(),F,x=i.getLabelOffset(),g=null,p=0,v=0,B=j.segmenter,o=i.getRenderer(),m=i.getAxis(),E=m.getTitle(),n=E&&E.attr.text!==''&&E.getBBox(),D,h=null,d,z,e,k,r,G;if(y&&c&&!c.attr.hidden){F=c.attr.font;if(I.font!==F){I.font=F}c.setAttributes({translationX:0,translationY:0},!0);c.applyTransformations();D=c.attr.inverseMatrix.elements.slice(0);switch(u){case 'left':k=n?n.x+n.width:0;switch(c.attr.textAlign){case 'start':r=f.roundPixel(k+w)-q;break;case 'end':r=f.roundPixel(t[2]-l+w)-q;break;default:r=f.roundPixel(k+(t[2]-k-l)/2+w)-q;};c.setAttributes({translationX:r},!0);break;case 'right':k=n?t[2]-n.x:0;switch(c.attr.textAlign){case 'start':r=f.roundPixel(l+w)+q;break;case 'end':r=f.roundPixel(t[2]-k+w)+q;break;default:r=f.roundPixel(l+(t[2]-l-k)/2+w)+q;};c.setAttributes({translationX:r},!0);break;case 'top':k=n?n.y+n.height:0;c.setAttributes({translationY:f.roundPixel(k+(t[3]-k-l)/2)-q},!0);break;case 'bottom':k=n?t[3]-n.y:0;c.setAttributes({translationY:f.roundPixel(l+(t[3]-l-k)/2)+q},!0);break;case 'radial':c.setAttributes({translationX:b.centerX},!0);break;case 'angular':c.setAttributes({translationY:b.centerY},!0);break;case 'gauge':c.setAttributes({translationY:b.centerY},!0);break;}if(u==='left'||u==='right'){i.iterate(y,function(i,b,k){if(b===undefined){return}if(o){e=a.callback(o,null,[m,b,j,g],0,m)}else {e=B.renderer(b,j,g)}g=b;c.setAttributes({text:String(e),translationY:f.roundPixel(i*L+J)},!0);c.applyTransformations();s=Math.max(s,c.getBBox().width+l);z=a.draw.Matrix.fly(c.attr.matrix.elements.slice(0));d=z.prepend.apply(z,D).transformBBox(c.getBBox(!0));if(h&&!A(d,h,H)){return}f.renderSprite(c);h=d;p+=d.height;v++})}else {if(u==='top'||u==='bottom'){i.iterate(y,function(i,b,k){if(b===undefined){return}if(o){e=a.callback(o,null,[m,b,j,g],0,m)}else {e=B.renderer(b,j,g)}g=b;c.setAttributes({text:String(e),translationX:f.roundPixel(i*K+w)},!0);c.applyTransformations();s=Math.max(s,c.getBBox().height+l);z=a.draw.Matrix.fly(c.attr.matrix.elements.slice(0));d=z.prepend.apply(z,D).transformBBox(c.getBBox(!0));if(h&&!A(d,h,H)){return}f.renderSprite(c);h=d;p+=d.width;v++})}else {if(u==='radial'){i.iterate(y,function(k,i,l){if(i===undefined){return}if(o){e=a.callback(o,null,[m,i,j,g],0,m)}else {e=B.renderer(i,j,g)}g=i;if(typeof e!=='undefined'){c.setAttributes({text:String(e),translationX:b.centerX-f.roundPixel(k)/b.max*b.length*Math.cos(b.baseRotation+Math.PI/2),translationY:b.centerY-f.roundPixel(k)/b.max*b.length*Math.sin(b.baseRotation+Math.PI/2)},!0);c.applyTransformations();d=c.attr.matrix.transformBBox(c.getBBox(!0));if(h&&!A(d,h)){return}f.renderSprite(c);h=d;p+=d.width;v++}})}else {if(u==='angular'){x+=b.majorTickSize+b.lineWidth*0.5;i.iterate(y,function(l,i,n){if(i===undefined){return}if(o){e=a.callback(o,null,[m,i,j,g],0,m)}else {e=B.renderer(i,j,g)}g=i;s=Math.max(s,Math.max(b.majorTickSize,b.minorTickSize)+(b.lineCap!=='butt'?b.lineWidth*0.5:0));if(typeof e!=='undefined'){var k=l/(b.max+1)*Math.PI*2+b.baseRotation;c.setAttributes({text:String(e),translationX:b.centerX+(b.length+x)*Math.cos(k),translationY:b.centerY+(b.length+x)*Math.sin(k)},!0);c.applyTransformations();d=c.attr.matrix.transformBBox(c.getBBox(!0));if(h&&!A(d,h)){return}f.renderSprite(c);h=d;p+=d.width;v++}})}else {if(u==='gauge'){G=i.getGaugeAngles();x+=b.majorTickSize+b.lineWidth*0.5;i.iterate(y,function(l,i,n){if(i===undefined){return}if(o){e=a.callback(o,null,[m,i,j,g],0,m)}else {e=B.renderer(i,j,g)}g=i;if(typeof e!=='undefined'){var k=(l-b.min)/(b.max-b.min)*b.totalAngle-b.totalAngle+G.start;c.setAttributes({text:String(e),translationX:b.centerX+(b.length+x)*Math.cos(k),translationY:b.centerY+(b.length+x)*Math.sin(k)},!0);c.applyTransformations();d=c.attr.matrix.transformBBox(c.getBBox(!0));if(h&&!A(d,h)){return}f.renderSprite(c);h=d;p+=d.width;v++}})}}}}}if(b.enlargeEstStepSizeByText&&v){p/=v;p+=l;p*=2;if(b.estStepSize<p){b.estStepSize=p}}if(Math.abs(i.thickness-s)>1){i.thickness=s;b.bbox.plain.dirty=!0;b.bbox.transform.dirty=!0;i.doThicknessChanged();return !1}}},renderAxisLine:function(h,c,k,g){var i=this,b=i.attr,d=b.lineWidth*0.5,j=b.position,e,f;if(b.axisLine&&b.length){switch(j){case 'left':e=h.roundPixel(g[2])-d;c.moveTo(e,-b.endGap);c.lineTo(e,b.length+b.startGap+1);break;case 'right':c.moveTo(d,-b.endGap);c.lineTo(d,b.length+b.startGap+1);break;case 'bottom':c.moveTo(-b.startGap,d);c.lineTo(b.length+b.endGap,d);break;case 'top':e=h.roundPixel(g[3])-d;c.moveTo(-b.startGap,e);c.lineTo(b.length+b.endGap,e);break;case 'angular':c.moveTo(b.centerX+b.length,b.centerY);c.arc(b.centerX,b.centerY,b.length,0,Math.PI*2,!0);break;case 'gauge':f=i.getGaugeAngles();c.moveTo(b.centerX+Math.cos(f.start)*b.length,b.centerY+Math.sin(f.start)*b.length);c.arc(b.centerX,b.centerY,b.length,f.start,f.end,!0);break;}}},getGaugeAngles:function(){var d=this,c=d.attr.totalAngle,b;if(c<=Math.PI){b=(Math.PI-c)*0.5}else {b=-(Math.PI*2-c)*0.5}b=Math.PI*2-b;return {start:b,end:b-c}},renderGridLines:function(t,u,q,s){var d=this,r=d.getAxis(),c=d.attr,k=c.matrix,j=c.startGap,l=c.endGap,o=k.getXX(),p=k.getYY(),m=k.getDX(),n=k.getDY(),h=c.position,g=r.getGridAlignment(),i=q.majorTicks,b,f,e;if(c.grid){if(i){if(h==='left'||h==='right'){e=c.min*p+n+l+j;d.iterate(i,function(h,i,c){b=h*p+n+l;d.putMarker(g+'-'+(c%2?'odd':'even'),{y:b,height:e-b},f=c,!0);e=b});f++;b=0;d.putMarker(g+'-'+(f%2?'odd':'even'),{y:b,height:e-b},f,!0)}else {if(h==='top'||h==='bottom'){e=c.min*o+m+j;if(j){d.putMarker(g+'-even',{x:0,width:e},-1,!0)}d.iterate(i,function(h,i,c){b=h*o+m+j;d.putMarker(g+'-'+(c%2?'odd':'even'),{x:b,width:e-b},f=c,!0);e=b});f++;b=c.length+c.startGap+c.endGap;d.putMarker(g+'-'+(f%2?'odd':'even'),{x:b,width:e-b},f,!0)}else {if(h==='radial'){d.iterate(i,function(f,i,h){if(!f){return}b=f/c.max*c.length;d.putMarker(g+'-'+(h%2?'odd':'even'),{scalingX:b,scalingY:b},h,!0);e=b})}else {if(h==='angular'){d.iterate(i,function(h,i,f){if(!c.length){return}b=h/(c.max+1)*Math.PI*2+c.baseRotation;d.putMarker(g+'-'+(f%2?'odd':'even'),{rotationRads:b,rotationCenterX:0,rotationCenterY:0,scalingX:c.length,scalingY:c.length},f,!0);e=b})}}}}}}},renderLimits:function(v){var l=this,d=l.attr,h=l.getAxis(),j=a.Array.from(h.getLimits());if(!j.length||d.dataMin===d.dataMax){if(h.limits){h.limits.titles.attr.hidden=!0}return}var u=h.getChart(),t=u.getInnerPadding(),n=h.limits.surface.getRect(),p=d.matrix,i=d.position,q=a.Object.chain,e=h.limits.titles,g,m,o,b,c,f,k,r,s;e.attr.hidden=!1;e.instances=[];e.position=0;if(i==='left'||i==='right'){for(f=0,k=j.length;f<k;f++){b=q(j[f]);!b.line&&(b.line={});c=a.isString(b.value)?h.getCoordFor(b.value):b.value;c=c*p.getYY()+p.getDY();b.line.y=c+t.top;b.line.strokeStyle=b.line.strokeStyle||d.strokeStyle;l.putMarker('horizontal-limit-lines',b.line,f,!0);if(b.line.title){e.add(b.line.title);g=e.getBBoxFor(e.position-1);m=b.line.title.position||(i==='left'?'start':'end');switch(m){case 'start':r=10;break;case 'end':r=n[2]-10;break;case 'middle':r=n[2]/2;break;}e.setAttributesFor(e.position-1,{x:r,y:b.line.y-g.height/2,textAlign:m,fillStyle:b.line.title.fillStyle||b.line.strokeStyle})}}}else {if(i==='top'||i==='bottom'){for(f=0,k=j.length;f<k;f++){b=q(j[f]);!b.line&&(b.line={});c=a.isString(b.value)?h.getCoordFor(b.value):b.value;c=c*p.getXX()+p.getDX();b.line.x=c+t.left;b.line.strokeStyle=b.line.strokeStyle||d.strokeStyle;l.putMarker('vertical-limit-lines',b.line,f,!0);if(b.line.title){e.add(b.line.title);g=e.getBBoxFor(e.position-1);m=b.line.title.position||(i==='top'?'end':'start');switch(m){case 'start':s=n[3]-g.width/2-10;break;case 'end':s=g.width/2+10;break;case 'middle':s=n[3]/2;break;}e.setAttributesFor(e.position-1,{x:b.line.x+g.height/2,y:s,fillStyle:b.line.title.fillStyle||b.line.strokeStyle,rotationRads:Math.PI/2})}}}else {if(i==='radial'){for(f=0,k=j.length;f<k;f++){b=q(j[f]);!b.line&&(b.line={});c=a.isString(b.value)?h.getCoordFor(b.value):b.value;if(c>d.max){continue}c=c/d.max*d.length;b.line.cx=d.centerX;b.line.cy=d.centerY;b.line.scalingX=c;b.line.scalingY=c;b.line.strokeStyle=b.line.strokeStyle||d.strokeStyle;l.putMarker('circular-limit-lines',b.line,f,!0);if(b.line.title){e.add(b.line.title);g=e.getBBoxFor(e.position-1);e.setAttributesFor(e.position-1,{x:d.centerX,y:d.centerY-c-g.height/2,fillStyle:b.line.title.fillStyle||b.line.strokeStyle})}}}else {if(i==='angular'){for(f=0,k=j.length;f<k;f++){b=q(j[f]);!b.line&&(b.line={});c=a.isString(b.value)?h.getCoordFor(b.value):b.value;c=c/(d.max+1)*Math.PI*2+d.baseRotation;b.line.translationX=d.centerX;b.line.translationY=d.centerY;b.line.rotationRads=c;b.line.rotationCenterX=0;b.line.rotationCenterY=0;b.line.scalingX=d.length;b.line.scalingY=d.length;b.line.strokeStyle=b.line.strokeStyle||d.strokeStyle;l.putMarker('radial-limit-lines',b.line,f,!0);if(b.line.title){e.add(b.line.title);g=e.getBBoxFor(e.position-1);o=c>-0.5*Math.PI&&c<0.5*Math.PI||c>1.5*Math.PI&&c<2*Math.PI?1:-1;e.setAttributesFor(e.position-1,{x:d.centerX+0.5*d.length*Math.cos(c)+o*g.height/2*Math.sin(c),y:d.centerY+0.5*d.length*Math.sin(c)-o*g.height/2*Math.cos(c),rotationRads:o===1?c:c-Math.PI,fillStyle:b.line.title.fillStyle||b.line.strokeStyle})}}}else {if(i==='gauge'){}}}}}},doThicknessChanged:function(){var b=this.getAxis();if(b){b.onThicknessChanged()}},render:function(f,b,e){var c=this,d=c.getLayoutContext();if(d){if(!1===c.renderLabels(f,b,d,e)){return !1}b.beginPath();c.renderTicks(f,b,d,e);c.renderAxisLine(f,b,d,e);c.renderGridLines(f,b,d,e);c.renderLimits(e);b.stroke()}}});a.define('Ext.chart.axis.segmenter.Segmenter',{config:{axis:null},constructor:function(b){this.initConfig(b)},renderer:function(b,c){return String(b)},from:function(b){return b},diff:a.emptyFn,align:a.emptyFn,add:a.emptyFn,preferredStep:a.emptyFn});a.define('Ext.chart.axis.segmenter.Names',{extend:'Ext.chart.axis.segmenter.Segmenter',alias:'segmenter.names',renderer:function(b,c){return b},diff:function(c,b,d){return Math.floor(b-c)},align:function(b,c,d){return Math.floor(b)},add:function(b,c,d){return b+c},preferredStep:function(e,b,c,d){return {unit:1,step:1}}});a.define('Ext.chart.axis.segmenter.Numeric',{extend:'Ext.chart.axis.segmenter.Segmenter',alias:'segmenter.numeric',isNumeric:!0,renderer:function(c,b){return c.toFixed(Math.max(0,b.majorTicks.unit.fixes))},diff:function(d,c,b){return Math.floor((c-d)/b.scale)},align:function(c,d,e){var b=e.scale*d;return Math.floor(c/b)*b},add:function(b,c,d){return b+c*d.scale},preferredStep:function(e,b){var c=Math.floor(Math.log(b)*Math.LOG10E),d=Math.pow(10,c);b/=d;if(b<2){b=2}else {if(b<5){b=5}else {if(b<10){b=10;c++}}}return {unit:{fixes:-c,scale:d},step:b}},leadingZeros:function(b){return -Math.floor(a.Number.log10(Math.abs(b)))},exactStep:function(e,b){var c=this.leadingZeros(b),d=Math.pow(10,c);return {unit:{fixes:c+(b%d===0?0:1),scale:b<1?b:1},step:b<1?1:b}},adjustByMajorUnit:function(i,h,e){var g=e[0],f=e[1],c=i*h,d,b;b=Math.max(1/(g||1),1/(c||1));b=b>1?b:1;d=g*b%(c*b)/b;if(d!==0){e[0]=g-d+(g<0?-c:0)}b=Math.max(1/(f||1),1/(c||1));b=b>1?b:1;d=f*b%(c*b)/b;if(d!==0){e[1]=f-d+(f>0?c:0)}}});a.define('Ext.chart.axis.segmenter.Time',{extend:'Ext.chart.axis.segmenter.Segmenter',alias:'segmenter.time',config:{step:null},renderer:function(c,d){var b=a.Date;switch(d.majorTicks.unit){case 'y':return b.format(c,'Y');case 'mo':return b.format(c,'Y-m');case 'd':return b.format(c,'Y-m-d');}return b.format(c,'Y-m-d\nH:i:s')},from:function(b){return new Date(b)},diff:function(c,b,d){if(isFinite(c)){c=new Date(c)}if(isFinite(b)){b=new Date(b)}return a.Date.diff(c,b,d)},updateStep:function(){var b=this.getAxis();if(b&&!this.isConfiguring){b.performLayout()}},align:function(b,c,d){if(d==='d'&&c>=7){b=a.Date.align(b,'d',c);b.setDate(b.getDate()-b.getDay()+1);return b}else {return a.Date.align(b,d,c)}},add:function(b,c,d){return a.Date.add(new Date(b),d,c)},timeBuckets:[{unit:a.Date.YEAR,steps:[1,2,5,10,20,50,100,200,500]},{unit:a.Date.MONTH,steps:[1,3,6]},{unit:a.Date.DAY,steps:[1,7,14]},{unit:a.Date.HOUR,steps:[1,6,12]},{unit:a.Date.MINUTE,steps:[1,5,15,30]},{unit:a.Date.SECOND,steps:[1,5,15,30]},{unit:a.Date.MILLI,steps:[1,2,5,10,20,50,100,200,500]}],getTimeBucket:function(k,j){var f=this.timeBuckets,i,e,g,h,c,b,d;for(b=0;b<f.length;b++){i=f[b].unit;e=this.diff(k,j,i);if(e>0){g=f[b].steps;for(d=0;d<g.length;d++){h=g[d];if(e<=h){break}}c={unit:i,step:h};break}}if(!c){c={unit:a.Date.MILLI,step:1}}return c},preferredStep:function(c,d){var b=this.getStep();return b?b:this.getTimeBucket(new Date(+c),new Date(+c+Math.ceil(d)))}});a.define('Ext.chart.axis.layout.Layout',{mixins:{observable:'Ext.mixin.Observable'},config:{axis:null},constructor:function(b){this.mixins.observable.constructor.call(this,b)},processData:function(e){var h=this,f=h.getAxis(),d=f.getDirection(),c=f.boundSeries,b,g;if(e){e['coordinate'+d]()}else {for(b=0,g=c.length;b<g;b++){c[b]['coordinate'+d]()}}},calculateMajorTicks:function(c){var f=this,b=c.attr,e=b.max-b.min,j=e/Math.max(1,b.length)*(b.visibleMax-b.visibleMin),i=b.min+e*b.visibleMin,h=b.min+e*b.visibleMax,g=b.estStepSize*j,d=f.snapEnds(c,b.min,b.max,g);if(d){f.trimByRange(c,d,i,h);c.majorTicks=d}},calculateMinorTicks:function(b){if(this.snapMinorEnds){b.minorTicks=this.snapMinorEnds(b)}},calculateLayout:function(b){var d=this,c=b.attr;if(c.length===0){return null}if(c.majorTicks){d.calculateMajorTicks(b);if(c.minorTicks){d.calculateMinorTicks(b)}}},snapEnds:a.emptyFn,trimByRange:function(j,b,e,h){var c=j.segmenter,d=b.unit,i=c.diff(b.from,e,d),k=c.diff(b.from,h,d),f=Math.max(0,Math.ceil(i/b.step)),g=Math.min(b.steps,Math.floor(k/b.step));if(g<b.steps){b.to=c.add(b.from,g*b.step,d)}if(b.max>h){b.max=b.to}if(b.from<e){b.from=c.add(b.from,f*b.step,d);while(b.from<e){f++;b.from=c.add(b.from,b.step,d)}}if(b.min<e){b.min=b.from}b.steps=g-f}});a.define('Ext.chart.axis.layout.Discrete',{extend:'Ext.chart.axis.layout.Layout',alias:'axisLayout.discrete',isDiscrete:!0,processData:function(){var b=this,c=b.getAxis(),f=c.boundSeries,g=c.getDirection(),d,h,e;b.labels=[];b.labelMap={};for(d=0,h=f.length;d<h;d++){e=f[d];if(e['get'+g+'Axis']()===c){e['coordinate'+g]()}}c.getSprites()[0].setAttributes({data:b.labels});b.fireEvent('datachange',b.labels)},calculateLayout:function(b){b.data=this.labels;this.callParent([b])},calculateMajorTicks:function(c){var f=this,b=c.attr,i=c.data,e=b.max-b.min,h=b.min+e*b.visibleMin,g=b.min+e*b.visibleMax,d;d=f.snapEnds(c,Math.max(0,b.min),Math.min(b.max,i.length-1),1);if(d){f.trimByRange(c,d,h,g);c.majorTicks=d}},snapEnds:function(f,c,e,b){b=Math.ceil(b);var d=Math.floor((e-c)/b),g=f.data;return {min:c,max:e,from:c,to:d*b+c,step:b,steps:d,unit:1,getLabel:function(d){return g[this.from+this.step*d]},get:function(d){return this.from+this.step*d}}},trimByRange:function(j,b,d,g){var c=b.unit,h=Math.ceil((d-b.from)/c)*c,i=Math.floor((g-b.from)/c)*c,e=Math.max(0,Math.ceil(h/b.step)),f=Math.min(b.steps,Math.floor(i/b.step));if(f<b.steps){b.to=f}if(b.max>g){b.max=b.to}if(b.from<d&&b.step>0){b.from=b.from+e*b.step*c;while(b.from<d){e++;b.from+=b.step*c}}if(b.min<d){b.min=b.from}b.steps=f-e},getCoordFor:function(b,c,e,d){this.labels.push(b);return this.labels.length-1}});a.define('Ext.chart.axis.layout.CombineByIndex',{extend:'Ext.chart.axis.layout.Discrete',alias:'axisLayout.combineByIndex',getCoordFor:function(d,f,e,g){var b=this.labels,c=e;if(b[e]!==d){c=b.push(d)-1}return c}});a.define('Ext.chart.axis.layout.CombineDuplicate',{extend:'Ext.chart.axis.layout.Discrete',alias:'axisLayout.combineDuplicate',getCoordFor:function(b,d,f,e){if(!(b in this.labelMap)){var c=this.labelMap[b]=this.labels.length;this.labels.push(b);return c}return this.labelMap[b]}});a.define('Ext.chart.axis.layout.Continuous',{extend:'Ext.chart.axis.layout.Layout',alias:'axisLayout.continuous',isContinuous:!0,config:{adjustMinimumByMajorUnit:!1,adjustMaximumByMajorUnit:!1},getCoordFor:function(b,c,e,d){return +b},snapEnds:function(o,c,g,m){var b=o.segmenter,k=this.getAxis(),n=!k.spriteAnimationCount,e=k.getMajorTickSteps(),i=e&&b.exactStep?b.exactStep(c,(g-c)/e):b.preferredStep(c,m),d=i.unit,l=i.step,h=b.diff(c,g,d),j=(e||h)+1,f;if(e||n&&+b.add(c,h,d)===g){f=c}else {f=b.align(c,l,d)}return {min:b.from(c),max:b.from(g),from:f,to:b.add(f,j,d),step:l,steps:j,unit:d,get:function(d){return b.add(this.from,this.step*d,this.unit)}}},snapMinorEnds:function(j){var b=j.majorTicks,d=this.getAxis().getMinorTickSteps(),i=j.segmenter,g=b.min,n=b.max,m=b.from,c=b.unit,f=b.step/d,e=f*c.scale,h=m-g,k=Math.floor(h/e),o=k+Math.floor((n-b.to)/e)+1,l=b.steps*d+o;return {min:g,max:n,from:g+h%e,to:i.add(m,l*f,c),step:f,steps:l,unit:c,get:function(b){return b%d+k+1!==0?i.add(this.from,this.step*b,c):null}}}});a.define('Ext.chart.axis.Axis',{xtype:'axis',mixins:{observable:'Ext.mixin.Observable'},requires:['Ext.chart.axis.sprite.Axis','Ext.chart.axis.segmenter.*','Ext.chart.axis.layout.*','Ext.chart.Util'],isAxis:!0,config:{position:'bottom',fields:[],label:undefined,grid:!1,limits:null,renderer:null,chart:null,style:null,margin:0,titleMargin:4,background:null,minimum:NaN,maximum:NaN,reconcileRange:!1,minZoom:1,maxZoom:10000,layout:'continuous',segmenter:'numeric',hidden:!1,majorTickSteps:0,minorTickSteps:0,adjustByMajorUnit:!0,title:null,expandRangeBy:0,length:0,center:null,radius:null,totalAngle:Math.PI,rotation:null,visibleRange:[0,1],needHighPrecision:!1,linkedTo:null,floating:null},titleOffset:0,spriteAnimationCount:0,boundSeries:[],sprites:null,surface:null,range:null,defaultRange:[0,1],rangePadding:0.5,xValues:[],yValues:[],masterAxis:null,applyRotation:function(c){var b=Math.PI*2;return (c%b+Math.PI)%b-Math.PI},updateRotation:function(d){var b=this.getSprites(),c=this.getPosition();if(!this.getHidden()&&c==='angular'&&b[0]){b[0].setAttributes({baseRotation:d})}},applyTitle:function(c,b){var d;if(a.isString(c)){c={text:c}}if(!b){b=a.create('sprite.text',c);if(d=this.getSurface()){d.add(b)}}else {b.setAttributes(c)}return b},applyFloating:function(b,c){if(b===null){b={value:null,alongAxis:null}}else {if(a.isNumber(b)){b={value:b,alongAxis:null}}}if(a.isObject(b)){if(c&&c.alongAxis){delete this.getChart().getAxis(c.alongAxis).floatingAxes[this.getId()]}return b}return c},constructor:function(c){var b=this,d;b.sprites=[];b.labels=[];b.floatingAxes={};c=c||{};if(c.position==='angular'){c.style=c.style||{};c.style.estStepSize=1}if('id' in c){d=c.id}else {if('id' in b.config){d=b.config.id}else {d=b.getId()}}b.setId(d);b.mixins.observable.constructor.apply(b,arguments)},getAlignment:function(){switch(this.getPosition()){case 'left':case 'right':return 'vertical';case 'top':case 'bottom':return 'horizontal';case 'radial':return 'radial';case 'angular':return 'angular';}},getGridAlignment:function(){switch(this.getPosition()){case 'left':case 'right':return 'horizontal';case 'top':case 'bottom':return 'vertical';case 'radial':return 'circular';case 'angular':return 'radial';}},getSurface:function(){var b=this,c=b.getChart();if(c&&!b.surface){var e=b.surface=c.getSurface(b.getId(),'axis'),d=b.gridSurface=c.getSurface('main');d.waitFor(e);b.getGrid();b.createLimits()}return b.surface},createLimits:function(){var c=this,f=c.getChart(),e=c.getSprites()[0],d=c.getGridAlignment(),b;if(c.getLimits()&&d){d=d.replace('3d','');c.limits=b={surface:f.getSurface('overlay'),lines:new a.chart.Markers(),titles:new a.draw.sprite.Instancing()};b.lines.setTemplate({xclass:'grid.'+d});b.lines.getTemplate().setAttributes({strokeStyle:'black'},!0);b.surface.add(b.lines);e.bindMarker(d+'-limit-lines',c.limits.lines);c.limitTitleTpl=new a.draw.sprite.Text();b.titles.setTemplate(c.limitTitleTpl);b.surface.add(b.titles)}},applyGrid:function(b){if(b===!0){return {}}return b},updateGrid:function(d){var c=this,h=c.getChart();if(!h){c.on({chartattached:a.bind(c.updateGrid,c,[d]),single:!0});return}var f=c.gridSurface,g=c.getSprites()[0],e=c.getGridAlignment(),b;if(d){b=c.gridSpriteEven;if(!b){b=c.gridSpriteEven=new a.chart.Markers();b.setTemplate({xclass:'grid.'+e});f.add(b);g.bindMarker(e+'-even',b)}if(a.isObject(d)){b.getTemplate().setAttributes(d);if(a.isObject(d.even)){b.getTemplate().setAttributes(d.even)}}b=c.gridSpriteOdd;if(!b){b=c.gridSpriteOdd=new a.chart.Markers();b.setTemplate({xclass:'grid.'+e});f.add(b);g.bindMarker(e+'-odd',b)}if(a.isObject(d)){b.getTemplate().setAttributes(d);if(a.isObject(d.odd)){b.getTemplate().setAttributes(d.odd)}}}},updateMinorTickSteps:function(f){var c=this,e=c.getSprites(),d=e&&e[0],b;if(d){d.setAttributes({minorTicks:!!f});b=c.getSurface();if(!c.isConfiguring&&b){b.renderFrame()}}},getCoordFor:function(d,b,e,c){return this.getLayout().getCoordFor(d,b,e,c)},applyPosition:function(b){return b.toLowerCase()},applyLength:function(b,c){return b>0?b:c},applyLabel:function(c,b){if(!b){b=new a.draw.sprite.Text({})}if(c){if(this.limitTitleTpl){this.limitTitleTpl.setAttributes(c)}b.setAttributes(c)}return b},applyLayout:function(b,c){b=a.factory(b,null,c,'axisLayout');b.setAxis(this);return b},applySegmenter:function(b,c){b=a.factory(b,null,c,'segmenter');b.setAxis(this);return b},updateMinimum:function(){this.range=null},updateMaximum:function(){this.range=null},hideLabels:function(){this.getSprites()[0].setDirty(!0);this.setLabel({hidden:!0})},showLabels:function(){this.getSprites()[0].setDirty(!0);this.setLabel({hidden:!1})},renderFrame:function(){this.getSurface().renderFrame()},updateChart:function(c,d){var b=this,e;if(d){d.unregister(b);d.un('serieschange',b.onSeriesChange,b);b.linkAxis();b.fireEvent('chartdetached',d,b)}if(c){c.on('serieschange',b.onSeriesChange,b);b.surface=null;e=b.getSurface();b.getLabel().setSurface(e);e.add(b.getSprites());e.add(b.getTitle());c.register(b);b.fireEvent('chartattached',c,b)}},applyBackground:function(b){var c=a.ClassManager.getByAlias('sprite.rect');return c.def.normalize(b)},processData:function(){this.getLayout().processData();this.range=null},getDirection:function(){return this.getChart().getDirectionForAxis(this.getPosition())},isSide:function(){var b=this.getPosition();return b==='left'||b==='right'},applyFields:function(b){return a.Array.from(b)},applyVisibleRange:function(b,c){this.getChart();if(b[0]>b[1]){var d=b[0];b[0]=b[1];b[0]=d}if(b[1]===b[0]){b[1]+=1/this.getMaxZoom()}if(b[1]>b[0]+1){b[0]=0;b[1]=1}else {if(b[0]<0){b[1]-=b[0];b[0]=0}else {if(b[1]>1){b[0]-=b[1]-1;b[1]=1}}}if(c&&b[0]===c[0]&&b[1]===c[1]){return undefined}return b},updateVisibleRange:function(b){this.fireEvent('visiblerangechange',this,b)},onSeriesChange:function(i){var b=this,d=i.getSeries(),h=[],f,e,g,c,j;if(d){g='get'+b.getDirection()+'Axis';for(c=0,j=d.length;c<j;c++){if(this===d[c][g]()){h.push(d[c])}}}b.boundSeries=h;f=b.getLinkedTo();e=!a.isEmpty(f)&&i.getAxis(f);if(e){b.linkAxis(e)}else {b.getLayout().processData()}},linkAxis:function(c){var b=this;function link(b,e,d){d.getLayout()[b]('datachange','onDataChange',e);d[b]('rangechange','onMasterAxisRangeChange',e)}if(b.masterAxis){if(!b.masterAxis.destroyed){link('un',b,b.masterAxis)}b.masterAxis=null}if(c){if(c.type!==this.type){a.Error.raise('Linked axes must be of the same type.')}link('on',b,c);b.onDataChange(c.getLayout().labels);b.onMasterAxisRangeChange(c,c.range);b.setStyle(a.apply({},b.config.style,c.config.style));b.setTitle(a.apply({},b.config.title,c.config.title));b.setLabel(a.apply({},b.config.label,c.config.label));b.masterAxis=c}},onDataChange:function(b){this.getLayout().labels=b},onMasterAxisRangeChange:function(c,b){this.range=b},applyRange:function(b){if(!b){return this.dataRange.slice(0)}else {return [b[0]===null?this.dataRange[0]:b[0],b[1]===null?this.dataRange[1]:b[1]]}},setBoundSeriesRange:function(i){var f=this.boundSeries,g={},e,b,d,c,h;g['range'+this.getDirection()]=i;for(b=0,h=f.length;b<h;b++){e=f[b];if(e.getHidden()===!0){continue}d=e.getSprites();for(c=0;c<d.length;c++){d[c].setAttributes(g)}}},getRange:function(g){var c=this,b=g?null:c.range,d=c.oldRange,f,e;if(!b){if(c.masterAxis){b=c.masterAxis.range}else {f=c.getMinimum();e=c.getMaximum();if(a.isNumber(f)&&a.isNumber(e)){b=[f,e]}else {b=c.calculateRange()}c.range=b}}if(b&&(!d||b[0]!==d[0]||b[1]!==d[1])){c.fireEvent('rangechange',c,b,d);c.oldRange=b}return b},isSingleDataPoint:function(b){return b[0]+this.rangePadding===0&&b[1]-this.rangePadding===0},calculateRange:function(){var c=this,m=c.boundSeries,p=c.getLayout(),g=c.getSegmenter(),o=c.getMinimum(),n=c.getMaximum(),l=c.getVisibleRange(),r='get'+c.getDirection()+'Range',i=c.getExpandRangeBy(),f,d,e,k,h,q,j,b=[NaN,NaN];for(h=0,q=m.length;h<q;h++){k=m[h];if(k.getHidden()===!0){continue}j=k[r]();if(j){a.chart.Util.expandRange(b,j)}}b=a.chart.Util.validateRange(b,c.defaultRange,c.rangePadding);if(i&&!c.isSingleDataPoint(b)){b[0]-=i;b[1]+=i}if(isFinite(o)){b[0]=o}if(isFinite(n)){b[1]=n}b[0]=a.Number.correctFloat(b[0]);b[1]=a.Number.correctFloat(b[1]);c.range=b;if(c.getReconcileRange()){c.reconcileRange()}if(b[0]!==b[1]&&c.getAdjustByMajorUnit()&&g.adjustByMajorUnit&&!c.getMajorTickSteps()){d=a.Object.chain(c.getSprites()[0].attr);d.min=b[0];d.max=b[1];d.visibleMin=l[0];d.visibleMax=l[1];f={attr:d,segmenter:g};p.calculateLayout(f);e=f.majorTicks;if(e){g.adjustByMajorUnit(e.step,e.unit.scale,b);d.min=b[0];d.max=b[1];f.majorTicks=null;p.calculateLayout(f);e=f.majorTicks;g.adjustByMajorUnit(e.step,e.unit.scale,b)}else {if(!c.hasClearRangePending){c.hasClearRangePending=!0;c.getChart().on('layout','clearRange',c)}}}return b},clearRange:function(){this.hasClearRangePending=null;this.range=null},reconcileRange:function(){var b=this,f=b.getChart().getAxes(),h=b.getDirection(),e,g,d,c;if(!f){return}for(e=0,g=f.length;e<g;e++){d=f[e];c=d.getRange();if(d===b||d.getDirection()!==h||!c||!d.getReconcileRange()){continue}if(c[0]<b.range[0]){b.range[0]=c[0]}if(c[1]>b.range[1]){b.range[1]=c[1]}}},applyStyle:function(c,b){var d=a.ClassManager.getByAlias('sprite.'+this.seriesType);if(d&&d.def){c=d.def.normalize(c)}b=a.apply(b||{},c);return b},themeOnlyIfConfigured:{grid:!0},updateTheme:function(q){var d=this,e=q.getAxis(),o=d.getPosition(),n=d.getInitialConfig(),m=d.defaultConfig,p=d.self.getConfigurator().configs,l=e.defaults,k=e[o],j=d.themeOnlyIfConfigured,c,b,h,f,g,i;e=a.merge({},l,k);for(c in e){b=e[c];i=p[c];if(b!==null&&b!==undefined&&i){g=n[c];h=a.isObject(b);f=g===m[c];if(h){if(f&&j[c]){continue}b=a.merge({},b,g)}if(f||h){d[i.names.set](b)}}}},updateCenter:function(f){var d=this,g=d.getSprites(),e=g[0],b=f[0],c=f[1];if(e){e.setAttributes({centerX:b,centerY:c})}if(d.gridSpriteEven){d.gridSpriteEven.getTemplate().setAttributes({translationX:b,translationY:c,rotationCenterX:b,rotationCenterY:c})}if(d.gridSpriteOdd){d.gridSpriteOdd.getTemplate().setAttributes({translationX:b,translationY:c,rotationCenterX:b,rotationCenterY:c})}},getSprites:function(){if(!this.getChart()){return}var b=this,h=b.getRange(),i=b.getPosition(),k=b.getChart(),g=k.getAnimation(),j=b.getLength(),f=b.superclass,c,d,e;if(g===!1){g={duration:0}}d=a.applyIf({position:i,axis:b,length:j,grid:b.getGrid(),hidden:b.getHidden(),titleOffset:b.titleOffset,layout:b.getLayout(),segmenter:b.getSegmenter(),totalAngle:b.getTotalAngle(),label:b.getLabel()},b.getStyle());if(h){d.min=h[0];d.max=h[1]}if(!b.sprites.length){while(!f.xtype){f=f.superclass}c=a.create('sprite.'+f.xtype,d);e=c.getAnimation();e.setCustomDurations({baseRotation:0});e.on('animationstart','onAnimationStart',b);e.on('animationend','onAnimationEnd',b);c.setLayout(b.getLayout());c.setSegmenter(b.getSegmenter());c.setLabel(b.getLabel());b.sprites.push(c);b.updateTitleSprite()}else {c=b.sprites[0];c.setAnimation(g);c.setAttributes(d)}if(b.getRenderer()){c.setRenderer(b.getRenderer())}return b.sprites},performLayout:function(){if(this.isConfiguring){return}var b=this,c=b.getSprites(),f=b.getSurface(),e=b.getChart(),d=c&&c[0];if(e&&f&&d){d.callUpdater(null,'layout');e.scheduleLayout()}},updateTitleSprite:function(){var c=this,h=c.getLength();if(!c.sprites[0]||!a.isNumber(h)){return}var g=this.sprites[0].thickness,j=c.getSurface(),b=c.getTitle(),i=c.getPosition(),f=c.getMargin(),d=c.getTitleMargin(),e=j.roundPixel(h/2);if(b){switch(i){case 'top':b.setAttributes({x:e,y:f+d/2,textBaseline:'top',textAlign:'center'},!0);b.applyTransformations();c.titleOffset=b.getBBox().height+d;break;case 'bottom':b.setAttributes({x:e,y:g+d/2,textBaseline:'top',textAlign:'center'},!0);b.applyTransformations();c.titleOffset=b.getBBox().height+d;break;case 'left':b.setAttributes({x:f+d/2,y:e,textBaseline:'top',textAlign:'center',rotationCenterX:f+d/2,rotationCenterY:e,rotationRads:-Math.PI/2},!0);b.applyTransformations();c.titleOffset=b.getBBox().width+d;break;case 'right':b.setAttributes({x:g-f+d/2,y:e,textBaseline:'bottom',textAlign:'center',rotationCenterX:g+d/2,rotationCenterY:e,rotationRads:Math.PI/2},!0);b.applyTransformations();c.titleOffset=b.getBBox().width+d;break;}}},onThicknessChanged:function(){this.getChart().onThicknessChanged()},getThickness:function(){if(this.getHidden()){return 0}return (this.sprites[0]&&this.sprites[0].thickness||1)+this.titleOffset+this.getMargin()},onAnimationStart:function(){this.spriteAnimationCount++;if(this.spriteAnimationCount===1){this.fireEvent('animationstart',this)}},onAnimationEnd:function(){this.spriteAnimationCount--;if(this.spriteAnimationCount===0){this.fireEvent('animationend',this)}},getItemId:function(){return this.getId()},getAncestorIds:function(){return [this.getChart().getId()]},isXType:function(b){return b==='axis'},resolveListenerScope:function(e){var d=this,f=a._namedScopes[e],b=d.getChart(),c;if(!f){c=b?b.resolveListenerScope(e,!1):e||d}else {if(f.isThis){c=d}else {if(f.isController){c=b?b.resolveListenerScope(e,!1):d}else {if(f.isSelf){c=b?b.resolveListenerScope(e,!1):d;if(c===b&&!b.getInheritedConfig('defaultListenerScope')){c=d}}}}}return c},destroy:function(){var b=this;b.setChart(null);b.surface.destroy();b.surface=null;b.callParent()}});a.define('Ext.chart.legend.LegendBase',{extend:'Ext.view.View',config:{tpl:['<div class="',a.baseCSSPrefix,'legend-inner">','<div class="',a.baseCSSPrefix,'legend-container">','<tpl for=".">','<div class="',a.baseCSSPrefix,'legend-item">','<span ','class="',a.baseCSSPrefix,"legend-item-marker {[ values.disabled ? Ext.baseCSSPrefix + 'legend-item-inactive' : '' ]}\" ",'style="background:{mark};">','</span>{name}','</div>','</tpl>','</div>','</div>'],nodeContainerSelector:'div.'+a.baseCSSPrefix+'legend-inner',itemSelector:'div.'+a.baseCSSPrefix+'legend-item',docked:'bottom'},setDocked:function(c){var b=this,d=b.ownerCt;b.docked=b.dock=c;switch(c){case 'top':case 'bottom':b.addCls(b.horizontalCls);b.removeCls(b.verticalCls);break;case 'left':case 'right':b.addCls(b.verticalCls);b.removeCls(b.horizontalCls);break;}if(d){d.setDock(c)}},setStore:function(b){this.bindStore(b)},clearViewEl:function(){this.callParent(arguments);a.removeNode(this.getNodeContainer())},onItemClick:function(c,d,b,e){this.callParent(arguments);this.toggleItem(b)}});a.define('Ext.chart.legend.Legend',{extend:'Ext.chart.legend.LegendBase',alternateClassName:'Ext.chart.Legend',xtype:'legend',alias:'legend.dom',type:'dom',isLegend:!0,isDomLegend:!0,config:{rect:null,toggleable:!0},baseCls:a.baseCSSPrefix+'legend',horizontalCls:a.baseCSSPrefix+'legend-horizontal',verticalCls:a.baseCSSPrefix+'legend-vertical',toggleItem:function(i){if(!this.getToggleable()){return}var c=this.getStore(),g=0,e,h=!0,d,f,b;if(c){f=c.getCount();for(d=0;d<f;d++){b=c.getAt(d);if(b.get('disabled')){g++}}h=f-g>1;b=c.getAt(i);if(b){e=b.get('disabled');if(e||h){b.set('disabled',!e)}}}},onResize:function(g,f,e,d){var c=this,b=c.chart;if(!c.isConfiguring){if(b){b.scheduleLayout()}}}});a.define('Ext.chart.legend.sprite.Item',{extend:'Ext.draw.sprite.Composite',alias:'sprite.legenditem',type:'legenditem',isLegendItem:!0,requires:['Ext.draw.sprite.Text','Ext.draw.sprite.Circle'],inheritableStatics:{def:{processors:{enabled:'limited01',markerLabelGap:'number'},animationProcessors:{enabled:null,markerLabelGap:null},defaults:{enabled:!0,markerLabelGap:5},triggers:{enabled:'enabled',markerLabelGap:'layout'},updaters:{layout:'layoutUpdater',enabled:'enabledUpdater'}}},config:{label:{$value:{type:'text'},lazy:!0},marker:{$value:{type:'circle'},lazy:!0},legend:null,store:null,record:null,series:null},applyLabel:function(b,c){var d;if(b){if(b.isSprite&&b.type==='text'){d=b}else {if(c&&b.type===c.type){c.setConfig(b);d=c;this.scheduleUpdater(this.attr,'layout')}else {d=new a.draw.sprite.Text(b)}}}return d},defaultMarkerSize:10,updateLabel:function(c,d){var b=this;b.removeSprite(d);c.setAttributes({textBaseline:'middle'});b.addSprite(c);b.scheduleUpdater(b.attr,'layout')},applyMarker:function(b){var c;if(b){if(b.isSprite){c=b}else {c=this.createMarker(b)}}c=this.resetMarker(c,b);return c},createMarker:function(b){var c;delete b.animation;if(b.type==='image'){delete b.width;delete b.height}c=a.create('sprite.'+b.type,b);return c},resetMarker:function(b,f){var e=f.size||this.defaultMarkerSize,d,g,c;b.setTransform([1,0,0,1,0,0],!0);if(f.type==='image'){b.setAttributes({width:e,height:e})}else {d=b.getBBox();g=Math.max(d.width,d.height);c=e/g;b.setAttributes({scalingX:c,scalingY:c})}return b},updateMarker:function(d,c){var b=this;b.removeSprite(c);b.addSprite(d);b.scheduleUpdater(b.attr,'layout')},updateSurface:function(c,d){var b=this;b.callParent([c,d]);if(c){b.scheduleUpdater(b.attr,'layout')}},enabledUpdater:function(c){var b=this.getMarker();if(b){b.setAttributes({globalAlpha:c.enabled?1:0.3})}},layoutUpdater:function(){var d=this,h=d.attr,g=d.getLabel(),f=d.getMarker(),c,b,e;b=f.getBBox();c=g.getBBox();e=Math.max(b.height,c.height);f.transform([1,0,0,1,-b.x,-b.y+(e-b.height)/2],!0);g.transform([1,0,0,1,-c.x+b.width+h.markerLabelGap,-c.y+(e-c.height)/2],!0);d.bboxUpdater(h)}});a.define('Ext.chart.legend.sprite.Border',{extend:'Ext.draw.sprite.Rect',alias:'sprite.legendborder',type:'legendborder',isLegendBorder:!0});a.define('Ext.draw.PathUtil',function(){var b=Math.abs,d=Math.pow,e=Math.cos,g=Math.acos,c=Math.sqrt,f=Math.PI;return {singleton:!0,requires:['Ext.draw.overrides.hittest.Path','Ext.draw.overrides.hittest.sprite.Path'],cubicRoots:function(o){var r=o[0],v=o[1],w=o[2],x=o[3];if(r===0){return this.quadraticRoots(v,w,x)}var i=v/r,u=w/r,y=x/r,m=(3*u-d(i,2))/9,j=(9*i*u-27*y-2*d(i,3))/54,l=d(m,3)+d(j,2),h=[],p,q,t,n,k,s=a.Number.sign;if(l>=0){p=s(j+c(l))*d(b(j+c(l)),1/3);q=s(j-c(l))*d(b(j-c(l)),1/3);h[0]=-i/3+(p+q);h[1]=-i/3-(p+q)/2;h[2]=h[1];t=b(c(3)*(p-q)/2);if(t!==0){h[1]=-1;h[2]=-1}}else {n=g(j/c(-d(m,3)));h[0]=2*c(-m)*e(n/3)-i/3;h[1]=2*c(-m)*e((n+2*f)/3)-i/3;h[2]=2*c(-m)*e((n+4*f)/3)-i/3}for(k=0;k<3;k++){if(h[k]<0||h[k]>1){h[k]=-1}}return h},quadraticRoots:function(f,d,i){var g,h,b,e;if(f===0){return this.linearRoot(d,i)}g=d*d-4*f*i;if(g===0){b=[-d/(2*f)]}else {if(g>0){h=c(g);b=[(-d-h)/(2*f),(-d+h)/(2*f)]}else {return []}}for(e=0;e<b.length;e++){if(b[e]<0||b[e]>1){b[e]=-1}}return b},linearRoot:function(c,d){var b=-d/c;if(c===0||b<0||b>1){return []}return [b]},bezierCoeffs:function(c,d,e,f){var b=[];b[0]=-c+3*d-3*e+f;b[1]=3*c-6*d+3*e;b[2]=-3*c+3*d;b[3]=c;return b},cubicLineIntersections:function(t,u,v,w,x,y,z,A,e,f,i,q){var g=[],s=[],j=f-q,k=i-e,B=e*(q-f)-f*(i-e),b=this.bezierCoeffs(t,u,v,w),c=this.bezierCoeffs(x,y,z,A),l,r,m,d,h,n,o,p;g[0]=j*b[0]+k*c[0];g[1]=j*b[1]+k*c[1];g[2]=j*b[2]+k*c[2];g[3]=j*b[3]+k*c[3]+B;r=this.cubicRoots(g);for(l=0;l<r.length;l++){d=r[l];if(d<0||d>1){continue}h=d*d;n=h*d;o=b[0]*n+b[1]*h+b[2]*d+b[3];p=c[0]*n+c[1]*h+c[2]*d+c[3];if(i-e!==0){m=(o-e)/(i-e)}else {m=(p-f)/(q-f)}if(!(m<0||m>1)){s.push([o,p])}}return s},splitCubic:function(e,f,g,h,b){var i=b*b,l=b*i,c=b-1,d=c*c,k=c*d,j=l*h-3*i*c*g+3*b*d*f-k*e;return [[e,b*f-c*e,i*g-2*b*c*f+d*e,j],[j,i*h-2*b*c*g+d*f,b*h-c*g,h]]},cubicDimension:function(g,i,l,j){var m=3*(-g+3*(i-l)+j),k=6*(g-2*i+l),n=-3*(g-i),b,d,f=Math.min(g,j),e=Math.max(g,j),h;if(m===0){if(k===0){return [f,e]}else {b=-n/k;if(0<b&&b<1){d=this.interpolateCubic(g,i,l,j,b);f=Math.min(f,d);e=Math.max(e,d)}}}else {h=k*k-4*m*n;if(h>=0){h=c(h);b=(h-k)/2/m;if(0<b&&b<1){d=this.interpolateCubic(g,i,l,j,b);f=Math.min(f,d);e=Math.max(e,d)}if(h>0){b-=h/m;if(0<b&&b<1){d=this.interpolateCubic(g,i,l,j,b);f=Math.min(f,d);e=Math.max(e,d)}}}}return [f,e]},interpolateCubic:function(d,f,g,e,b){if(b===0){return d}if(b===1){return e}var c=(1-b)/b;return b*b*b*(e+c*(3*g+c*(3*f+c*d)))},cubicsIntersections:function(i,m,n,j,k,l,o,p,q,r,s,t,u,v,w,x){var c=this,y=c.cubicDimension(i,m,n,j),z=c.cubicDimension(k,l,o,p),A=c.cubicDimension(q,r,s,t),B=c.cubicDimension(u,v,w,x),e,f,g,h,d=[];if(y[0]>A[1]||y[1]<A[0]||z[0]>B[1]||z[1]<B[0]){return []}if(b(k-l)<1&&b(o-p)<1&&b(i-j)<1&&b(m-n)<1&&b(u-v)<1&&b(w-x)<1&&b(q-t)<1&&b(r-s)<1){return [[(i+j)*0.5,(k+l)*0.5]]}e=c.splitCubic(i,m,n,j,0.5);f=c.splitCubic(k,l,o,p,0.5);g=c.splitCubic(q,r,s,t,0.5);h=c.splitCubic(u,v,w,x,0.5);d.push.apply(d,c.cubicsIntersections.apply(c,e[0].concat(f[0],g[0],h[0])));d.push.apply(d,c.cubicsIntersections.apply(c,e[0].concat(f[0],g[1],h[1])));d.push.apply(d,c.cubicsIntersections.apply(c,e[1].concat(f[1],g[0],h[0])));d.push.apply(d,c.cubicsIntersections.apply(c,e[1].concat(f[1],g[1],h[1])));return d},linesIntersection:function(b,c,h,i,e,f,k,l){var j=(h-b)*(l-f)-(i-c)*(k-e),d,g;if(j===0){return null}d=((k-e)*(c-f)-(b-e)*(l-f))/j;g=((h-b)*(c-f)-(i-c)*(b-e))/j;if(d>=0&&d<=1&&g>=0&&g<=1){return [b+d*(h-b),c+d*(i-c)]}return null},pointOnLine:function(d,e,f,g,i,j){var h,c;if(b(f-d)<b(g-e)){c=d;d=e;e=c;c=f;f=g;g=c;c=i;i=j;j=c}h=(i-d)/(f-d);if(h<0||h>1){return !1}return b(e+h*(g-e)-j)<4},pointOnCubic:function(k,l,m,n,o,p,q,r,s,t){var c=this,i=c.bezierCoeffs(k,l,m,n),j=c.bezierCoeffs(o,p,q,r),d,e,g,h,f;i[3]-=s;j[3]-=t;g=c.cubicRoots(i);h=c.cubicRoots(j);for(d=0;d<g.length;d++){f=g[d];for(e=0;e<h.length;e++){if(f>=0&&f<=1&&b(f-h[e])<0.05){return !0}}}return !1}}});a.define('Ext.draw.overrides.hittest.All',{requires:['Ext.draw.PathUtil','Ext.draw.overrides.hittest.sprite.Instancing','Ext.draw.overrides.hittest.Surface']});a.define('Ext.chart.legend.SpriteLegend',{alias:'legend.sprite',type:'sprite',isLegend:!0,isSpriteLegend:!0,mixins:['Ext.mixin.Observable'],requires:['Ext.chart.legend.sprite.Item','Ext.chart.legend.sprite.Border','Ext.draw.overrides.hittest.All','Ext.draw.Animator'],config:{docked:'bottom',store:null,chart:null,surface:null,size:{width:0,height:0},toggleable:!0,padding:10,label:{preciseMeasurement:!0},marker:{},border:{$value:{type:'legendborder'},lazy:!0},background:null,hidden:!1},sprites:null,spriteZIndexes:{background:0,border:1,item:2},dockedValues:{left:!0,right:!0,top:!0,bottom:!0},constructor:function(c){var b=this;b.oldSize={width:0,height:0};b.getId();b.mixins.observable.constructor.call(b,c)},applyStore:function(b){return b&&a.StoreManager.lookup(b)},updateStore:function(c,d){var b=this;if(d){d.un('datachanged',b.onDataChanged,b);d.un('update',b.onDataUpdate,b)}if(c){c.on('datachanged',b.onDataChanged,b);c.on('update',b.onDataUpdate,b);b.onDataChanged(c)}b.performLayout()},applyDocked:function(b){if(!(b in this.dockedValues)){a.raise("Invalid 'docked' config value.")}return b},updateDocked:function(b){this.isTop=b==='top';if(!this.isConfiguring){this.layoutChart()}},updateHidden:function(c){this.getChart();var b=this.getSurface();if(b){b.setHidden(c)}if(!this.isConfiguring){this.layoutChart()}},layoutChart:function(){if(!this.isConfiguring){var b=this.getChart();if(b){b.scheduleLayout()}}},computeRect:function(b){if(this.getHidden()){return null}var c=[0,0,0,0],g=this.getDocked(),f=this.getSize(),d=f.height,e=f.width;switch(g){case 'top':c[1]=b[1];c[2]=b[2];c[3]=d;b[1]+=d;b[3]-=d;break;case 'bottom':b[3]-=d;c[1]=b[3];c[2]=b[2];c[3]=d;break;case 'left':b[0]+=e;b[2]-=e;c[2]=e;c[3]=b[3];break;case 'right':b[2]-=e;c[0]=b[2];c[2]=e;c[3]=b[3];break;}return c},applyBorder:function(c){var b;if(c){if(c.isSprite){b=c}else {b=a.create('sprite.'+c.type,c)}}if(b){b.isLegendBorder=!0;b.setAttributes({zIndex:this.spriteZIndexes.border})}return b},updateBorder:function(d,c){var b=this.getSurface();this.borderSprite=null;if(b){if(c){b.remove(c)}if(d){this.borderSprite=b.add(d)}}},scheduleLayout:function(){if(!this.scheduledLayoutId){this.scheduledLayoutId=a.draw.Animator.schedule('performLayout',this)}},cancelLayout:function(){a.draw.Animator.cancel(this.scheduledLayoutId);this.scheduledLayoutId=null},performLayout:function(){var g=this,m=g.getSize(),e=g.getPadding(),n=g.getSprites(),o=g.getSurface(),B=g.getBackground(),x=o.getRect(),F=g.getStore(),l=n&&n.length||0,b,r;if(!o||!x||!F){return !1}g.cancelLayout();var E=g.getDocked(),v=x[2],u=x[3],q=g.borderSprite,p=[],y,z,f,h,c,i,w,k,j,t,D,C,d,A,s;for(b=0;b<l;b++){r=n[b];d=r.getBBox();p.push(d)}if(d){C=d.height}switch(E){case 'bottom':case 'top':if(!v){return !1};f=0;do{i=0;c=0;h=0;f++;for(b=0;b<l;b++){d=p[b];if(d.width>c){c=d.width}if((b+1)%f===0){i+=c;c=0;h++}}if(b%f!==0){i+=c;h++}k=i+(h-1)*e;t=k+e*4}while(t>v);j=C*f+(f-1)*e;break;case 'right':case 'left':if(!u){return !1};f=l*2;do{f=(f>>1)+f%2;i=0;w=0;c=0;h=0;for(b=0;b<l;b++){d=p[b];if(!h){w+=d.height}if(d.width>c){c=d.width}if((b+1)%f===0){i+=c;c=0;h++}}if(b%f!==0){i+=c;h++}k=i+(h-1)*e;j=w+(f-1)*e;t=k+e*4;D=j+e*4}while(j>u);break;}y=(v-k)/2;z=(u-j)/2;A=0;s=0;c=0;for(b=0;b<l;b++){r=n[b];d=p[b];r.setAttributes({translationX:y+A,translationY:z+s});if(d.width>c){c=d.width}if((b+1)%f===0){A+=c+e;s=0;c=0}else {s+=d.height+e}}if(q){q.setAttributes({hidden:!l,x:y-e,y:z-e,width:k+e*2,height:j+e*2})}m.width=q.attr.width+e*2;m.height=q.attr.height+e*2;if(m.width!==g.oldSize.width||m.height!==g.oldSize.height){a.apply(g.oldSize,m);g.getChart().scheduleLayout();return !1}if(B){g.resizeBackground(o,B)}o.renderFrame();return !0},getSprites:function(){this.updateSprites();return this.sprites},createSprite:function(f,i){var d=this,c=i.data,l=d.getChart(),j=l.get(c.series),e=j.getMarker(),k=null,b,h,g;if(f){b=j.getMarkerStyleByIndex(c.index);b.fillStyle=c.mark;b.hidden=!1;if(e&&e.type){b.type=e.type}a.apply(b,d.getMarker());b.surface=f;h=d.getLabel();g={type:'legenditem',zIndex:d.spriteZIndexes.item,text:c.name,enabled:!c.disabled,marker:b,label:h,series:c.series,record:i};k=f.add(g)}return k},updateSprites:function(){var b=this,l=b.getChart(),m=b.getStore(),h=b.getSurface(),k,j,d,c,f,e,g,i;if(!(l&&m&&h)){return}b.sprites=e=b.sprites||[];j=m.getData().items;f=j.length;for(c=0;c<f;c++){k=j[c];d=e[c];if(d){b.updateSprite(d,k)}else {d=b.createSprite(h,k);h.add(d);e.push(d)}}g=a.Array.splice(e,c,e.length);for(c=0,f=g.length;c<f;c++){d=g[c];d.destroy()}i=b.getBorder();if(i){b.borderSprite=i}b.updateTheme(l.getTheme())},updateSprite:function(b,f){var d=f.data,i=this.getChart(),h=i.get(d.series),e,g,c;if(b){g=b.getLabel();g.setAttributes({text:d.name});b.setAttributes({enabled:!d.disabled});b.setConfig({series:d.series,record:f});c=h.getMarkerStyleByIndex(d.index);c.fillStyle=d.mark;c.hidden=!1;a.apply(c,this.getMarker());e=b.getMarker();e.setAttributes({fillStyle:c.fillStyle,strokeStyle:c.strokeStyle});b.layoutUpdater(b.attr)}},updateChart:function(b,d){var c=this;if(d){c.setSurface(null)}if(b){c.setSurface(b.getSurface('legend'))}},updateSurface:function(c,b){if(b){b.el.un('click','onClick',this);b.removeAll(!0)}if(c){c.isLegendSurface=!0;c.el.on('click','onClick',this)}},onClick:function(f){var d=this.getChart(),c=this.getSurface(),b,e;if(d&&d.hasFirstLayout&&c){e=c.getEventXY(f);b=c.hitTest(e);if(b&&b.sprite){this.toggleItem(b.sprite)}}},applyBackground:function(d,e){var c=this,g=c.getChart(),f=c.getSurface(),b;b=g.refreshBackground(f,d,e);if(b){b.setAttributes({zIndex:c.spriteZIndexes.background})}return b},resizeBackground:function(d,c){var f=c.attr.width,e=c.attr.height,b=d.getRect();if(b&&(f!==b[2]||e!==b[3])){c.setAttributes({width:b[2],height:b[3]})}},themeableConfigs:{background:!0},updateTheme:function(w){var f=this,v=f.getSurface(),p=v.getItems(),h=w.getLegend(),u=f.getLabel(),o=f.self.getConfigurator().configs,r=f.themeableConfigs,t=f.getInitialConfig(),s=f.defaultConfig,c,i,m,k,l,g,e,n,b,d,j,q;for(j=0,q=p.length;j<q;j++){g=p[j];if(g.isLegendItem){e=h.label;if(e){d=null;for(b in e){if(!(b in u)){d=d||{};d[b]=e[b]}}if(d){n=g.getLabel();n.setAttributes(d)}}continue}else {if(g.isLegendBorder){e=h.border}else {continue}}if(e){d={};for(b in e){if(!(b in g.config)){d[b]=e[b]}}g.setAttributes(d)}}c=h.background;i=o.background;if(c!==null&&c!==undefined&&i){}for(b in h){if(!(b in r)){continue}c=h[b];i=o[b];if(c!==null&&c!==undefined&&i){l=t[b];m=a.isObject(c);k=l===s[b];if(m){if(k&&themeOnlyIfConfigured[b]){continue}c=a.merge({},c,l)}if(k||m){f[i.names.set](c)}}}},onDataChanged:function(b){this.updateSprites();this.scheduleLayout()},onDataUpdate:function(j,h){var d=this,g=d.sprites,i=g.length,e=0,b,f,c;for(;e<i;e++){b=g[e];f=b.getRecord();if(f===h){c=b;break}}if(c){d.updateSprite(c,h);d.scheduleLayout()}},toggleItem:function(e){if(!this.getToggleable()||!e.isLegendItem){return}var g=this.getStore(),h=0,i=!0,d,f,b,c;if(g){f=g.getCount();for(d=0;d<f;d++){b=g.getAt(d);if(b.get('disabled')){h++}}i=f-h>1;b=e.getRecord();if(b){c=b.get('disabled');if(c||i){b.set('disabled',!c);e.setAttributes({enabled:c})}}}},destroy:function(){var b=this;b.destroying=!0;b.cancelLayout();b.setChart(null);b.callParent()}});a.define('Ext.chart.Caption',{mixins:['Ext.mixin.Observable','Ext.mixin.Bindable'],isCaption:!0,config:{weight:0,text:'',align:'center',alignTo:'series',padding:0,hidden:!1,docked:'top',style:{fontSize:'14px',fontWeight:'bold',fontFamily:'Verdana, Aria, sans-serif'},chart:null,sprite:{type:'text',preciseMeasurement:!0,zIndex:10},debug:!1,rect:null},surfaceName:'caption',constructor:function(d){var b=this,c;if('id' in d){c=d.id}else {if('id' in b.config){c=b.config.id}else {c=b.getId()}}b.setId(c);b.mixins.observable.constructor.call(b,d);b.initBindable()},updateChart:function(){if(!this.isConfiguring){this.setSprite({type:'text'})}},applySprite:function(d){var b=this,e=b.getChart(),c=b.surface=e.getSurface(b.surfaceName);b.rectSprite=c.add({type:'rect',fillStyle:'yellow',strokeStyle:'red'});return d&&c.add(d)},updateSprite:function(c,b){if(b){b.destroy()}},updateText:function(b){this.getSprite().setAttributes({text:b})},updateStyle:function(b){this.getSprite().setAttributes(b)},updateDebug:function(c){var b=this,d=b.getSprite();if(c&&!b.rectSprite){b.rectSprite=b.surface.add({type:'rect',fillStyle:'yellow',strokeStyle:'red'})}if(d){d.setAttributes({debug:c?{bbox:!0}:null})}if(b.rectSprite){b.rectSprite.setAttributes({hidden:!c})}if(!b.isConfiguring){b.surface.renderFrame()}},updateRect:function(b){if(this.rectSprite){this.rectSprite.setAttributes({x:b[0],y:b[1],width:b[2],height:b[3]})}},updateDocked:function(){var b=this.getChart();if(b&&!this.isConfiguring){b.scheduleLayout()}},computeRect:function(e,d){if(this.getHidden()){return null}var c=[0,0,e[2],0],h=this.getDocked(),g=this.getPadding(),f=this.getSprite().getBBox(),b=f.height+g*2;switch(h){case 'top':c[1]=d.top;c[3]=b;e[1]+=b;e[3]-=b;d.top+=b;break;case 'bottom':e[3]-=b;d.bottom-=b;c[1]=d.bottom;c[3]=b;break;}this.setRect(c)},alignRect:function(c){var d=this.surface.getRect(),b=this.getRect();b[0]=c[0]-d[0];b[2]=c[2];this.setRect(b.slice())},performLayout:function(){var f=this,d=f.getRect(),g=d[0],n=d[1],h=d[2],j=d[3],c=f.getSprite(),l=c.attr.translationX,m=c.attr.translationY,b=c.getBBox(),k=f.getAlign(),e,i;switch(k){case 'left':e=g-b.x;break;case 'right':e=g+h-(b.x+b.width);break;case 'center':e=g+(h-b.width)/2-b.x;break;}i=n+(j-b.height)/2-b.y;c.setAttributes({translationX:l+e,translationY:m+i})},destroy:function(){var b=this;if(b.rectSprite){b.rectSprite.destroy()}b.getSprite().destroy();b.callParent()}});a.define('Ext.chart.legend.store.Item',{extend:'Ext.data.Model',fields:['id','name','mark','disabled','series','index']});a.define('Ext.chart.legend.store.Store',{extend:'Ext.data.Store',requires:['Ext.chart.legend.store.Item'],model:'Ext.chart.legend.store.Item',isLegendStore:!0,config:{autoDestroy:!0}});a.define('Ext.chart.AbstractChart',{extend:'Ext.draw.Container',requires:['Ext.chart.theme.Default','Ext.chart.series.Series','Ext.chart.interactions.Abstract','Ext.chart.axis.Axis','Ext.chart.Util','Ext.data.StoreManager','Ext.chart.legend.Legend','Ext.chart.legend.SpriteLegend','Ext.chart.Caption','Ext.chart.legend.store.Store','Ext.data.Store'],isChart:!0,defaultBindProperty:'store',config:{store:'ext-empty-store',theme:'default',captions:null,style:null,animation:!a.isIE8,series:[],axes:[],legend:null,colors:null,insetPadding:{top:10,left:10,right:10,bottom:10},background:null,interactions:[],mainRect:null,resizeHandler:null,highlightItem:null,surfaceZIndexes:{background:0,main:1,grid:2,series:3,axis:4,chart:5,caption:6,overlay:7,legend:8}},legendStore:null,animationSuspendCount:0,chartLayoutSuspendCount:0,chartLayoutCount:0,scheduledLayoutId:null,axisThicknessSuspendCount:0,isThicknessChanged:!1,constructor:function(c){var b=this;b.itemListeners={};b.surfaceMap={};b.chartComponents={};b.isInitializing=!0;b.suspendChartLayout();b.animationSuspendCount++;b.callParent(arguments);b.isInitializing=!1;b.getSurface('main');b.getSurface('chart').setFlipRtlText(b.getInherited().rtl);b.getSurface('overlay').waitFor(b.getSurface('series'));b.animationSuspendCount--;b.resumeChartLayout()},applyAnimation:function(c,b){return a.chart.Util.applyAnimation(c,b)},updateAnimation:function(){if(this.isConfiguring){return}var d=this.getSeries(),e=d.length,c,b;this.isSettingSeriesAnimation=!0;for(c=0;c<e;c++){b=d[c];if(!b.isUserAnimation||this.animationSuspendCount){b.setAnimation(b.getAnimation())}}this.isSettingSeriesAnimation=!1},getAnimation:function(){var b;if(this.animationSuspendCount){b={duration:0}}else {b=this.callParent()}return b},suspendAnimation:function(){this.animationSuspendCount++;if(this.animationSuspendCount===1){this.updateAnimation()}},resumeAnimation:function(){this.animationSuspendCount--;if(this.animationSuspendCount===0){this.updateAnimation()}},applyInsetPadding:function(b,d){var c;if(!a.isObject(b)){c=a.util.Format.parseBox(b)}else {if(!d){c=b}else {c=a.apply(d,b)}}return c},suspendChartLayout:function(){var b=this;b.chartLayoutSuspendCount++;if(b.chartLayoutSuspendCount===1){if(b.scheduledLayoutId){b.layoutInSuspension=!0;b.cancelChartLayout()}else {b.layoutInSuspension=!1}}},resumeChartLayout:function(){var b=this;b.chartLayoutSuspendCount--;if(b.chartLayoutSuspendCount===0){if(b.layoutInSuspension){b.scheduleLayout()}}},cancelChartLayout:function(){if(this.scheduledLayoutId){a.draw.Animator.cancel(this.scheduledLayoutId);this.scheduledLayoutId=null;this.checkLayoutEnd()}},scheduleLayout:function(){var b=this;if(b.allowSchedule()&&!b.scheduledLayoutId){b.scheduledLayoutId=a.draw.Animator.schedule('doScheduleLayout',b)}},allowSchedule:function(){return !0},doScheduleLayout:function(){var b=this;b.scheduledLayoutId=null;if(b.chartLayoutSuspendCount){b.layoutInSuspension=!0}else {b.performLayout()}},suspendThicknessChanged:function(){this.axisThicknessSuspendCount++},resumeThicknessChanged:function(){if(this.axisThicknessSuspendCount>0){this.axisThicknessSuspendCount--;if(this.axisThicknessSuspendCount===0&&this.isThicknessChanged){this.onThicknessChanged()}}},onThicknessChanged:function(){if(this.axisThicknessSuspendCount===0){this.isThicknessChanged=!1;this.performLayout()}else {this.isThicknessChanged=!0}},applySprites:function(b){var c=this.getSurface('chart');b=a.Array.from(b);c.removeAll(!0);c.add(b);return b},initItems:function(){var b=this.items,c,e,d;if(b&&!b.isMixedCollection){this.items=[];b=a.Array.from(b);for(c=0,e=b.length;c<e;c++){d=b[c];if(d.type){a.raise("To add custom sprites to the chart use the 'sprites' config.")}else {this.items.push(d)}}}this.callParent()},applyBackground:function(b,c){var d=this.getSurface('background');return this.refreshBackground(d,b,c)},refreshBackground:function(d,c,b){var g,f,e;if(c){if(b){g=b.attr.width;f=b.attr.height;e=b.type===(c.type||'rect')}if(c.isSprite){b=c}else {if(c.type==='image'&&a.isString(c.src)){if(e){b.setAttributes({src:c.src})}else {d.remove(b,!0);b=d.add(c)}}else {if(e){b.setAttributes({fillStyle:c})}else {d.remove(b,!0);b=d.add({type:'rect',fillStyle:c,animation:{customDurations:{x:0,y:0,width:0,height:0}}})}}}}if(g&&f){b.setAttributes({width:g,height:f})}b.setAnimation(this.getAnimation());return b},defaultResizeHandler:function(b){this.scheduleLayout();return !1},applyMainRect:function(b,c){if(!c){return b}this.getSeries();this.getAxes();if(b[0]===c[0]&&b[1]===c[1]&&b[2]===c[2]&&b[3]===c[3]){return c}else {return b}},register:function(c){var d=this.chartComponents,b=c.getId();if(b===undefined){a.raise('Chart component id is undefined. '+'Please ensure the component has an id.')}if(b in d){a.raise('Registering duplicate chart component id "'+b+'"')}d[b]=c},unregister:function(b){var c=this.chartComponents,d=b.getId();delete c[d]},get:function(b){return this.chartComponents[b]},getAxis:function(b){if(b instanceof a.chart.axis.Axis){return b}else {if(a.isNumber(b)){return this.getAxes()[b]}else {if(a.isString(b)){return this.get(b)}}}},getSurface:function(e,b){e=e||'main';b=b||e;var f=this,c=this.callParent([e,b]),d=f.surfaceMap;if(!d[b]){d[b]=[]}if(a.Array.indexOf(d[b],c)<0){c.type=b;d[b].push(c);c.on('destroy',f.forgetSurface,f)}return c},forgetSurface:function(c){var e=this.surfaceMap;if(!e||this.destroying){return}var b=e[c.type],d=b?a.Array.indexOf(b,c):-1;if(d>=0){b.splice(d,1)}},applyAxes:function(f,j){var d=this,o={left:'right',right:'left'},h=[],b,c,i,k,e,m,l,g,n;d.animationSuspendCount++;d.getStore();if(!j){j=[];j.map={}}g=j.map;h.map={};f=a.Array.from(f,!0);for(e=0,l=f.length;e<l;e++){b=f[e];if(!b){continue}if(b instanceof a.chart.axis.Axis){c=g[b.getId()];b.setChart(d)}else {b=a.Object.chain(b);i=b.linkedTo;k=b.id;if(a.isNumber(i)){b=a.merge({},f[i],b)}else {if(a.isString(i)){a.Array.each(f,function(c){if(c.id===b.linkedTo){b=a.merge({},c,b);return !1}})}}b.id=k;b.chart=d;if(d.getInherited().rtl){b.position=o[b.position]||b.position}k=b.getId&&b.getId()||b.id;b=a.factory(b,null,c=g[k],'axis')}if(b){h.push(b);h.map[b.getId()]=b}}d.axesChangeSeries={};for(e in g){if(!h.map[e]){c=g[e];if(c&&!c.destroyed){for(m=0,l=c.boundSeries.length;m<l;m++){n=c.boundSeries[m];d.axesChangeSeries[n.getId()]=n}c.destroy()}}}d.animationSuspendCount--;return h},updateAxes:function(f){var b=this,d=b.axesChangeSeries,e,h,c,i,g;for(h in d){e=d[h];e.onAxesChange(b,!0)}for(c=0,i=f.length;c<i;c++){g=f[c];g.onSeriesChange(b)}if(!b.isConfiguring&&!b.destroying){b.scheduleLayout()}},circularCopyArray:function(c,f,g){var d=[],b,e=c&&c.length;if(e){for(b=0;b<g;b++){d.push(c[(f+b)%e])}}return d},circularCopyObject:function(e,g,f){var h=this,b,c,d={};if(f){for(b in e){if(e.hasOwnProperty(b)){c=e[b];if(a.isArray(c)){d[b]=h.circularCopyArray(c,g,f)}else {d[b]=c}}}}return d},getColors:function(){var c=this,b=c.config.colors,d=c.getTheme();if(a.isArray(b)&&b.length>0){b=c.applyColors(b)}return b||d&&d.getColors()},applyColors:function(b){b=a.Array.map(b,function(c){if(a.isString(c)){return c}else {return c.toString()}});return b},updateColors:function(l){var b=this,j=b.getTheme(),i=l||j&&j.getColors(),h=0,f=b.getSeries(),k=f&&f.length,c,e,g,d;if(i.length){for(c=0;c<k;c++){e=f[c];d=e.themeColorCount();g=b.circularCopyArray(i,h,d);h+=d;e.updateChartColors(g)}}if(!b.isConfiguring){b.refreshLegendStore()}},applyTheme:function(b){if(b&&b.isTheme){return b}return a.Factory.chartTheme(b)},updateGradients:function(b){if(!a.isEmpty(b)){this.updateTheme(this.getTheme())}},updateTheme:function(d,g){var b=this,f=b.getAxes(),e=b.getSeries(),h=b.getColors(),c;if(!e){return}b.updateChartTheme(d);for(c=0;c<f.length;c++){f[c].updateTheme(d)}for(c=0;c<e.length;c++){e[c].setTheme(d)}b.updateSpriteTheme(d);b.updateColors(h);b.redraw();b.fireEvent('themechange',b,d,g)},themeOnlyIfConfigured:{captions:!0},updateChartTheme:function(p){var d=this,e=p.getChart(),n=d.getInitialConfig(),m=d.defaultConfig,o=d.self.getConfigurator().configs,l=e.defaults,k=e[d.xtype],j=d.themeOnlyIfConfigured,c,b,h,f,g,i;e=a.merge({},l,k);for(c in e){b=e[c];i=o[c];if(b!==null&&b!==undefined&&i){g=n[c];h=a.isObject(b);f=g===m[c];if(h){if(f&&j[c]){continue}b=a.merge({},b,g)}if(f||h){d[i.names.set](b)}}}},updateSpriteTheme:function(l){this.getSprites();var m=this,j=m.getSurface('chart'),g=j.getItems(),k=l.getSprites(),b,d,c,f,h,e,i;for(e=0,i=g.length;e<i;e++){b=g[e];d=k[b.type];if(d){f={};h=b.type==='text';for(c in d){if(!(c in b.config)){if(!(h&&c.indexOf('font')===0&&b.config.font)){f[c]=d[c]}}}b.setAttributes(f)}}},addSeries:function(c){var b=this.getSeries();b=b.concat(a.Array.from(c));this.setSeries(b)},removeSeries:function(d){d=a.Array.from(d);var e=this.getSeries(),g=[],f=d.length,h={},b,c;for(b=0;b<f;b++){c=d[b];if(typeof c!=='string'){c=c.getId()}h[c]=!0}for(b=0,f=e.length;b<f;b++){if(!h[e[b].getId()]){g.push(e[b])}}this.setSeries(g)},applySeries:function(h,i){var g=this,f=[],e,c,d,j,b;g.animationSuspendCount++;g.getAxes();if(i){e=i.map}else {i=[];e=i.map={}}f.map={};h=a.Array.from(h,!0);for(d=0,j=h.length;d<j;d++){b=h[d];if(!b){continue}c=e[b.getId&&b.getId()||b.id];if(b instanceof a.chart.series.Series){if(c&&c!==b){c.destroy()}b.setChart(g)}else {if(a.isObject(b)){if(c){c.setConfig(b);b=c}else {if(a.isString(b)){b={type:b}}b.chart=g;b=a.create(b.xclass||'series.'+b.type,b)}}}f.push(b);f.map[b.getId()]=b}for(d in e){if(!f.map[e[d].id]){e[d].destroy()}}g.animationSuspendCount--;return f},updateSeries:function(c,d){var b=this;if(b.destroying){return}b.animationSuspendCount++;b.fireEvent('serieschange',b,c,d);if(!a.isEmpty(c)){b.updateTheme(b.getTheme())}b.refreshLegendStore();if(!b.isConfiguring&&!b.destroying){b.scheduleLayout()}b.animationSuspendCount--},defaultLegendType:'sprite',applyLegend:function(c,d){var b=this,e=null,f;if(d&&!(d.destroyed||d.destroying)){if(b.legendStoreListeners){b.legendStoreListeners.destroy()}if(b.legendStore){b.legendStore.destroy()}d.destroy()}if(c){if(a.isBoolean(c)){e=a.create('legend.'+b.defaultLegendType,{docked:'bottom',chart:b})}else {c.docked=c.docked||'bottom';c.chart=b;f='legend.'+(c.type||b.defaultLegendType);e=a.create(f,c)}}return e},updateLegend:function(c){var b=this;b.destroyLegendStore();if(c){b.getItems();c.setStore(b.refreshLegendStore())}if(!b.isConfiguring){b.scheduleLayout()}},captionApplier:function(c,b){var e=this,d;if(b&&!(b.destroyed||b.destroying)){b.destroy()}if(c){c.chart=e;d=new a.chart.Caption(c)}return d},applyCaptions:function(f,d){var h={},b,e,c,g;for(c in f){b=f[c];if(b&&!b.length&&!(b.text&&b.text.length)){b=null}else {if(typeof b==='string'){b={text:b};this.getInitialConfig().captions[c]=b}}e=d&&d[c];b=this.captionApplier(b,e);if(b){g=!0;h[c]=b}}return g&&h},updateCaptions:function(){var b=this;if(!b.isConfiguring){b.scheduleLayout()}},getLegendStore:function(){var b=this,c=b.legendStore;if(!c){c=b.legendStore=new a.chart.legend.store.Store({chart:b});b.legendStoreListeners=c.on({scope:b,update:'onLegendStoreUpdate',destroyable:!0})}return c},destroyLegendStore:function(){var b=this.legendStore;if(b&&!(b.destroyed||b.destroying)){b.destroy()}this.legendStore=null},refreshLegendStore:function(){var g=this,b=g.getLegendStore(),c;if(b){var f=g.getSeries(),h=f.length,e=[],d=0;for(;d<h;d++){c=f[d];if(c.getShowInLegend()){c.provideLegendInfo(e)}}b.setData(e)}return b},onLegendStoreUpdate:function(e,b){var d=this,c;if(b){c=this.getSeries().map[b.get('series')];if(c){c.setHiddenByIndex(b.get('index'),b.get('disabled'));d.redraw()}}},applyInteractions:function(f,e){f=a.Array.from(f,!0);if(!e){e=[];e.map={}}var i=this,d=[],g=e.map,c,h,b;d.map={};for(c=0,h=f.length;c<h;c++){b=f[c];if(!b){continue}b=a.factory(b,null,g[b.getId&&b.getId()||b.id],'interaction');if(b){b.setChart(i);d.push(b);d.map[b.getId()]=b}}for(c in g){if(!d.map[c]){g[c].destroy()}}return d},getInteraction:function(g){var c=this.getInteractions(),e=c&&c.length,f=null,d,b;if(e){for(b=0;b<e;++b){d=c[b];if(d.type===g){f=d;break}}}return f},applyStore:function(b){return b&&a.StoreManager.lookup(b)},updateStore:function(d,b){var c=this;if(b&&!b.destroyed){b.un({datachanged:'onDataChanged',update:'onDataChanged',scope:c,order:'after'});if(b.autoDestroy){b.destroy()}}if(d){d.on({datachanged:'onDataChanged',update:'onDataChanged',scope:c,order:'after'})}c.fireEvent('storechange',c,d,b);c.onDataChanged()},redraw:function(){this.fireEvent('redraw',this)},performLayout:function(){if(this.destroying||this.destroyed){a.raise('Attempting to lay out a dead chart: '+this.getId());return !1}var b=this,c=b.getLegend(),d=b.getChartRect(!0),g=b.getBackground(),f=!0,e;b.cancelChartLayout();b.fireEvent('beforelayout',b);if(g){b.getSurface('background').setRect(d.slice());g.setAttributes({width:d[2],height:d[3]})}if(c&&c.isSpriteLegend&&!c.isTop){e=c.computeRect(d)}b.layoutCaptions(d);if(c&&c.isSpriteLegend&&c.isTop){e=c.computeRect(d)}if(e){b.getSurface('legend').setRect(e);f=c.performLayout()}b.getSurface('chart').setRect(d);if(f){b.hasFirstLayout=!0}return f},layoutCaptions:function(d){var e=this.getCaptions(),i={left:0,top:0,right:d[2],bottom:d[3]},f,g,b,c,h;if(e){b=[];for(g in e){b.push(e[g])}b.sort(function(b,c){return b.getWeight()-c.getWeight()});for(c=0,h=b.length;c<h;c++){f=b[c];if(!c){this.getSurface(f.surfaceName).setRect(d.slice())}f.computeRect(d,i)}this.captionList=b}},checkLayoutEnd:function(){if(!this.chartLayoutCount&&!this.scheduledLayoutId){this.onLayoutEnd()}},onLayoutEnd:function(){var b=this;b.fireEvent('layout',b)},getChartRect:function(e){var b=this,c,d;if(e){b.chartRect=null}if(b.chartRect){c=b.chartRect}else {d=b.bodyElement.getSize();c=b.chartRect=[0,0,d.width,d.height]}return c},getEventXY:function(b){return this.getSurface('series').getEventXY(b)},getItemForPoint:function(g,h){var f=this,j=f.getSeries(),e=f.getMainRect(),k=j.length,i=Infinity,d=null,c,b;if(!(f.hasFirstLayout&&e&&g>=0&&g<=e[2]&&h>=0&&h<=e[3])){return null}for(c=k-1;c>=0;c--){b=j[c].getItemForPoint(g,h);if(b){if(!b.distance){d=b;break}if(b.distance<i){i=b.distance;d=b}}}return d},getItemsForPoint:function(i,j){var g=this,d=g.getSeries(),h=d.length,c=g.hasFirstLayout?h-1:-1,f=[],e,b;for(;c>=0;c--){e=d[c];b=e.getItemForPoint(i,j);if(b&&b.category==='items'){f.push(b)}}return f},onDataChanged:function(){var b=this;if(b.isInitializing){return}var f=b.getMainRect(),d=b.getStore(),c=b.getSeries(),e=b.getAxes();if(!d||!e||!c){return}if(!f){b.on({redraw:b.onDataChanged,scope:b,single:!0});return}b.processData();b.redraw()},recordCount:0,processData:function(){var b=this,f=b.getStore().getCount(),g=b.getSeries(),h=g.length,c=!1,e=0,d;for(;e<h;e++){d=g[e];d.processData();if(!c&&d.isStoreDependantColorCount){c=!0}}if(c&&f>b.recordCount){b.updateColors(b.getColors());b.recordCount=f}if(!b.isConfiguring){b.refreshLegendStore()}},bindStore:function(b){this.setStore(b)},applyHighlightItem:function(b,e){if(b===e){return}if(a.isObject(b)&&a.isObject(e)){var c=b,d=e,f=c.sprite&&(c.sprite[0]||c.sprite),g=d.sprite&&(d.sprite[0]||d.sprite);if(f===g&&c.index===d.index){return}}return b},updateHighlightItem:function(b,c){var d,e;if(c){e=c.series.getHighlight();if(e){c.series.setAttributesForItem(c,{highlighted:!1})}}if(b){d=b.series.getHighlight();if(d){b.series.setAttributesForItem(b,{highlighted:!0})}}if(e||d){this.fireEvent('itemhighlight',this,b,c)}},destroyChart:function(){var b=this;b.setInteractions(null);b.setAxes(null);b.setSeries(null);b.setLegend(null);b.setStore(null);b.cancelChartLayout()},getRefItems:function(h){var i=this,f=i.getSeries(),g=i.getAxes(),e=i.getInteractions(),c=[],b,d;for(b=0,d=f.length;b<d;b++){c.push(f[b]);if(f[b].getRefItems){c.push.apply(c,f[b].getRefItems(h))}}for(b=0,d=g.length;b<d;b++){c.push(g[b]);if(g[b].getRefItems){c.push.apply(c,g[b].getRefItems(h))}}for(b=0,d=e.length;b<d;b++){c.push(e[b]);if(e[b].getRefItems){c.push.apply(c,e[b].getRefItems(h))}}return c}});a.define('Ext.chart.overrides.AbstractChart',{override:'Ext.chart.AbstractChart',updateLegend:function(b,c){this.callParent([b,c]);if(b&&b.isDomLegend){this.addDocked(b)}},performLayout:function(){if(this.isVisible(!0)){return this.callParent()}this.cancelChartLayout();return !1},afterComponentLayout:function(e,d,c,b){this.callParent([e,d,c,b]);if(!this.hasFirstLayout){this.scheduleLayout()}},allowSchedule:function(){return this.rendered},doDestroy:function(){this.destroyChart();this.callParent()}});a.define('Ext.chart.grid.HorizontalGrid',{extend:'Ext.draw.sprite.Sprite',alias:'grid.horizontal',inheritableStatics:{def:{processors:{x:'number',y:'number',width:'number',height:'number'},defaults:{x:0,y:0,width:1,height:1,strokeStyle:'#DDD'}}},render:function(d,b,c){var g=this.attr,f=d.roundPixel(g.y),e=b.lineWidth*0.5;b.beginPath();b.rect(c[0]-d.matrix.getDX(),f+e,+c[2],g.height);b.fill();b.beginPath();b.moveTo(c[0]-d.matrix.getDX(),f+e);b.lineTo(c[0]+c[2]-d.matrix.getDX(),f+e);b.stroke()}});a.define('Ext.chart.grid.VerticalGrid',{extend:'Ext.draw.sprite.Sprite',alias:'grid.vertical',inheritableStatics:{def:{processors:{x:'number',y:'number',width:'number',height:'number'},defaults:{x:0,y:0,width:1,height:1,strokeStyle:'#DDD'}}},render:function(d,b,c){var g=this.attr,f=d.roundPixel(g.x),e=b.lineWidth*0.5;b.beginPath();b.rect(f-e,c[1]-d.matrix.getDY(),g.width,c[3]);b.fill();b.beginPath();b.moveTo(f-e,c[1]-d.matrix.getDY());b.lineTo(f-e,c[1]+c[3]-d.matrix.getDY());b.stroke()}});a.define('Ext.chart.CartesianChart',{extend:'Ext.chart.AbstractChart',alternateClassName:'Ext.chart.Chart',requires:['Ext.chart.grid.HorizontalGrid','Ext.chart.grid.VerticalGrid'],xtype:['cartesian','chart'],isCartesian:!0,config:{flipXY:!1,innerRect:[0,0,1,1],innerPadding:{top:0,left:0,right:0,bottom:0}},applyInnerPadding:function(b,c){if(!a.isObject(b)){return a.util.Format.parseBox(b)}else {if(!c){return b}else {return a.apply(c,b)}}},getDirectionForAxis:function(c){var d=this.getFlipXY(),b;if(c==='left'||c==='right'){b=d?'X':'Y'}else {b=d?'Y':'X'}return b},performLayout:function(){var b=this;if(b.callParent()===!1){return}b.chartLayoutCount++;b.suspendAnimation();var s=b.getSurface('chart').getRect(),q=s[0],r=s[1],m=s[2],l=s[3],v=b.captionList,u=b.getAxes(),f,B=b.getSeries(),z,g,h,C=b.getInsetPadding(),e=b.getInnerPadding(),k,o,d=a.apply({},C),j,p,i,w,x,A,y,c,n,E=b.getInherited().rtl,D=b.getFlipXY(),t;if(m<=0||l<=0){return}b.suspendThicknessChanged();for(c=0;c<u.length;c++){f=u[c];g=f.getSurface();x=f.getFloating();A=x?x.value:null;h=f.getThickness();switch(f.getPosition()){case 'top':g.setRect([q,r+d.top+1,m,h]);break;case 'bottom':g.setRect([q,r+l-(d.bottom+h),m,h]);break;case 'left':g.setRect([q+d.left,r,h,l]);break;case 'right':g.setRect([q+m-(d.right+h),r,h,l]);break;}if(A===null){d[f.getPosition()]+=h}}m-=d.left+d.right;l-=d.top+d.bottom;j=[q+d.left,r+d.top,m,l];d.left+=e.left;d.top+=e.top;d.right+=e.right;d.bottom+=e.bottom;p=m-e.left-e.right;i=l-e.top-e.bottom;b.setInnerRect([d.left,d.top,p,i]);if(p<=0||i<=0){return}b.setMainRect(j);b.getSurface().setRect(j);for(c=0,n=b.surfaceMap.grid&&b.surfaceMap.grid.length;c<n;c++){o=b.surfaceMap.grid[c];o.setRect(j);o.matrix.set(1,0,0,1,e.left,e.top);o.matrix.inverse(o.inverseMatrix)}for(c=0;c<u.length;c++){f=u[c];f.getRange(!0);g=f.getSurface();y=g.matrix;w=y.elements;switch(f.getPosition()){case 'top':case 'bottom':w[4]=d.left;f.setLength(p);break;case 'left':case 'right':w[5]=d.top;f.setLength(i);break;}f.updateTitleSprite();y.inverse(g.inverseMatrix)}for(c=0,n=B.length;c<n;c++){z=B[c];k=z.getSurface();k.setRect(j);if(D){if(E){k.matrix.set(0,-1,-1,0,e.left+p,e.top+i)}else {k.matrix.set(0,-1,1,0,e.left,e.top+i)}}else {k.matrix.set(1,0,0,-1,e.left,e.top+i)}k.matrix.inverse(k.inverseMatrix);z.getOverlaySurface().setRect(j)}if(v){for(c=0,n=v.length;c<n;c++){t=v[c];if(t.getAlignTo()==='series'){t.alignRect(j)}t.performLayout()}}b.afterChartLayout();b.redraw();b.resumeAnimation();b.resumeThicknessChanged();b.chartLayoutCount--;b.checkLayoutEnd()},afterChartLayout:a.emptyFn,refloatAxes:function(){var j=this,n=j.getAxes(),r=n&&n.length||0,e,k,d,l,b,f,i,o=j.getChartRect(),g=j.getInsetPadding(),c=j.getInnerPadding(),q=o[2]-g.left-g.right,p=o[3]-g.top-g.bottom,h,m;for(m=0;m<r;m++){e=n[m];l=e.getFloating();b=l?l.value:null;if(b===null){e.floatingAtCoord=null;continue}k=e.getSurface();d=k.getRect();if(!d){continue}d=d.slice();f=j.getAxis(l.alongAxis);if(f){h=f.getAlignment()==='horizontal';if(a.isString(b)){b=f.getCoordFor(b)}f.floatingAxes[e.getId()]=b;i=f.getSprites()[0].attr.matrix;if(h){b=b*i.getXX()+i.getDX();e.floatingAtCoord=b+c.left+c.right}else {b=b*i.getYY()+i.getDY();e.floatingAtCoord=b+c.top+c.bottom}}else {h=e.getAlignment()==='horizontal';if(h){e.floatingAtCoord=b+c.top+c.bottom}else {e.floatingAtCoord=b+c.left+c.right}b=k.roundPixel(0.01*b*(h?p:q))}switch(e.getPosition()){case 'top':d[1]=g.top+c.top+b-d[3]+1;break;case 'bottom':d[1]=g.top+c.top+(f?b:p-b);break;case 'left':d[0]=g.left+c.left+b-d[2];break;case 'right':d[0]=g.left+c.left+(f?b:q-b)-1;break;}k.setRect(d)}},redraw:function(){var i=this,y=i.getSeries(),A=i.getAxes(),x=i.getMainRect(),u,t,g=i.getInnerPadding(),j,b,c,z,d,f,h,s,o,q,r,v,e,B=i.getFlipXY(),w=1000,l,p,k,n,m;if(!x){return}u=x[2]-g.left-g.right;t=x[3]-g.top-g.bottom;for(f=0;f<y.length;f++){k=y[f];q=k.getXAxis();if(q){e=q.getVisibleRange();b=q.getRange();b=[b[0]+(b[1]-b[0])*e[0],b[0]+(b[1]-b[0])*e[1]]}else {b=k.getXRange()}r=k.getYAxis();if(r){e=r.getVisibleRange();c=r.getRange();c=[c[0]+(c[1]-c[0])*e[0],c[0]+(c[1]-c[0])*e[1]]}else {c=k.getYRange()}d={visibleMinX:b[0],visibleMaxX:b[1],visibleMinY:c[0],visibleMaxY:c[1],innerWidth:u,innerHeight:t,flipXY:B};j=k.getSprites();for(h=0,s=j.length;h<s;h++){n=j[h];l=n.attr.zIndex;if(l<w){l+=(f+1)*100+w;n.attr.zIndex=l;m=n.getMarker('items');if(m){p=m.attr.zIndex;if(p===Number.MAX_VALUE){m.attr.zIndex=l}else {if(p<w){m.attr.zIndex=l+p}}}}n.setAttributes(d,!0)}}for(f=0;f<A.length;f++){o=A[f];z=o.isSide();j=o.getSprites();v=o.getRange();e=o.getVisibleRange();d={dataMin:v[0],dataMax:v[1],visibleMin:e[0],visibleMax:e[1]};if(z){d.length=t;d.startGap=g.bottom;d.endGap=g.top}else {d.length=u;d.startGap=g.left;d.endGap=g.right}for(h=0,s=j.length;h<s;h++){j[h].setAttributes(d,!0)}}i.renderFrame();i.callParent()},renderFrame:function(){this.refloatAxes();this.callParent()}});a.define('Ext.chart.grid.CircularGrid',{extend:'Ext.draw.sprite.Circle',alias:'grid.circular',inheritableStatics:{def:{defaults:{r:1,strokeStyle:'#DDD'}}}});a.define('Ext.chart.grid.RadialGrid',{extend:'Ext.draw.sprite.Path',alias:'grid.radial',inheritableStatics:{def:{processors:{startRadius:'number',endRadius:'number'},defaults:{startRadius:0,endRadius:1,scalingCenterX:0,scalingCenterY:0,strokeStyle:'#DDD'},triggers:{startRadius:'path,bbox',endRadius:'path,bbox'}}},render:function(){this.callParent(arguments)},updatePath:function(c,b){var d=b.startRadius,e=b.endRadius;c.moveTo(d,0);c.lineTo(e,0)}});a.define('Ext.chart.PolarChart',{extend:'Ext.chart.AbstractChart',requires:['Ext.chart.grid.CircularGrid','Ext.chart.grid.RadialGrid'],xtype:'polar',isPolar:!0,config:{center:[0,0],radius:0,innerPadding:0},getDirectionForAxis:function(b){return b==='radial'?'Y':'X'},updateCenter:function(e){var i=this,g=i.getAxes(),f=i.getSeries(),b,c,h,d;for(b=0,c=g.length;b<c;b++){h=g[b];h.setCenter(e)}for(b=0,c=f.length;b<c;b++){d=f[b];d.setCenter(e)}},applyInnerPadding:function(b,c){return a.isNumber(b)?b:c},updateInnerPadding:function(){if(!this.isConfiguring){this.performLayout()}},doSetSurfaceRect:function(d,b){var c=this.getMainRect();d.setRect(b);d.matrix.set(1,0,0,1,c[0]-b[0],c[1]-b[1]);d.inverseMatrix.set(1,0,0,1,b[0]-c[0],b[1]-c[1])},applyAxes:function(b,h){var i=this,c=a.Array.from(i.config.series)[0],d,g,f,e;if(c&&c.type==='radar'&&b&&b.length){for(d=0,g=b.length;d<g;d++){f=b[d];if(f.position==='angular'){e=!0;break}}if(!e){b.push({type:'category',position:'angular',fields:c.xField||c.angleField,style:{estStepSize:1},grid:!0})}}return this.callParent([b,h])},performLayout:function(){var b=this,z=!0;try{b.chartLayoutCount++;b.suspendAnimation();if(this.callParent()===!1){z=!1;return}b.suspendThicknessChanged();var e=b.getSurface('chart').getRect(),j=b.getInsetPadding(),i=b.getInnerPadding(),h=a.apply({},j),q=Math.max(1,e[2]-e[0]-j.left-j.right),p=Math.max(1,e[3]-e[1]-j.top-j.bottom),k=[e[0]+j.left,e[1]+j.top,q+e[0],p+e[1]],D=b.getSeries(),C=q-i*2,B=p-i*2,H=[(e[0]+C)*0.5+i,(e[1]+B)*0.5+i],F=Math.min(C,B)*0.5,m=b.getAxes(),u=[],w=[],s=F-i,y=b.surfaceMap.grid,v=b.captionList,c,f,t,x,G,g,n,r,l,d,E,A,o;b.setMainRect(k);b.doSetSurfaceRect(b.getSurface(),k);if(y){for(c=0,f=y.length;c<f;c++){b.doSetSurfaceRect(y[c],e)}}for(c=0,f=m.length;c<f;c++){d=m[c];switch(d.getPosition()){case 'angular':u.push(d);break;case 'radial':w.push(d);break;}}for(c=0,f=u.length;c<f;c++){d=u[c];x=d.getFloating();G=x?x.value:null;b.doSetSurfaceRect(d.getSurface(),e);E=d.getThickness();for(r in h){h[r]+=E}q=e[2]-h.left-h.right;p=e[3]-h.top-h.bottom;t=Math.min(q,p)*0.5;if(c===0){s=t-i}d.setMinimum(0);d.setLength(t);d.getSprites();A=d.sprites[0].attr.lineWidth*0.5;for(r in h){h[r]+=A}}for(c=0,f=w.length;c<f;c++){d=w[c];b.doSetSurfaceRect(d.getSurface(),e);d.setMinimum(0);d.setLength(s);d.getSprites()}for(c=0,f=D.length;c<f;c++){l=D[c];if(l.type==='gauge'&&!g){g=l}else {l.setRadius(s)}b.doSetSurfaceRect(l.getSurface(),k)}b.doSetSurfaceRect(b.getSurface('overlay'),e);if(g){g.setRect(k);n=g.getRadius()-i;b.setRadius(n);b.setCenter(g.getCenter());g.setRadius(n);if(m.length&&m[0].getPosition()==='gauge'){d=m[0];b.doSetSurfaceRect(d.getSurface(),e);d.setTotalAngle(g.getTotalAngle());d.setLength(n)}}else {b.setRadius(F);b.setCenter(H)}if(v){for(c=0,f=v.length;c<f;c++){o=v[c];if(o.getAlignTo()==='series'){o.alignRect(k)}o.performLayout()}}b.redraw()}finally{b.resumeAnimation();if(z){b.resumeThicknessChanged()}b.chartLayoutCount--;b.checkLayoutEnd()}},refloatAxes:function(){var h=this,j=h.getAxes(),g=h.getMainRect(),e,b,c,f,k,d,i;if(!g){return}i=0.5*Math.min(g[2],g[3]);for(f=0,k=j.length;f<k;f++){d=j[f];e=d.getFloating();b=e?e.value:null;if(b!==null){c=h.getAxis(e.alongAxis);if(d.getPosition()==='angular'){if(c){b=c.getLength()*b/c.getRange()[1]}else {b=0.01*b*i}d.sprites[0].setAttributes({length:b},!0)}else {if(c){if(a.isString(b)){b=c.getCoordFor(b)}b=b/(c.getRange()[1]+1)*Math.PI*2-Math.PI*1.5+d.getRotation()}else {b=a.draw.Draw.rad(b)}d.sprites[0].setAttributes({baseRotation:b},!0)}}}},redraw:function(){var d=this,g=d.getAxes(),h,e=d.getSeries(),f,b,c;for(b=0,c=g.length;b<c;b++){h=g[b];h.getSprites()}for(b=0,c=e.length;b<c;b++){f=e[b];f.getSprites()}d.renderFrame();d.callParent()},renderFrame:function(){this.refloatAxes();this.callParent()}});a.define('Ext.chart.SpaceFillingChart',{extend:'Ext.chart.AbstractChart',xtype:'spacefilling',config:{},performLayout:function(){var b=this;try{b.chartLayoutCount++;b.suspendAnimation();if(b.callParent()===!1){return}var g=b.getSurface('chart').getRect(),c=b.getInsetPadding(),k=g[2]-c.left-c.right,j=g[3]-c.top-c.bottom,e=[c.left,c.top,k,j],h=b.getSeries(),d,f,i;b.getSurface().setRect(e);b.setMainRect(e);for(f=0,i=h.length;f<i;f++){d=h[f];d.getSurface().setRect(e);if(d.setRect){d.setRect(e)}d.getOverlaySurface().setRect(g)}b.redraw()}finally{b.resumeAnimation();b.chartLayoutCount--;b.checkLayoutEnd()}},redraw:function(){var c=this,d=c.getSeries(),e,b,f;for(b=0,f=d.length;b<f;b++){e=d[b];e.getSprites()}c.renderFrame();c.callParent()}});a.define('Ext.chart.axis.sprite.Axis3D',{extend:'Ext.chart.axis.sprite.Axis',alias:'sprite.axis3d',type:'axis3d',inheritableStatics:{def:{processors:{depth:'number'},defaults:{depth:0},triggers:{depth:'layout'}}},config:{animation:{customDurations:{depth:0}}},layoutUpdater:function(){var c=this,i=c.getAxis().getChart();if(i.isInitializing){return}var b=c.attr,g=c.getLayout(),f=g.isDiscrete?0:b.depth,j=i.getInherited().rtl,d=b.dataMin+(b.dataMax-b.dataMin)*b.visibleMin,e=b.dataMin+(b.dataMax-b.dataMin)*b.visibleMax,h={attr:b,segmenter:c.getSegmenter(),renderer:c.defaultRenderer};if(b.position==='left'||b.position==='right'){b.translationX=0;b.translationY=e*(b.length-f)/(e-d)+f;b.scalingX=1;b.scalingY=(-b.length+f)/(e-d);b.scalingCenterY=0;b.scalingCenterX=0;c.applyTransformations(!0)}else {if(b.position==='top'||b.position==='bottom'){if(j){b.translationX=b.length+d*b.length/(e-d)+1}else {b.translationX=-d*b.length/(e-d)}b.translationY=0;b.scalingX=(j?-1:1)*(b.length-f)/(e-d);b.scalingY=1;b.scalingCenterY=0;b.scalingCenterX=0;c.applyTransformations(!0)}}if(g){g.calculateLayout(h);c.setLayoutContext(h)}},renderAxisLine:function(i,c,j,h){var g=this,b=g.attr,d=b.lineWidth*0.5,j=g.getLayout(),k=j.isDiscrete?0:b.depth,l=b.position,e,f;if(b.axisLine&&b.length){switch(l){case 'left':e=i.roundPixel(h[2])-d;c.moveTo(e,-b.endGap+k);c.lineTo(e,b.length+b.startGap);break;case 'right':c.moveTo(d,-b.endGap);c.lineTo(d,b.length+b.startGap);break;case 'bottom':c.moveTo(-b.startGap,d);c.lineTo(b.length-k+b.endGap,d);break;case 'top':e=i.roundPixel(h[3])-d;c.moveTo(-b.startGap,e);c.lineTo(b.length+b.endGap,e);break;case 'angular':c.moveTo(b.centerX+b.length,b.centerY);c.arc(b.centerX,b.centerY,b.length,0,Math.PI*2,!0);break;case 'gauge':f=g.getGaugeAngles();c.moveTo(b.centerX+Math.cos(f.start)*b.length,b.centerY+Math.sin(f.start)*b.length);c.arc(b.centerX,b.centerY,b.length,f.start,f.end,!0);break;}}}});a.define('Ext.chart.axis.Axis3D',{extend:'Ext.chart.axis.Axis',xtype:'axis3d',requires:['Ext.chart.axis.sprite.Axis3D'],config:{depth:0},onSeriesChange:function(g){var c=this,f='depthchange',e='onSeriesDepthChange',b,d;function toggle(i){var h=c.boundSeries;for(b=0;b<h.length;b++){d=h[b];d[i](f,e,c)}}toggle('un');c.callParent(arguments);toggle('on')},onSeriesDepthChange:function(h,b){var f=this,c=b,g=f.boundSeries,e,d;if(b>f.getDepth()){c=b}else {for(e=0;e<g.length;e++){d=g[e];if(d!==h&&d.getDepth){b=d.getDepth();if(b>c){c=b}}}}f.setDepth(c)},updateDepth:function(e){var b=this,c=b.getSprites(),d={depth:e};if(c&&c.length){c[0].setAttributes(d)}if(b.gridSpriteEven&&b.gridSpriteOdd){b.gridSpriteEven.getTemplate().setAttributes(d);b.gridSpriteOdd.getTemplate().setAttributes(d)}},getGridAlignment:function(){switch(this.getPosition()){case 'left':case 'right':return 'horizontal3d';case 'top':case 'bottom':return 'vertical3d';}}});a.define('Ext.chart.axis.Category',{requires:['Ext.chart.axis.layout.CombineDuplicate','Ext.chart.axis.segmenter.Names'],extend:'Ext.chart.axis.Axis',alias:'axis.category',type:'category',isCategory:!0,config:{layout:'combineDuplicate',segmenter:'names'}});a.define('Ext.chart.axis.Category3D',{requires:['Ext.chart.axis.layout.CombineDuplicate','Ext.chart.axis.segmenter.Names'],extend:'Ext.chart.axis.Axis3D',alias:'axis.category3d',type:'category3d',config:{layout:'combineDuplicate',segmenter:'names'}});a.define('Ext.chart.axis.Numeric',{extend:'Ext.chart.axis.Axis',type:'numeric',alias:['axis.numeric','axis.radial'],requires:['Ext.chart.axis.layout.Continuous','Ext.chart.axis.segmenter.Numeric'],config:{layout:'continuous',segmenter:'numeric',aggregator:'double'}});a.define('Ext.chart.axis.Numeric3D',{extend:'Ext.chart.axis.Axis3D',alias:['axis.numeric3d'],type:'numeric3d',requires:['Ext.chart.axis.layout.Continuous','Ext.chart.axis.segmenter.Numeric'],config:{layout:'continuous',segmenter:'numeric',aggregator:'double'}});a.define('Ext.chart.axis.Time',{extend:'Ext.chart.axis.Numeric',alias:'axis.time',type:'time',requires:['Ext.chart.axis.layout.Continuous','Ext.chart.axis.segmenter.Time'],config:{dateFormat:null,fromDate:null,toDate:null,layout:'continuous',segmenter:'time',aggregator:'time'},updateDateFormat:function(c){var b=this.getRenderer();if(!b||b.isDefault){b=function(d,b){return a.Date.format(new Date(b),c)};b.isDefault=!0;this.setRenderer(b);this.performLayout()}},updateRenderer:function(c){var b=this.getDateFormat();if(c){this.performLayout()}else {if(b){this.updateDateFormat(b)}}},updateFromDate:function(b){this.setMinimum(+b)},updateToDate:function(b){this.setMaximum(+b)},getCoordFor:function(b){if(a.isString(b)){b=new Date(b)}return +b}});a.define('Ext.chart.axis.Time3D',{extend:'Ext.chart.axis.Numeric3D',alias:'axis.time3d',type:'time3d',requires:['Ext.chart.axis.layout.Continuous','Ext.chart.axis.segmenter.Time'],config:{dateFormat:null,fromDate:null,toDate:null,layout:'continuous',segmenter:'time',aggregator:'time'},updateDateFormat:function(b){this.setRenderer(function(d,c){return a.Date.format(new Date(c),b)})},updateFromDate:function(b){this.setMinimum(+b)},updateToDate:function(b){this.setMaximum(+b)},getCoordFor:function(b){if(a.isString(b)){b=new Date(b)}return +b}});a.define('Ext.chart.grid.HorizontalGrid3D',{extend:'Ext.chart.grid.HorizontalGrid',alias:'grid.horizontal3d',inheritableStatics:{def:{processors:{depth:'number'},defaults:{depth:0}}},render:function(h,b,f){var g=this.attr,m=h.roundPixel(g.x),j=h.roundPixel(g.y),l=h.matrix.getDX(),k=b.lineWidth*0.5,i=g.height,e=g.depth,c,d;if(j<=f[1]){return}c=f[0]+e-l;d=j+k-e;b.beginPath();b.rect(c,d,f[2],i);b.fill();b.beginPath();b.moveTo(c,d);b.lineTo(c+f[2],d);b.stroke();c=f[0]+m-l;d=j+k;b.beginPath();b.moveTo(c,d);b.lineTo(c+e,d-e);b.lineTo(c+e,d-e+i);b.lineTo(c,d+i);b.closePath();b.fill();b.beginPath();b.moveTo(c,d);b.lineTo(c+e,d-e);b.stroke()}});a.define('Ext.chart.grid.VerticalGrid3D',{extend:'Ext.chart.grid.VerticalGrid',alias:'grid.vertical3d',inheritableStatics:{def:{processors:{depth:'number'},defaults:{depth:0}}},render:function(k,b,f){var j=this.attr,g=k.roundPixel(j.x),l=k.matrix.getDY(),h=b.lineWidth*0.5,i=j.width,e=j.depth,c,d;if(g>=f[2]){return}c=g-h+e;d=f[1]-e-l;b.beginPath();b.rect(c,d,i,f[3]);b.fill();b.beginPath();b.moveTo(c,d);b.lineTo(c,d+f[3]);b.stroke();c=g-h;d=f[3];b.beginPath();b.moveTo(c,d);b.lineTo(c+e,d-e);b.lineTo(c+e+i,d-e);b.lineTo(c+i,d);b.closePath();b.fill();c=g-h;d=f[3];b.beginPath();b.moveTo(c,d);b.lineTo(c+e,d-e);b.stroke()}});a.define('Ext.chart.interactions.CrossZoom',{extend:'Ext.chart.interactions.Abstract',type:'crosszoom',alias:'interaction.crosszoom',isCrossZoom:!0,config:{axes:!0,gestures:{dragstart:'onGestureStart',drag:'onGesture',dragend:'onGestureEnd',dblclick:'onDoubleTap'},undoButton:{}},stopAnimationBeforeSync:!1,zoomAnimationInProgress:!1,constructor:function(){this.callParent(arguments);this.zoomHistory=[]},applyAxes:function(b){var c={};if(b===!0){return {top:{},right:{},bottom:{},left:{}}}else {if(a.isArray(b)){c={};a.each(b,function(d){c[d]={}})}else {if(a.isObject(b)){a.iterate(b,function(e,d){if(d===!0){c[e]={}}else {if(d!==!1){c[e]=d}}})}}}return c},applyUndoButton:function(c,b){var d=this;if(b){b.destroy()}if(c){return a.create('Ext.Button',a.apply({cls:[],text:'Undo Zoom',disabled:!0,handler:function(){d.undoZoom()}},c))}},getSurface:function(){return this.getChart()&&this.getChart().getSurface('overlay')},setSeriesOpacity:function(c){var b=this.getChart()&&this.getChart().getSurface('series');if(b){b.element.setStyle('opacity',c)}},onGestureStart:function(k){var b=this,e=b.getChart(),l=b.getSurface(),i=e.getInnerRect(),f=e.getInnerPadding(),g=f.left,m=g+i[2],h=f.top,n=h+i[3],j=e.getEventXY(k),c=j[0],d=j[1];k.claimGesture();if(b.zoomAnimationInProgress){return}if(c>g&&c<m&&d>h&&d<n){b.gestureEvent='drag';b.lockEvents(b.gestureEvent);b.startX=c;b.startY=d;b.selectionRect=l.add({type:'rect',globalAlpha:0.5,fillStyle:'rgba(80,80,140,0.5)',strokeStyle:'rgba(80,80,140,1)',lineWidth:2,x:c,y:d,width:0,height:0,zIndex:10000});b.setSeriesOpacity(0.8);return !1}},onGesture:function(n){var b=this;if(b.zoomAnimationInProgress){return}if(b.getLocks()[b.gestureEvent]===b){var e=b.getChart(),m=b.getSurface(),k=e.getInnerRect(),h=e.getInnerPadding(),f=h.left,i=f+k[2],g=h.top,j=g+k[3],l=e.getEventXY(n),c=l[0],d=l[1];if(c<f){c=f}else {if(c>i){c=i}}if(d<g){d=g}else {if(d>j){d=j}}b.selectionRect.setAttributes({width:c-b.startX,height:d-b.startY});if(Math.abs(b.startX-c)<11||Math.abs(b.startY-d)<11){b.selectionRect.setAttributes({globalAlpha:0.5})}else {b.selectionRect.setAttributes({globalAlpha:1})}m.renderFrame();return !1}},onGestureEnd:function(p){var b=this;if(b.zoomAnimationInProgress){return}if(b.getLocks()[b.gestureEvent]===b){var e=b.getChart(),f=b.getSurface(),g=e.getInnerRect(),l=e.getInnerPadding(),j=l.left,m=j+g[2],k=l.top,n=k+g[3],i=g[2],h=g[3],o=e.getEventXY(p),c=o[0],d=o[1];if(c<j){c=j}else {if(c>m){c=m}}if(d<k){d=k}else {if(d>n){d=n}}if(Math.abs(b.startX-c)<11||Math.abs(b.startY-d)<11){f.remove(b.selectionRect)}else {b.zoomBy([Math.min(b.startX,c)/i,1-Math.max(b.startY,d)/h,Math.max(b.startX,c)/i,1-Math.min(b.startY,d)/h]);b.selectionRect.setAttributes({x:Math.min(b.startX,c),y:Math.min(b.startY,d),width:Math.abs(b.startX-c),height:Math.abs(b.startY-d)});b.selectionRect.setAnimation(e.getAnimation()||{duration:0});b.selectionRect.setAttributes({globalAlpha:0,x:0,y:0,width:i,height:h});b.zoomAnimationInProgress=!0;e.suspendThicknessChanged();b.selectionRect.getAnimation().on('animationend',function(){e.resumeThicknessChanged();f.remove(b.selectionRect);b.selectionRect=null;b.zoomAnimationInProgress=!1})}f.renderFrame();b.sync();b.unlockEvents(b.gestureEvent);b.setSeriesOpacity(1);if(!b.zoomAnimationInProgress){f.remove(b.selectionRect);b.selectionRect=null}}},zoomBy:function(c){var e=this,m=e.getAxes(),k=e.getChart(),l=k.getAxes(),o=k.getInherited().rtl,f,j={},g,h;if(o){c=c.slice();g=1-c[0];h=1-c[2];c[0]=Math.min(g,h);c[2]=Math.max(g,h)}for(var i=0;i<l.length;i++){var d=l[i];f=m[d.getPosition()];if(f&&f.allowZoom!==!1){var n=d.isSide(),b=d.getVisibleRange();j[d.getId()]=b.slice(0);if(!n){d.setVisibleRange([(b[1]-b[0])*c[0]+b[0],(b[1]-b[0])*c[2]+b[0]])}else {d.setVisibleRange([(b[1]-b[0])*c[1]+b[0],(b[1]-b[0])*c[3]+b[0]])}}}e.zoomHistory.push(j);e.getUndoButton().setDisabled(!1)},undoZoom:function(){var b=this.zoomHistory.pop(),e=this.getChart().getAxes();if(b){for(var d=0;d<e.length;d++){var c=e[d];if(b[c.getId()]){c.setVisibleRange(b[c.getId()])}}}this.getUndoButton().setDisabled(this.zoomHistory.length===0);this.sync()},onDoubleTap:function(b){this.undoZoom()},destroy:function(){this.setUndoButton(null);this.callParent()}});a.define('Ext.chart.interactions.Crosshair',{extend:'Ext.chart.interactions.Abstract',requires:['Ext.chart.grid.HorizontalGrid','Ext.chart.grid.VerticalGrid','Ext.chart.CartesianChart','Ext.chart.axis.layout.Discrete'],type:'crosshair',alias:'interaction.crosshair',config:{axes:{top:{label:{},rect:{}},right:{label:{},rect:{}},bottom:{label:{},rect:{}},left:{label:{},rect:{}}},lines:{horizontal:{strokeStyle:'black',lineDash:[5,5]},vertical:{strokeStyle:'black',lineDash:[5,5]}},gesture:'drag'},applyAxes:function(c,b){return a.merge(b||{},c)},applyLines:function(c,b){return a.merge(b||{},c)},updateChart:function(b){if(b&&!b.isCartesian){a.raise('Crosshair interaction can only be used on cartesian charts.')}this.callParent(arguments)},getGestures:function(){var d=this,b={},c=d.getGesture();b[c]='onGesture';b[c+'start']='onGestureStart';b[c+'end']='onGestureEnd';b[c+'cancel']='onGestureCancel';return b},onGestureStart:function(J){var b=this,j=b.getChart(),D=j.getTheme().getAxis(),E,F=j.getSurface('overlay'),H=j.getInnerRect(),C=H[2],A=H[3],I=j.getEventXY(J),w=I[0],x=I[1],G=j.getAxes(),m=b.getAxes(),B=b.getLines(),g,q,v,u,s,c,h,i,z,y,r,t,f,K,e,p,n,d,k,l,o;J.claimGesture();if(w>0&&w<C&&x>0&&x<A){b.lockEvents(b.getGesture());k=a.apply({xclass:'Ext.chart.grid.HorizontalGrid',x:0,y:x,width:C},B.horizontal);l=a.apply({xclass:'Ext.chart.grid.VerticalGrid',x:w,y:0,height:A},B.vertical);b.axesLabels=b.axesLabels||{};for(o=0;o<G.length;o++){g=G[o];q=g.getSurface();v=q.getRect();t=g.getSprites()[0];u=v[2];s=v[3];c=g.getPosition();h=g.getAlignment();n=g.getTitle();d=n&&n.attr.text!==''&&n.getBBox();f=t.attr;K=t.thickness;e=f.axisLine?f.lineWidth:0;p=e/2;r=Math.max(f.majorTickSize,f.minorTickSize)+e;i=b.axesLabels[c]=q.add({type:'composite'});i.labelRect=i.addSprite(a.apply({type:'rect',fillStyle:'white',x:c==='right'?e:0,y:c==='bottom'?e:0,width:u-e-(h==='vertical'&&d?d.width:0),height:s-e-(h==='horizontal'&&d?d.height:0),translationX:c==='left'&&d?d.width:0,translationY:c==='top'&&d?d.height:0},m.rect||m[c].rect));if(h==='vertical'&&!l.strokeStyle){l.strokeStyle=f.strokeStyle}if(h==='horizontal'&&!k.strokeStyle){k.strokeStyle=f.strokeStyle}E=a.merge({},D.defaults,D[c]);z=a.apply({},g.config.label,E.label);y=m.label||m[c].label;i.labelText=i.addSprite(a.apply(z,y,{type:'text',x:b.calculateLabelTextPoint(!1,c,r,d,u,p),y:b.calculateLabelTextPoint(!0,c,r,d,s,p)}))}b.horizontalLine=F.add(k);b.verticalLine=F.add(l);return !1}},onGesture:function(H){var j=this;if(j.getLocks()[j.getGesture()]!==j){return}var n=j.getChart(),G=n.getSurface('overlay'),E=a.Array.slice(n.getInnerRect()),C=n.getInnerPadding(),p=C.left,q=C.top,B=E[2],A=E[3],F=n.getEventXY(H),e=F[0],f=F[1],D=n.getAxes(),h,z,y,t,g,m,s,i,b,k,l,w,x,u,v,c,d,o,r;if(e<0){e=0}else {if(e>B){e=B}}if(f<0){f=0}else {if(f>A){f=A}}e+=p;f+=q;for(r=0;r<D.length;r++){h=D[r];z=h.getPosition();y=h.getAlignment();t=h.getSurface();g=h.getSprites()[0];m=g.attr.matrix;l=g.attr.textPadding*2;b=j.axesLabels[z];s=g.getLayoutContext();i=h.getSegmenter();if(b){if(y==='vertical'){x=m.getYY();v=m.getDY();d=(f-v-q)/x;if(h.getLayout() instanceof a.chart.axis.layout.Discrete){f=Math.round(d)*x+v+q;d=i.from(Math.round(d));d=g.attr.data[d]}else {d=i.from(d)}o=i.renderer(d,s);b.setAttributes({translationY:f-q});b.labelText.setAttributes({text:o});k=b.labelText.getBBox();b.labelRect.setAttributes({height:k.height+l,y:-(k.height+l)/2});t.renderFrame()}else {w=m.getXX();u=m.getDX();c=(e-u-p)/w;if(h.getLayout() instanceof a.chart.axis.layout.Discrete){e=Math.round(c)*w+u+p;c=i.from(Math.round(c));c=g.attr.data[c]}else {c=i.from(c)}o=i.renderer(c,s);b.setAttributes({translationX:e-p});b.labelText.setAttributes({text:o});k=b.labelText.getBBox();b.labelRect.setAttributes({width:k.width+l,x:-(k.width+l)/2});t.renderFrame()}}}j.horizontalLine.setAttributes({y:f,strokeStyle:g.attr.strokeStyle});j.verticalLine.setAttributes({x:e,strokeStyle:g.attr.strokeStyle});G.renderFrame();return !1},onGestureEnd:function(k){var b=this,i=b.getChart(),g=i.getSurface('overlay'),j=i.getAxes(),h,d,e,f,c;g.remove(b.verticalLine);g.remove(b.horizontalLine);for(c=0;c<j.length;c++){h=j[c];d=h.getPosition();e=h.getSurface();f=b.axesLabels[d];if(f){delete b.axesLabels[d];e.remove(f)}e.renderFrame()}g.renderFrame();b.unlockEvents(b.getGesture())},onGestureCancel:function(b){this.onGestureEnd(b)},privates:{vertMap:{top:'start',bottom:'end'},horzMap:{left:'start',right:'end'},calculateLabelTextPoint:function(j,d,f,c,g,i){var b,h,e;if(j){e='y';h='height';d=this.vertMap[d]}else {e='x';h='width';d=this.horzMap[d]}switch(d){case 'start':b=c?c[e]+c[h]:0;return b+(g-b-f)/2-i;case 'end':b=c?g-c[e]:0;return f+(g-f-b)/2+i;default:return 0;}}}});a.define('Ext.chart.interactions.ItemHighlight',{extend:'Ext.chart.interactions.Abstract',type:'itemhighlight',alias:'interaction.itemhighlight',isItemHighlight:!0,config:{gestures:{tap:'onTapGesture',mousemove:'onMouseMoveGesture',mousedown:'onMouseDownGesture',mouseup:'onMouseUpGesture',mouseleave:'onMouseUpGesture'},sticky:!1},stickyHighlightItem:null,onMouseMoveGesture:function(g){var b=this,c=b.oldItem,f=g.pointerType==='mouse',d,e;if(b.getSticky()){return !0}if(f&&b.stickyHighlightItem){b.stickyHighlightItem=null;b.highlight(null)}if(b.isDragging){if(c&&f){c.series.hideTooltip(c);b.oldItem=null}}else {if(!b.stickyHighlightItem){d=b.getItemForEvent(g);if(d!==b.getChart().getHighlightItem()){b.highlight(d);b.sync()}if(f){if(d){e=d.series.getTooltip();if(e){if(c&&c!==d&&c.series.getTooltip()!==e){c.series.hideTooltip(c,!0)}if(e.getTrackMouse()){d.series.showTooltip(d,g)}else {b.showUntracked(d)}b.oldItem=d}}else {if(c){c.series.hideTooltip(c)}}}return !1}}},highlight:function(b){this.getChart().setHighlightItem(b)},showTooltip:function(c,b){b.series.showTooltip(b,c);this.oldItem=b},showUntracked:function(d){var f=d.sprite.getMarker(d.category),c,e,h,b,g;if(f){c=f.getSurface();h=c.matrix.elements[3]<0;e=c.element.getXY();b=a.clone(f.getBBoxFor(d.index));if(h){if(c.getInherited().rtl){g=c.inverseMatrix.clone().flipX().translate(d.sprite.attr.innerWidth,0,!0)}else {g=c.inverseMatrix}b=g.transformBBox(b)}b.x+=e[0];b.y+=e[1];d.series.showTooltipAt(d,b.x+b.width*0.5,b.y+b.height*0.5)}},onMouseDownGesture:function(){this.isDragging=!0},onMouseUpGesture:function(){this.isDragging=!1},isSameItem:function(b,c){return b&&c&&b.series===c.series&&b.field===c.field&&b.index===c.index},onTapGesture:function(d){var b=this;if(d.pointerType==='mouse'&&!b.getSticky()){return}var c=b.getItemForEvent(d);if(b.isSameItem(b.stickyHighlightItem,c)){c=null}b.stickyHighlightItem=c;b.highlight(c)}});a.define('Ext.chart.interactions.ItemEdit',{extend:'Ext.chart.interactions.ItemHighlight',requires:['Ext.tip.ToolTip'],type:'itemedit',alias:'interaction.itemedit',isItemEdit:!0,config:{style:null,renderer:null,tooltip:!0,gestures:{dragstart:'onDragStart',drag:'onDrag',dragend:'onDragEnd'},cursors:{ewResize:'ew-resize',nsResize:'ns-resize',move:'move'}},item:null,applyTooltip:function(b){if(b){var c=a.apply({},b,{renderer:this.defaultTooltipRenderer,constrainPosition:!0,shrinkWrapDock:!0,autoHide:!0,trackMouse:!0,mouseOffset:[20,20]});b=new a.tip.ToolTip(c)}return b},defaultTooltipRenderer:function(d,e,b,f){var c=[];if(b.xField){c.push(b.xField+': '+b.xValue)}if(b.yField){c.push(b.yField+': '+b.yValue)}d.setHtml(c.join('<br>'))},onDragStart:function(e){var c=this,b=c.getChart(),d=b.getHighlightItem();e.claimGesture();if(d){b.fireEvent('beginitemedit',b,c,c.item=d);return !1}},onDrag:function(d){var c=this,e=c.getChart(),b=e.getHighlightItem(),f=b&&b.sprite.type;if(b){switch(f){case 'barSeries':return c.onDragBar(d);case 'scatterSeries':return c.onDragScatter(d);}}},highlight:function(b){var f=this,d=f.getChart(),g=d.getFlipXY(),c=f.getCursors(),h=b&&b.sprite.type,e=d.el.dom.style;f.callParent([b]);if(b){switch(h){case 'barSeries':if(g){e.cursor=c.ewResize}else {e.cursor=c.nsResize};break;case 'scatterSeries':e.cursor=c.move;break;}}else {d.el.dom.style.cursor='default'}},onDragBar:function(n){var e=this,f=e.getChart(),r=f.getInherited().rtl,p=f.isCartesian&&f.getFlipXY(),b=f.getHighlightItem(),q=b.sprite.getMarker('items'),d=q.getMarkerFor(b.sprite.getId(),b.index),i=b.sprite.getSurface(),k=i.getRect(),j=i.getEventXY(n),l=b.sprite.attr.matrix,o=e.getRenderer(),g,h,m,c;if(p){c=r?k[2]-j[0]:j[0]}else {c=k[3]-j[1]}g={x:d.x,y:c,width:d.width,height:d.height+(d.y-c),radius:d.radius,fillStyle:'none',lineDash:[4,4],zIndex:100};a.apply(g,e.getStyle());if(a.isArray(b.series.getYField())){c=c-d.y-d.height}e.target={index:b.index,yField:b.field,yValue:(c-l.getDY())/l.getYY()};m=[f,{target:e.target,style:g,item:b}];h=a.callback(o,null,m,0,f);if(h){a.apply(g,h)}b.sprite.putMarker('items',g,'itemedit');e.showTooltip(n,e.target,b);i.renderFrame()},onDragScatter:function(t){var d=this,f=d.getChart(),w=f.getInherited().rtl,q=f.isCartesian&&f.getFlipXY(),b=f.getHighlightItem(),v=b.sprite.getMarker('markers'),e=v.getMarkerFor(b.sprite.getId(),b.index),p=b.sprite.getSurface(),m=p.getRect(),c=p.getEventXY(t),i=b.sprite.attr.matrix,s=b.series.getXAxis(),l=s&&s.getLayout().isContinuous,u=d.getRenderer(),g,o,r,h,n,j,k;if(q){n=w?m[2]-c[0]:c[0]}else {n=m[3]-c[1]}if(l){if(q){h=m[3]-c[1]}else {h=c[0]}}else {h=e.translationX}if(l){j=c[0];k=c[1]}else {if(q){j=c[0];k=e.translationY}else {j=e.translationX;k=c[1]}}g={translationX:j,translationY:k,scalingX:e.scalingX,scalingY:e.scalingY,r:e.r,fillStyle:'none',lineDash:[4,4],zIndex:100};a.apply(g,d.getStyle());d.target={index:b.index,yField:b.field,yValue:(n-i.getDY())/i.getYY()};if(l){a.apply(d.target,{xField:b.series.getXField(),xValue:(h-i.getDX())/i.getXX()})}r=[f,{target:d.target,style:g,item:b}];o=a.callback(u,null,r,0,f);if(o){a.apply(g,o)}b.sprite.putMarker('markers',g,'itemedit');d.showTooltip(t,d.target,b);p.renderFrame()},showTooltip:function(e,f,g){var b=this.getTooltip(),c,d;if(b&&a.toolkit!=='modern'){c=b.config;d=this.getChart();a.callback(c.renderer,null,[b,g,f,e],0,d);b.pointerEvent=e;if(b.isVisible()){b.realignToTarget()}else {b.show()}}},hideTooltip:function(){var b=this.getTooltip();if(b&&a.toolkit!=='modern'){b.hide()}},onDragEnd:function(g){var c=this,b=c.target,e=c.getChart(),f=e.getStore(),d;if(b){d=f.getAt(b.index);if(b.yField){d.set(b.yField,b.yValue,{convert:!1})}if(b.xField){d.set(b.xField,b.xValue,{convert:!1})}if(b.yField||b.xField){c.getChart().onDataChanged()}c.target=null}c.hideTooltip();if(c.item){e.fireEvent('enditemedit',e,c,c.item,b)}c.highlight(c.item=null)},destroy:function(){var b=this.getConfig('tooltip',!0);a.destroy(b);this.callParent()}});a.define('Ext.chart.interactions.PanZoom',{extend:'Ext.chart.interactions.Abstract',type:'panzoom',alias:'interaction.panzoom',requires:['Ext.draw.Animator'],config:{axes:{top:{},right:{},bottom:{},left:{}},minZoom:null,maxZoom:null,showOverflowArrows:!0,panGesture:'drag',zoomGesture:'pinch',zoomOnPanGesture:null,zoomOnPan:!1,doubleTapReset:!1,modeToggleButton:{xtype:'segmentedbutton',width:200,defaults:{ui:'default-toolbar'},cls:a.baseCSSPrefix+'panzoom-toggle',items:[{text:'Pan',value:'pan'},{text:'Zoom',value:'zoom'}]},hideLabelInGesture:!1},stopAnimationBeforeSync:!0,applyAxes:function(c,b){return a.merge(b||{},c)},updateZoomOnPan:function(b){var c=this.getModeToggleButton();c.setValue(b?'zoom':'pan')},updateZoomOnPanGesture:function(b){this.setZoomOnPan(b)},getZoomOnPanGesture:function(){return this.getZoomOnPan()},applyModeToggleButton:function(c,b){return a.factory(c,'Ext.button.Segmented',b)},updateModeToggleButton:function(b){if(b){b.on('change','onModeToggleChange',this)}},onModeToggleChange:function(c,b){this.setZoomOnPan(b==='zoom')},getGestures:function(){var e=this,b={},d=e.getPanGesture(),c=e.getZoomGesture();b[c]='onZoomGestureMove';b[c+'start']='onZoomGestureStart';b[c+'end']='onZoomGestureEnd';b[d]='onPanGestureMove';b[d+'start']='onPanGestureStart';b[d+'end']='onPanGestureEnd';b.doubletap='onDoubleTap';return b},onDoubleTap:function(i){var g=this,h=g.getDoubleTapReset(),c,d,e,b,f;if(h){c=g.getChart();d=c.getAxes();for(b=0,f=d.length;b<f;b++){e=d[b];e.setVisibleRange([0,1])}c.redraw()}},onPanGestureStart:function(c){if(!c||!c.touches||c.touches.length<2){var b=this,d=b.getChart(),e=d.getInnerRect(),f=d.element.getXY();c.claimGesture();d.suspendAnimation();b.startX=c.getX()-f[0]-e[0];b.startY=c.getY()-f[1]-e[1];b.oldVisibleRanges=null;b.hideLabels();d.suspendThicknessChanged();b.lockEvents(b.getPanGesture());return !1}},onPanGestureMove:function(c){var b=this,h=c.pointerType==='mouse',g=h&&b.getZoomOnPan();if(b.getLocks()[b.getPanGesture()]===b){var f=b.getChart(),d=f.getInnerRect(),e=f.element.getXY();if(g){b.transformAxesBy(b.getZoomableAxes(c),0,0,(c.getX()-e[0]-d[0])/b.startX,b.startY/(c.getY()-e[1]-d[1]))}else {b.transformAxesBy(b.getPannableAxes(c),c.getX()-e[0]-d[0]-b.startX,c.getY()-e[1]-d[1]-b.startY,1,1)}b.sync();return !1}},onPanGestureEnd:function(e){var b=this,d=b.getPanGesture(),c;if(b.getLocks()[d]===b){c=b.getChart();c.resumeThicknessChanged();b.showLabels();b.sync();b.unlockEvents(d);c.resumeAnimation();return !1}},onZoomGestureStart:function(c){if(c.touches&&c.touches.length===2){var b=this,e=b.getChart(),g=e.element.getXY(),f=e.getInnerRect(),h=g[0]+f[0],i=g[1]+f[1],d=[c.touches[0].point.x-h,c.touches[0].point.y-i,c.touches[1].point.x-h,c.touches[1].point.y-i],j=Math.max(44,Math.abs(d[2]-d[0])),k=Math.max(44,Math.abs(d[3]-d[1]));c.claimGesture();e.suspendAnimation();e.suspendThicknessChanged();b.lastZoomDistances=[j,k];b.lastPoints=d;b.oldVisibleRanges=null;b.hideLabels();b.lockEvents(b.getZoomGesture());return !1}},onZoomGestureMove:function(d){var b=this;if(b.getLocks()[b.getZoomGesture()]===b){var l=b.getChart(),e=l.getInnerRect(),n=l.element.getXY(),o=n[0]+e[0],p=n[1]+e[1],m=Math.abs,i=b.lastPoints,c=[d.touches[0].point.x-o,d.touches[0].point.y-p,d.touches[1].point.x-o,d.touches[1].point.y-p],j=Math.max(44,m(c[2]-c[0])),k=Math.max(44,m(c[3]-c[1])),h=this.lastZoomDistances||[j,k],f=j/h[0],g=k/h[1];b.transformAxesBy(b.getZoomableAxes(d),e[2]*(f-1)/2+c[2]-i[2]*f,e[3]*(g-1)/2+c[3]-i[3]*g,f,g);b.sync();return !1}},onZoomGestureEnd:function(e){var b=this,d=b.getZoomGesture(),c;if(b.getLocks()[d]===b){c=b.getChart();c.resumeThicknessChanged();b.showLabels();b.sync();b.unlockEvents(d);c.resumeAnimation();return !1}},hideLabels:function(){if(this.getHideLabelInGesture()){this.eachInteractiveAxes(function(b){b.hideLabels()})}},showLabels:function(){if(this.getHideLabelInGesture()){this.eachInteractiveAxes(function(b){b.showLabels()})}},isEventOnAxis:function(c,d){var b=d.getSurface().getRect();return b[0]<=c.getX()&&c.getX()<=b[0]+b[2]&&b[1]<=c.getY()&&c.getY()<=b[1]+b[3]},getPannableAxes:function(e){var i=this,j=i.getAxes(),c=i.getChart().getAxes(),b,h=c.length,g=[],f=!1,d;if(e){for(b=0;b<h;b++){if(this.isEventOnAxis(e,c[b])){f=!0;break}}}for(b=0;b<h;b++){d=j[c[b].getPosition()];if(d&&d.allowPan!==!1&&(!f||this.isEventOnAxis(e,c[b]))){g.push(c[b])}}return g},getZoomableAxes:function(f){var j=this,k=j.getAxes(),e=j.getChart().getAxes(),h=[],b,i=e.length,c,g=!1,d;if(f){for(b=0;b<i;b++){if(this.isEventOnAxis(f,e[b])){g=!0;break}}}for(b=0;b<i;b++){c=e[b];d=k[c.getPosition()];if(d&&d.allowZoom!==!1&&(!g||this.isEventOnAxis(f,c))){h.push(c)}}return h},eachInteractiveAxes:function(f){var d=this,e=d.getAxes(),c=d.getChart().getAxes();for(var b=0;b<c.length;b++){if(e[c[b].getPosition()]){if(!1===f.call(this,c[b])){return}}}},transformAxesBy:function(d,h,i,k,l){var j=this.getChart().getInnerRect(),g=this.getAxes(),e,c=this.oldVisibleRanges,f=!1;if(!c){this.oldVisibleRanges=c={};this.eachInteractiveAxes(function(b){c[b.getId()]=b.getVisibleRange()})}if(!j){return}for(var b=0;b<d.length;b++){e=g[d[b].getPosition()];f=this.transformAxisBy(d[b],c[d[b].getId()],h,i,k,l,this.minZoom||e.minZoom,this.maxZoom||e.maxZoom)||f}return f},transformAxisBy:function(d,c,q,r,s,t,p,o){var h=this,b=c[1]-c[0],e=d.getVisibleRange(),n=p||h.getMinZoom()||d.config.minZoom,i=o||h.getMaxZoom()||d.config.maxZoom,g=h.getChart().getInnerRect(),l,k;if(!g){return}var f=d.isSide(),j=f?g[3]:g[2],m=f?-r:q;b/=f?t:s;if(b<0){b=-b}if(b*n>1){b=1}if(b*i<1){b=1/i}l=c[0];k=c[1];e=e[1]-e[0];if(b===e&&e===1){return}d.setVisibleRange([(c[0]+c[1]-b)*0.5-m/j*b,(c[0]+c[1]+b)*0.5-m/j*b]);return Math.abs(l-d.getVisibleRange()[0])>1.0E-10||Math.abs(k-d.getVisibleRange()[1])>1.0E-10},destroy:function(){this.setModeToggleButton(null);this.callParent()}});a.define('Ext.chart.interactions.Rotate',{extend:'Ext.chart.interactions.Abstract',type:'rotate',alternateClassName:'Ext.chart.interactions.RotatePie3D',alias:['interaction.rotate','interaction.rotatePie3d'],config:{gesture:'rotate',gestures:{dragstart:'onGestureStart',drag:'onGesture',dragend:'onGestureEnd'},rotation:0},oldRotations:null,getAngle:function(f){var e=this,c=e.getChart(),d=c.getEventXY(f),b=c.getCenter();return Math.atan2(d[1]-b[1],d[0]-b[0])},onGestureStart:function(c){var b=this;c.claimGesture();b.lockEvents('drag');b.angle=b.getAngle(c);b.oldRotations={};b.getChart().suspendAnimation();b.fireEvent('rotatestart',b,b.getRotation());return !1},onGesture:function(d){var b=this,c=b.getAngle(d)-b.angle;if(b.getLocks().drag===b){b.doRotateTo(c,!0);return !1}},doRotateTo:function(m,l){var c=this,n=c.getChart(),o=n.getAxes(),k=n.getSeries(),f=c.oldRotations,e,g,i,h,d,b,j;for(b=0,j=o.length;b<j;b++){i=o[b];d=i.getId();g=f[d]||(f[d]=i.getRotation());e=m+(l?g:0);i.setRotation(e)}for(b=0,j=k.length;b<j;b++){h=k[b];d=h.getId();g=f[d]||(f[d]=h.getRotation());e=a.draw.Draw.degrees(m+(l?g:0));h.setRotation(e)}c.setRotation(e);c.fireEvent('rotate',c,c.getRotation());c.sync()},rotateTo:function(f,e,b){var c=this,d=c.getChart();if(!b){d.suspendAnimation()}c.doRotateTo(f,e,b);c.oldRotations={};if(!b){d.resumeAnimation()}},onGestureEnd:function(c){var b=this;if(b.getLocks().drag===b){b.onGesture(c);b.unlockEvents('drag');b.getChart().resumeAnimation();b.fireEvent('rotateend',b,b.getRotation());b.fireEvent('rotationEnd',b,b.getRotation());return !1}}});a.define('Ext.chart.navigator.ContainerBase',{extend:'Ext.panel.Panel'});a.define('Ext.chart.navigator.NavigatorBase',{extend:'Ext.chart.CartesianChart',onRender:function(){this.callParent();this.setupEvents()},setDocked:function(b){var c=this,d=c.getNavigatorContainer();if(!(b==='top'||b==='bottom')){a.raise("Can only dock to 'top' or 'bottom'.")}if(b!==c.dock){if(d&&d.moveDocked){d.moveDocked(c,b)}else {c.dock=b}}return c},getDocked:function(){return this.dock}});a.define('Ext.chart.navigator.sprite.RangeMask',{extend:'Ext.draw.sprite.Sprite',alias:'sprite.rangemask',inheritableStatics:{def:{processors:{min:'limited01',max:'limited01',thumbOpacity:'limited01'},defaults:{min:0,max:1,lineWidth:2,miterLimit:1,strokeStyle:'#787878',thumbOpacity:1}}},getBBox:function(d){var e=this,c=e.attr,b=c.bbox;b.plain={x:0,y:0,width:1,height:1};if(d){return b.plain}return b.transform||(b.transform=c.matrix.transformBBox(b.plain))},renderThumb:function(g,c,i,j){var e=this,b=e.shapeSprite,d=e.textureSprite,h=e.attr.thumbOpacity,f={opacity:h,translationX:i,translationY:j};if(!b){b=e.shapeSprite=new a.draw.sprite.Rect({x:-9.5,y:-9.5,width:19,height:19,radius:4,lineWidth:1,fillStyle:{type:'linear',degrees:90,stops:[{offset:0,color:'#EEE'},{offset:1,color:'#FFF'}]},strokeStyle:'#999'});d=e.textureSprite=new a.draw.sprite.Path({path:'M -4, -5, -4, 5 M 0, -5, 0, 5 M 4, -5, 4, 5',strokeStyle:{type:'linear',degrees:90,stops:[{offset:0,color:'#CCC'},{offset:1,color:'#BBB'}]},lineWidth:2})}c.save();b.setAttributes(f);b.applyTransformations();d.setAttributes(f);d.applyTransformations();b.useAttributes(c);b.render(g,c);d.useAttributes(c);d.render(g,c);c.restore()},render:function(l,b){var k=this,h=k.attr,f=h.matrix.elements,i=f[0],e=f[3],d=f[4],c=f[5],o=h.min,n=h.max,g=o*i+d,j=n*i+d,m=Math.round(0.5*e+c);b.beginPath();b.moveTo(d,c);b.lineTo(i+d,c);b.lineTo(i+d,e+c);b.lineTo(d,e+c);b.lineTo(d,c);b.moveTo(g,c);b.lineTo(g,e+c);b.lineTo(j,e+c);b.lineTo(j,c);b.lineTo(g,c);b.fillStroke(h,!0);k.renderThumb(l,b,Math.round(g),m);k.renderThumb(l,b,Math.round(j),m)}});a.define('Ext.chart.navigator.Navigator',{extend:'Ext.chart.navigator.NavigatorBase',isNavigator:!0,requires:['Ext.chart.navigator.sprite.RangeMask'],config:{docked:'bottom',span:'series',insetPadding:0,innerPadding:0,navigatorContainer:null,axis:null,tolerance:20,minimum:0.8,maximum:1,thumbGap:30,autoHideThumbs:!0,width:'100%',height:75},dragType:null,constructor:function(c){c=c||{};var b=this,d=[c.minimum||0.8,c.maximum||1],e;b.callParent([c]);e=b.overlaySurface;e.element.setStyle({zIndex:100});b.rangeMask=e.add({type:'rangemask',min:d[0],max:d[1],fillStyle:'rgba(0, 0, 0, .25)'});b.onDragEnd();b.rangeMask.setAnimation({duration:500,customDurations:{min:0,max:0,translationX:0,translationY:0,scalingX:0,scalingY:0,scalingCenterX:0,scalingCenterY:0,fillStyle:0,strokeStyle:0}});b.setVisibleRange(d)},createSurface:function(c){var b=this.callParent([c]);if(c==='overlay'){this.overlaySurface=b}return b},applyAxis:function(b){return this.getNavigatorContainer().getChart().getAxis(b)},updateAxis:function(b,f){var c=this,e='visiblerangechange',d='onAxisVisibleRangeChange';if(f){f.un(e,d,c)}if(b){b.on(e,d,c)}c.axis=b},getAxis:function(){return this.axis},onAxisVisibleRangeChange:function(c,b){this.setVisibleRange(b)},updateNavigatorContainer:function(k){var b=this,g=b.chart,c=b.chart=k&&k.getChart(),m=c&&c.getSeries(),d=b.chartLegendStore,j=[],n='update',l='onChartLegendStoreUpdate',f,e,i,h;if(g){g.un('layout','afterBoundChartLayout',b);g.un('themechange','onChartThemeChange',b);g.un('storechange','onChartStoreChange',b)}c.on('layout','afterBoundChartLayout',b);for(h=0;h<m.length;h++){f=m[h];i=b.getSeriesConfig(f);e=a.create('series.'+i.type,i);e.parentSeries=f;f.navigatorSeries=e;j.push(e)}if(d){d.un(n,l,b);b.chartLegendStore=null}if(c){b.setStore(c.getStore());b.chartLegendStore=d=c.getLegendStore();if(d){d.on(n,l,b)}c.on('themechange','onChartThemeChange',b);c.on('storechange','onChartStoreChange',b);b.onChartThemeChange(c,c.getTheme())}b.setSeries(j)},onChartThemeChange:function(c,b){this.setTheme(b)},onChartStoreChange:function(c,b){this.setStore(b)},addCustomStyle:function(b,d,c){var f,e;d=d||{};c=c||{};b.style=b.style||{};b.subStyle=b.subStyle||{};f=d&&(d.fillStyle||d.fill);e=d&&(d.strokeStyle||d.stroke);if(f){b.style.fillStyle=f}if(e){b.style.strokeStyle=e}f=c&&(c.fillStyle||c.fill);e=c&&(c.strokeStyle||c.stroke);if(f){b.subStyle.fillStyle=f}if(e){b.subStyle.strokeStyle=e}return b},getSeriesConfig:function(b){var e=this,d=b.getStyle(),c;if(b.isLine){c=e.addCustomStyle({type:'line',fill:!0,xField:b.getXField(),yField:b.getYField(),smooth:b.getSmooth()},d)}else {if(b.isCandleStick){c=e.addCustomStyle({type:'line',fill:!0,xField:b.getXField(),yField:b.getCloseField()},d.raiseStyle)}else {if(b.isArea||b.isBar){c=e.addCustomStyle({type:'area',xField:b.getXField(),yField:b.getYField()},d,b.getSubStyle())}else {a.raise("Navigator only works with 'line', 'bar', 'candlestick' and 'area' series.")}}}c.style.fillOpacity=0.2;return c},onChartLegendStoreUpdate:function(f,b){var e=this,d=e.chart,c;if(d&&b){c=d.getSeries().map[b.get('series')];if(c&&c.navigatorSeries){c.navigatorSeries.setHiddenByIndex(b.get('index'),b.get('disabled'));e.redraw()}}},setupEvents:function(){var b=this,c=b.overlaySurface.element;c.on({scope:b,drag:'onDrag',dragstart:'onDragStart',dragend:'onDragEnd',dragcancel:'onDragEnd',mousemove:'onMouseMove'})},onMouseMove:function(f){var d=this,c=d.overlaySurface.element,b=c.dom.style,e=d.getDragType(f.pageX-c.getXY()[0]);switch(e){case 'min':case 'max':b.cursor='ew-resize';break;case 'pan':b.cursor='move';break;default:b.cursor='default';}},getDragType:function(c){var g=this,b=g.getTolerance(),i=g.overlaySurface.element.getSize().width,h=g.rangeMask,f=i*h.attr.min,e=i*h.attr.max,d;if(c>f+b&&c<e-b){d='pan'}else {if(c<=f+b&&c>f-b){d='min'}else {if(c>=e-b&&c<e+b){d='max'}}}return d},onDragStart:function(c){if(this.dragType||c&&c.touches&&c.touches.length>1){return}var b=this,e=c.touches[0].pageX-b.overlaySurface.element.getXY()[0],d=b.getDragType(e);b.rangeMask.attr.thumbOpacity=1;if(d){b.dragType=d;b.touchId=c.touches[0].identifier;b.dragX=e}},onDrag:function(l){if(l.touch.identifier!==this.touchId){return}var d=this,h=d.overlaySurface.element,k=h.getSize().width,m=l.touches[0].pageX-h.getXY()[0],e=d.getThumbGap()/k,i=d.rangeMask,c=i.attr.min,b=i.attr.max,j=b-c,g=d.dragType,n=d.dragX,f=(m-n)/k;if(g==='pan'){c+=f;b+=f;if(c<0){c=0;b=j}if(b>1){b=1;c=b-j}}else {if(g==='min'){c+=f;if(c<0){c=0}if(c>b-e){c=b-e}}else {if(g==='max'){b+=f;if(b>1){b=1}if(b<c+e){b=c+e}}else {return}}}d.dragX=m;d.setVisibleRange([c,b])},onDragEnd:function(){var b=this,c=b.getAutoHideThumbs();b.dragType=null;if(c){b.rangeMask.setAttributes({thumbOpacity:0})}},updateMinimum:function(b){if(!this.isConfiguring){this.setVisibleRange([b,this.getMaximum()])}},updateMaximum:function(b){if(!this.isConfiguring){this.setVisibleRange([this.getMinimum(),b])}},getMinimum:function(){return this.rangeMask.attr.min},getMaximum:function(){return this.rangeMask.attr.max},setVisibleRange:function(c){var b=this,d=b.chart;b.axis.setVisibleRange(c);b.rangeMask.setAttributes({min:c[0],max:c[1]});b.getSurface('overlay').renderFrame();d.suspendAnimation();d.redraw();d.resumeAnimation()},afterBoundChartLayout:function(){var b=this,d=b.getSpan()==='series',c=b.chart.getMainRect(),e=b.element.getSize();if(c&&d){b.setInsetPadding({left:c[0],right:e.width-c[2]-c[0],top:0,bottom:0});b.performLayout()}},afterChartLayout:function(){var c=this,b=c.overlaySurface.element.getSize();c.rangeMask.setAttributes({scalingCenterX:0,scalingCenterY:0,scalingX:b.width,scalingY:b.height})},doDestroy:function(){var b=this.chart;if(b&&!b.destroyed){b.un('layout','afterBoundChartLayout',this)}this.callParent()}});a.define('Ext.chart.navigator.Container',{extend:'Ext.chart.navigator.ContainerBase',requires:['Ext.chart.CartesianChart','Ext.chart.navigator.Navigator'],xtype:'chartnavigator',config:{chart:null,navigator:{}},layout:'fit',applyChart:function(b,c){if(c){c.destroy()}if(b){if(b.isCartesian){a.raise('Only cartesian charts are supported.')}if(!b.isChart){b.$initParent=this;b=new a.chart.CartesianChart(b);delete b.$initParent}}return b},legendStore:null,surfaceRects:null,updateChart:function(c,d){var b=this;if(c){b.legendStore=c.getLegendStore();if(!b.items&&b.initItems){b.initItems()}b.add(c)}},applyNavigator:function(b,c){var d;if(c){c.destroy()}if(b){b.navigatorContainer=b.parent=this;d=new a.chart.navigator.Navigator(b)}return d},preview:function(){this.getNavigator().preview(this.getImage())},download:function(b){b=b||{};b.data=this.getImage().data;this.getNavigator().download(b)},setVisibleRange:function(b){this.getNavigator().setVisibleRange(b)},getImage:function(l){var d=this,m=d.getChart(),h=d.getNavigator(),o=h.getDocked(),f=m.bodyElement.getSize(),i=h.bodyElement.getSize(),k=m.getSurfaces(!0),j=h.getSurfaces(!0),n={width:f.width,height:f.height+i.height},b,g,c,e;if(o==='top'){d.shiftSurfaces(k,0,i.height)}else {d.shiftSurfaces(j,0,f.height)}c=k.concat(j);e=c[0];if((a.isIE||a.isEdge)&&e.isSVG){b={data:e.toSVG(n,c),type:'svg-markup'}}else {b=e.flatten(n,c);if(l==='image'){g=new Image();g.src=b.data;b.data=g;return b}if(l==='stream'){b.data=b.data.replace(/^data:image\/[^;]+/,'data:application/octet-stream');return b}}d.unshiftSurfaces(c);return b},shiftSurfaces:function(c,f,g){var e=c.length,b=0,d;this.surfaceRects={};for(;b<e;b++){d=c[b];this.shiftSurface(d,f,g)}},shiftSurface:function(c,d,e){var b=c.getRect();this.surfaceRects[c.getId()]=b.slice();b[0]+=d;b[1]+=e},unshiftSurfaces:function(f){var g=this.surfaceRects,h=f.length,e=0,c,d,b;if(g){for(;e<h;e++){c=f[e];d=c.getRect();b=g[c.getId()];if(b){d[0]=b[0];d[1]=b[1]}}}this.surfaceRects=null}});a.define('Ext.chart.plugin.ItemEvents',{extend:'Ext.plugin.Abstract',alias:'plugin.chartitemevents',moveEvents:!1,mouseMoveEvents:{mousemove:!0,mouseover:!0,mouseout:!0},itemMouseMoveEvents:{itemmousemove:!0,itemmouseover:!0,itemmouseout:!0},init:function(c){var b='handleEvent';this.chart=c;c.addElementListener({click:b,dblclick:b,mousedown:b,mousemove:b,mouseup:b,mouseover:b,mouseout:b,priority:1001,scope:this})},hasItemMouseMoveListeners:function(){var c=this.chart.hasListeners,b;for(b in this.itemMouseMoveEvents){if(b in c){return !0}}return !1},handleEvent:function(c){var f=this,d=f.chart,h=c.type in f.mouseMoveEvents,e=f.lastItem,g,b;if(h&&!f.hasItemMouseMoveListeners()&&!f.moveEvents){return}g=d.getEventXY(c);b=d.getItemForPoint(g[0],g[1]);if(h&&!a.Object.equals(b,e)){if(e){d.fireEvent('itemmouseout',d,e,c);e.series.fireEvent('itemmouseout',e.series,e,c)}if(b){d.fireEvent('itemmouseover',d,b,c);b.series.fireEvent('itemmouseover',b.series,b,c)}}if(b){d.fireEvent('item'+c.type,d,b,c);b.series.fireEvent('item'+c.type,b.series,b,c)}f.lastItem=b}});a.define('Ext.chart.series.Cartesian',{extend:'Ext.chart.series.Series',config:{xField:null,yField:null,xAxis:null,yAxis:null},directions:['X','Y'],fieldCategoryX:['X'],fieldCategoryY:['Y'],applyXAxis:function(b,c){return this.getChart().getAxis(b)||c},applyYAxis:function(b,c){return this.getChart().getAxis(b)||c},updateXAxis:function(b){b.processData(this)},updateYAxis:function(b){b.processData(this)},coordinateX:function(){return this.coordinate('X',0,2)},coordinateY:function(){return this.coordinate('Y',1,2)},getItemForPoint:function(f,g){var b=this,d=b.getSprites()[0],e=b.getStore(),c;if(d&&!b.getHidden()){c=d.getNearestDataPoint(f,g)}return c?{series:b,sprite:d,category:b.getItemInstancing()?'items':'markers',index:c.index,record:e.getData().items[c.index],field:b.getYField(),distance:c.distance}:null},createSprite:function(){var d=this,b=d.callParent(),e=d.getChart(),c=d.getXAxis();b.setAttributes({flipXY:e.getFlipXY(),xAxis:c});if(b.setAggregator&&c&&c.getAggregator){if(c.getAggregator){b.setAggregator({strategy:c.getAggregator()})}else {b.setAggregator({})}}return b},getSprites:function(){var c=this,d=this.getChart(),b=c.sprites;if(!d){return a.emptyArray}if(!b.length){c.createSprite()}return b},getXRange:function(){return [this.dataRange[0],this.dataRange[2]]},getYRange:function(){return [this.dataRange[1],this.dataRange[3]]}});a.define('Ext.chart.series.StackedCartesian',{extend:'Ext.chart.series.Cartesian',config:{stacked:!0,splitStacks:!0,fullStack:!1,fullStackTotal:100,hidden:[]},reversedSpriteZOrder:!0,spriteAnimationCount:0,themeColorCount:function(){var c=this,b=c.getYField();return a.isArray(b)?b.length:1},updateStacked:function(){this.processData()},updateSplitStacks:function(){this.processData()},coordinateY:function(){return this.coordinateStacked('Y',1,2)},coordinateStacked:function(s,x,D){var e=this,E=e.getStore(),C=E.getData().items,v=C.length,F=e['get'+s+'Axis'](),B=e.getHidden(),q=e.getSplitStacks(),u=e.getFullStack(),y=e.getFullStackTotal(),g=[0,0],z=e['fieldCategory'+s],i=[],p=[],o=[],m,A=e.getStacked(),n=e.getSprites(),t=[],j,c,b,w,r,l,k,h,d,f;if(!n.length){return}for(j=0;j<z.length;j++){h=z[j];w=e.getFields([h]);r=w.length;for(c=0;c<v;c++){i[c]=0;p[c]=0;o[c]=0}for(c=0;c<r;c++){if(!B[c]){t[c]=e.coordinateData(C,w[c],F)}}if(A&&u){l=[];if(q){k=[]}for(c=0;c<v;c++){l[c]=0;if(q){k[c]=0}for(b=0;b<r;b++){d=t[b];if(!d){continue}d=d[c];if(d>=0||!q){l[c]+=d}else {if(d<0){k[c]+=d}}}}}for(c=0;c<r;c++){f={};if(B[c]){f['dataStart'+h]=i;f['data'+h]=i;n[c].setAttributes(f);continue}d=t[c];if(A){m=[];for(b=0;b<v;b++){if(!d[b]){d[b]=0}if(d[b]>=0||!q){if(u&&l[b]){d[b]*=y/l[b]}i[b]=p[b];p[b]+=d[b];m[b]=p[b]}else {if(u&&k[b]){d[b]*=y/k[b]}i[b]=o[b];o[b]+=d[b];m[b]=o[b]}}f['dataStart'+h]=i;f['data'+h]=m;a.chart.Util.expandRange(g,i);a.chart.Util.expandRange(g,m)}else {f['dataStart'+h]=i;f['data'+h]=d;a.chart.Util.expandRange(g,d)}n[c].setAttributes(f)}}g=a.chart.Util.validateRange(g,e.defaultRange);e.dataRange[x]=g[0];e.dataRange[x+D]=g[1];f={};f['dataMin'+s]=g[0];f['dataMax'+s]=g[1];for(j=0;j<n.length;j++){n[j].setAttributes(f)}},getFields:function(e){var g=this,c=[],f=e.length,d,b;for(d=0;d<f;d++){b=g['get'+e[d]+'Field']();if(a.isArray(b)){c.push.apply(c,b)}else {c.push(b)}}return c},updateLabelOverflowPadding:function(d){var c=this,b;if(!c.isConfiguring){b=c.getLabel();if(b){b.setAttributes({labelOverflowPadding:d})}}},updateLabelData:function(){var b=this,c=b.getLabel();if(c){c.setAttributes({labelOverflowPadding:b.getLabelOverflowPadding()})}b.callParent()},getSprites:function(){var b=this,k=b.getChart(),g=b.getFields(b.fieldCategoryY),i=b.getItemInstancing(),f=b.sprites,h=b.getHidden(),e=!1,j=g.length,c,d;if(!k){return []}for(c=0;c<j;c++){d=f[c];if(!d){d=b.createSprite();d.setAttributes({zIndex:(b.reversedSpriteZOrder?-1:1)*c});d.setField(g[c]);e=!0;h.push(!1);if(i){d.getMarker('items').getTemplate().setAttributes(b.getStyleByIndex(c))}else {d.setAttributes(b.getStyleByIndex(c))}}}if(e){b.updateHidden(h)}return f},getItemForPoint:function(o,p){var b=this,i=b.getSprites(),n=b.getStore(),m=b.getHidden(),g=Infinity,k=null,e=-1,h=-1,d,f,j,c,l;for(c=0,l=i.length;c<l;c++){if(m[c]){continue}j=i[c];d=j.getNearestDataPoint(o,p);if(d){if(d.distance<g){g=d.distance;h=d.index;e=c}}}if(e>-1){f=b.getYField();k={series:b,sprite:i[e],category:b.getItemInstancing()?'items':'markers',index:h,record:n.getData().items[h],field:typeof f==='string'?f:f[e],distance:g}}return k},provideLegendInfo:function(l){var c=this,h=c.getSprites(),e=c.getTitle(),i=c.getYField(),j=c.getHidden(),k=h.length===1,g,f,b,d;for(b=0;b<h.length;b++){g=c.getStyleByIndex(b);f=g.fillStyle;if(e){if(a.isArray(e)){d=e[b]}else {if(k){d=e}}}if(!e||!d){if(a.isArray(i)){d=i[b]}else {d=c.getId()}}l.push({name:d,mark:(a.isObject(f)?f.stops&&f.stops[0].color:f)||g.strokeStyle||'black',disabled:j[b],series:c.getId(),index:b})}},onSpriteAnimationStart:function(b){this.spriteAnimationCount++;if(this.spriteAnimationCount===1){this.fireEvent('animationstart')}},onSpriteAnimationEnd:function(b){this.spriteAnimationCount--;if(this.spriteAnimationCount===0){this.fireEvent('animationend')}}});a.define('Ext.chart.series.sprite.Series',{extend:'Ext.draw.sprite.Sprite',mixins:{markerHolder:'Ext.chart.MarkerHolder'},inheritableStatics:{def:{processors:{dataMinX:'number',dataMaxX:'number',dataMinY:'number',dataMaxY:'number',rangeX:'data',rangeY:'data',dataX:'data',dataY:'data',labels:'default',labelOverflowPadding:'number'},defaults:{dataMinX:0,dataMaxX:1,dataMinY:0,dataMaxY:1,rangeX:null,rangeY:null,dataX:null,dataY:null,labels:null,labelOverflowPadding:10},triggers:{dataX:'bbox',dataY:'bbox',dataMinX:'bbox',dataMaxX:'bbox',dataMinY:'bbox',dataMaxY:'bbox'}}},config:{store:null,series:null,field:null}});a.define('Ext.chart.series.sprite.Cartesian',{extend:'Ext.chart.series.sprite.Series',inheritableStatics:{def:{processors:{selectionTolerance:'number',flipXY:'bool',renderer:'default',visibleMinX:'number',visibleMinY:'number',visibleMaxX:'number',visibleMaxY:'number',innerWidth:'number',innerHeight:'number'},defaults:{selectionTolerance:20,flipXY:!1,renderer:null,transformFillStroke:!1,visibleMinX:0,visibleMinY:0,visibleMaxX:1,visibleMaxY:1,innerWidth:1,innerHeight:1},triggers:{dataX:'dataX,bbox',dataY:'dataY,bbox',visibleMinX:'panzoom',visibleMinY:'panzoom',visibleMaxX:'panzoom',visibleMaxY:'panzoom',innerWidth:'panzoom',innerHeight:'panzoom'},updaters:{dataX:function(b){this.processDataX();this.scheduleUpdater(b,'dataY',['dataY'])},dataY:function(){this.processDataY()},panzoom:function(b){var g=b.visibleMaxX-b.visibleMinX,h=b.visibleMaxY-b.visibleMinY,c=b.flipXY?b.innerHeight:b.innerWidth,e=!b.flipXY?b.innerHeight:b.innerWidth,d=this.getSurface(),f=d?d.getInherited().rtl:!1;b.scalingCenterX=0;b.scalingCenterY=0;b.scalingX=c/g;b.scalingY=e/h;b.translationX=-(b.visibleMinX*b.scalingX);b.translationY=-(b.visibleMinY*b.scalingY);if(f&&!b.flipXY){b.scalingX*=-1;b.translationX*=-1;b.translationX+=c}this.applyTransformations(!0)}}}},processDataY:a.emptyFn,processDataX:a.emptyFn,updatePlainBBox:function(c){var b=this.attr;c.x=b.dataMinX;c.y=b.dataMinY;c.width=b.dataMaxX-b.dataMinX;c.height=b.dataMaxY-b.dataMinY},binarySearch:function(d){var f=this.attr.dataX,b=0,c=f.length;if(d<=f[0]){return b}if(d>=f[c-1]){return c-1}while(b+1<c){var e=b+c>>1,g=f[e];if(g===d){return e}else {if(g<d){b=e}else {c=e}}}return b},render:function(g,i,c){var h=this,d=h.attr,f=1,b=d.inverseMatrix.clone();b.appendMatrix(g.inverseMatrix);if(d.dataX===null||d.dataX===undefined){return}if(d.dataY===null||d.dataY===undefined){return}if(b.getXX()*b.getYX()||b.getXY()*b.getYY()){a.Logger.warn('Cartesian Series sprite does not support rotation/sheering');return}var e=b.transformList([[c[0]-f,c[3]+f],[c[0]+c[2]+f,-f]]);e=e[0].concat(e[1]);h.renderClipped(g,i,e,c)},renderClipped:a.emptyFn,getIndexNearPoint:function(c,d){var b=this.getNearestDataPoint(c,d);return b?b.index:-1},getNearestDataPoint:function(r,s){var e=this,i=e.attr,u=e.getSeries(),p=e.getSurface(),w=e.boundMarkers.items,t=i.matrix,j=i.dataX,v=i.dataY,o=i.selectionTolerance,f=Infinity,h=-1,q=null,g,m,n,c,b,d,k,l;if(w){d=j.length;if(u.reversedSpriteZOrder){b=d-1;k=-1;l=-1}else {b=0;k=d;l=1}for(;b!==k;b+=l){var x=e.getMarkerBBox('items',b);c=p.inverseMatrix.transformPoint([r,s]);if(a.draw.Draw.isPointInBBox(c[0],c[1],x)){h=b;f=0;break}}}else {for(b=0,d=j.length;b<d;b++){c=t.transformPoint([j[b],v[b]]);c=p.matrix.transformPoint(c);m=r-c[0];n=s-c[1];g=Math.sqrt(m*m+n*n);if(o&&g>o){continue}if(g<f){f=g;h=b}}}if(h>-1){q={index:h,distance:f}}return q}});a.define('Ext.chart.series.sprite.StackedCartesian',{extend:'Ext.chart.series.sprite.Cartesian',inheritableStatics:{def:{processors:{groupCount:'number',groupOffset:'number',dataStartY:'data'},defaults:{selectionTolerance:20,groupCount:1,groupOffset:0,dataStartY:null},triggers:{dataStartY:'dataY,bbox'}}}});a.define('Ext.chart.series.sprite.Area',{alias:'sprite.areaSeries',extend:'Ext.chart.series.sprite.StackedCartesian',inheritableStatics:{def:{processors:{step:'bool'},defaults:{selectionTolerance:0,step:!1}}},renderClipped:function(F,c,v){var n=this,C=n.getStore(),B=n.getSeries(),f=n.attr,g=f.dataX,q=f.dataY,y=f.dataStartY,w=f.matrix,d,e,b,z,s,r,x,k=w.elements[0],i=w.elements[4],o=w.elements[3],j=w.elements[5],u=n.surfaceMatrix,h={},E=Math.min(v[0],v[2]),D=Math.max(v[0],v[2]),m=Math.max(0,this.binarySearch(E)),l=Math.min(g.length-1,this.binarySearch(D)+1),p=f.renderer,A={store:C},t;c.beginPath();r=g[m]*k+i;x=q[m]*o+j;c.moveTo(r,x);if(f.step){s=x;for(b=m;b<=l;b++){d=g[b]*k+i;e=q[b]*o+j;c.lineTo(d,s);c.lineTo(d,s=e)}}else {for(b=m;b<=l;b++){d=g[b]*k+i;e=q[b]*o+j;c.lineTo(d,e)}}if(y){if(f.step){z=g[l]*k+i;for(b=l;b>=m;b--){d=g[b]*k+i;e=y[b]*o+j;c.lineTo(z,e);c.lineTo(z=d,e)}}else {for(b=l;b>=m;b--){d=g[b]*k+i;e=y[b]*o+j;c.lineTo(d,e)}}}else {c.lineTo(g[l]*k+i,e);c.lineTo(g[l]*k+i,j);c.lineTo(r,j);c.lineTo(r,q[b]*o+j)}if(f.transformFillStroke){f.matrix.toContext(c)}c.fill();if(f.transformFillStroke){f.inverseMatrix.toContext(c)}c.beginPath();c.moveTo(r,x);if(f.step){for(b=m;b<=l;b++){d=g[b]*k+i;e=q[b]*o+j;c.lineTo(d,s);c.lineTo(d,s=e);h.translationX=u.x(d,e);h.translationY=u.y(d,e);if(p){t=a.callback(p,null,[n,h,A,b],0,B);a.apply(h,t)}n.putMarker('markers',h,b,!p)}}else {for(b=m;b<=l;b++){d=g[b]*k+i;e=q[b]*o+j;c.lineTo(d,e);h.translationX=u.x(d,e);h.translationY=u.y(d,e);if(p){t=a.callback(p,null,[n,h,A,b],0,B);a.apply(h,t)}n.putMarker('markers',h,b,!p)}}if(f.transformFillStroke){f.matrix.toContext(c)}c.stroke()}});a.define('Ext.chart.series.Area',{extend:'Ext.chart.series.StackedCartesian',alias:'series.area',type:'area',seriesType:'areaSeries',isArea:!0,requires:['Ext.chart.series.sprite.Area'],config:{splitStacks:!1}});a.define('Ext.chart.series.sprite.Bar',{alias:'sprite.barSeries',extend:'Ext.chart.series.sprite.StackedCartesian',inheritableStatics:{def:{processors:{minBarWidth:'number',maxBarWidth:'number',minGapWidth:'number',radius:'number',inGroupGapWidth:'number'},defaults:{minBarWidth:2,maxBarWidth:100,minGapWidth:5,inGroupGapWidth:3,radius:0}}},drawLabel:function(x,h,j,f,m){var d=this,q=d.attr,s=d.getMarker('labels'),p=s.getTemplate(),b=d.labelCfg||(d.labelCfg={}),g=d.surfaceMatrix,t=q.labelOverflowPadding,o=p.attr.display,r=p.attr.orientation,u=r==='horizontal'&&q.flipXY||r==='vertical'&&!q.flipXY||!r,i=p.getCalloutLine(),e,c,k,n,l,v,w;b.x=g.x(h,f);b.y=g.y(h,f);if(i){n=i.length}else {n=0}if(!q.flipXY){b.rotationRads=-Math.PI*0.5}else {b.rotationRads=0}b.calloutVertical=!q.flipXY;switch(r){case 'horizontal':b.rotationRads=0;b.calloutVertical=!1;break;case 'vertical':b.rotationRads=-Math.PI*0.5;b.calloutVertical=!0;break;}b.text=x;if(p.attr.renderer){if(!s.get(m)){s.putMarkerFor('labels',{},m)}w=[x,s,b,{store:d.getStore()},m];l=a.callback(p.attr.renderer,null,w,0,d.getSeries());if(typeof l==='string'){b.text=l}else {if(typeof l==='object'){if('text' in l){b.text=l.text}v=!0}}}k=d.getMarkerBBox('labels',m,!0);if(!k){d.putMarker('labels',b,m);k=d.getMarkerBBox('labels',m,!0)}if(n>0){c=n}else {if(n===0){c=(u?k.width:k.height)/2}else {c=(u?k.width:k.height)/2+t}}if(j>f){c=-c}if(u){e=o==='insideStart'?j+c:f-c}else {e=o==='insideStart'?j+t*2:f-t*2}b.x=g.x(h,e);b.y=g.y(h,e);e=o==='insideStart'?j:f;b.calloutStartX=g.x(h,e);b.calloutStartY=g.y(h,e);e=o==='insideStart'?j-c:f+c;b.calloutPlaceX=g.x(h,e);b.calloutPlaceY=g.y(h,e);b.calloutColor=i&&i.color||d.attr.fillStyle;if(i){if(i.width){b.calloutWidth=i.width}}else {b.calloutColor='none'}if(j>f){c=-c}if(Math.abs(f-j)<=c*2||o==='outside'){b.callout=1}else {b.callout=0}if(v){a.apply(b,l)}d.putMarker('labels',b,m)},drawBar:function(m,k,l,g,h,j,i,f){var c=this,b={},d=c.attr.renderer,e;b.x=g;b.y=h;b.width=j-g;b.height=i-h;b.radius=c.attr.radius;if(d){e=a.callback(d,null,[c,b,{store:c.getStore()},f],0,c.getSeries());a.apply(b,e)}c.putMarker('items',b,f,!d)},renderClipped:function(d,w,g){if(this.cleanRedraw){return}var f=this,b=f.attr,s=b.dataX,F=b.dataY,m=b.labels,q=b.dataStartY,k=b.groupCount,C=b.groupOffset-(k-1)*0.5,o=b.inGroupGapWidth,r=w.lineWidth,j=b.matrix,z=j.elements[0],A=j.elements[3],K=j.elements[4],y=d.roundPixel(j.elements[5])-1,D=Math.abs(z)-b.minGapWidth,E=(Math.min(D,b.maxBarWidth)-o*(k-1))/k,l=d.roundPixel(Math.max(b.minBarWidth,E)),p=f.surfaceMatrix,u,t,n,h,c,e,i=0.5*b.lineWidth,J=Math.min(g[0],g[2]),I=Math.max(g[0],g[2]),G=Math.max(0,Math.floor(J)),H=Math.min(s.length-1,Math.ceil(I)),B=m&&f.getMarker('labels'),v,x;for(c=G;c<=H;c++){v=q?q[c]:0;x=F[c];e=s[c]*z+K+C*(l+o);u=d.roundPixel(e-l/2)+i;h=d.roundPixel(x*A+y+r);t=d.roundPixel(e+l/2)-i;n=d.roundPixel(v*A+y+r);f.drawBar(w,d,g,u,h-i,t,n-i,c);if(B&&m[c]!=null){f.drawLabel(m[c],e,n,h,c)}f.putMarker('markers',{translationX:p.x(e,h),translationY:p.y(e,h)},c,!0)}}});a.define('Ext.chart.series.Bar',{extend:'Ext.chart.series.StackedCartesian',alias:'series.bar',type:'bar',seriesType:'barSeries',isBar:!0,requires:['Ext.chart.series.sprite.Bar','Ext.draw.sprite.Rect'],config:{itemInstancing:{type:'rect',animation:{customDurations:{x:0,y:0,width:0,height:0,radius:0}}}},getItemForPoint:function(e,f){if(this.getSprites().length){var c=this.getChart(),b=c.getInnerPadding(),d=c.getInherited().rtl;arguments[0]=e+(d?b.right:-b.left);arguments[1]=f+b.bottom;return this.callParent(arguments)}},updateXAxis:function(b){if(!this.is3D&&!b.isCategory){a.raise("'bar' series should be used with a 'category' axis. Please refer to the bar series docs.")}b.setExpandRangeBy(0.5);this.callParent(arguments)},updateHidden:function(b){this.callParent(arguments);this.updateStacked()},updateStacked:function(i){var g=this,c={},f=g.getSprites(),h=f.length,e=[],d,b;for(b=0;b<h;b++){if(!f[b].attr.hidden){e.push(f[b])}}d=e.length;if(g.getStacked()){c.groupCount=1;c.groupOffset=0;for(b=0;b<d;b++){e[b].setAttributes(c)}}else {c.groupCount=d;for(b=0;b<d;b++){c.groupOffset=b;e[b].setAttributes(c)}}g.callParent(arguments)}});a.define('Ext.chart.series.sprite.Bar3D',{extend:'Ext.chart.series.sprite.Bar',alias:'sprite.bar3dSeries',requires:['Ext.draw.gradient.Linear'],inheritableStatics:{def:{processors:{depthWidthRatio:'number',saturationFactor:'number',brightnessFactor:'number',colorSpread:'number'},defaults:{depthWidthRatio:1/3,saturationFactor:1,brightnessFactor:1,colorSpread:1,transformFillStroke:!0},triggers:{groupCount:'panzoom'},updaters:{panzoom:function(b){var d=this,e=b.visibleMaxX-b.visibleMinX,i=b.visibleMaxY-b.visibleMinY,c=b.flipXY?b.innerHeight:b.innerWidth,f=!b.flipXY?b.innerHeight:b.innerWidth,g=d.getSurface(),h=g?g.getInherited().rtl:!1;if(h&&!b.flipXY){b.translationX=c+b.visibleMinX*c/e}else {b.translationX=-b.visibleMinX*c/e}b.translationY=-b.visibleMinY*(f-d.depth)/i;b.scalingX=(h&&!b.flipXY?-1:1)*c/e;b.scalingY=(f-d.depth)/i;b.scalingCenterX=0;b.scalingCenterY=0;d.applyTransformations(!0)}}}},config:{showStroke:!1},depth:0,drawBar:function(q,o,p,l,m,k,n,j){var c=this,d=c.attr,b={},f=d.renderer,h,e,g,i;b.x=(l+k)*0.5;b.y=m;b.width=(k-l)*0.75;b.height=n-m;b.depth=e=b.width*d.depthWidthRatio;b.orientation=d.flipXY?'horizontal':'vertical';b.saturationFactor=d.saturationFactor;b.brightnessFactor=d.brightnessFactor;b.colorSpread=d.colorSpread;if(e!==c.depth){c.depth=e;g=c.getSeries();g.fireEvent('depthchange',g,e)}if(f){i=[c,b,{store:c.getStore()},j];h=a.callback(f,null,i,0,c.getSeries());a.apply(b,h)}c.putMarker('items',b,j,!f)}});a.define('Ext.chart.sprite.Bar3D',{extend:'Ext.draw.sprite.Sprite',alias:'sprite.bar3d',type:'bar3d',inheritableStatics:{def:{processors:{x:'number',y:'number',width:'number',height:'number',depth:'number',orientation:'enums(vertical,horizontal)',showStroke:'bool',saturationFactor:'number',brightnessFactor:'number',colorSpread:'number'},triggers:{x:'bbox',y:'bbox',width:'bbox',height:'bbox',depth:'bbox',orientation:'bbox'},defaults:{x:0,y:0,width:8,height:8,depth:8,orientation:'vertical',showStroke:!1,saturationFactor:1,brightnessFactor:1,colorSpread:1,lineJoin:'bevel'}}},constructor:function(b){this.callParent([b]);this.topGradient=new a.draw.gradient.Linear({});this.rightGradient=new a.draw.gradient.Linear({});this.frontGradient=new a.draw.gradient.Linear({})},updatePlainBBox:function(b){var c=this.attr,h=c.x,g=c.y,f=c.width,e=c.height,d=c.depth;b.x=h-f*0.5;b.width=f+d;if(e>0){b.y=g;b.height=e+d}else {b.y=g+d;b.height=e-d}},render:function(r,b){var j=this,i=j.attr,f=i.x,h=i.y,g=h+i.height,u=h<g,c=i.width*0.5,e=i.depth,m=i.orientation==='horizontal',t=i.globalAlpha<1,s=i.fillStyle,w=a.util.Color.create(s.isGradient?s.getStops()[0].color:s),o=i.saturationFactor,n=i.brightnessFactor,l=i.colorSpread,k=w.getHSV(),d={},p,q,v;if(!i.showStroke){b.strokeStyle=a.util.Color.RGBA_NONE}if(u){v=h;h=g;g=v}j.topGradient.setDegrees(m?0:80);j.topGradient.setStops([{offset:0,color:a.util.Color.fromHSV(k[0],a.Number.constrain(k[1]*o,0,1),a.Number.constrain((0.5+l*0.1)*n,0,1))},{offset:1,color:a.util.Color.fromHSV(k[0],a.Number.constrain(k[1]*o,0,1),a.Number.constrain((0.5-l*0.11)*n,0,1))}]);j.rightGradient.setDegrees(m?45:90);j.rightGradient.setStops([{offset:0,color:a.util.Color.fromHSV(k[0],a.Number.constrain(k[1]*o,0,1),a.Number.constrain((0.5-l*0.14)*n,0,1))},{offset:1,color:a.util.Color.fromHSV(k[0],a.Number.constrain(k[1]*(1+l*0.4)*o,0,1),a.Number.constrain((0.5-l*0.32)*n,0,1))}]);if(m){j.frontGradient.setDegrees(0)}else {j.frontGradient.setRadians(Math.atan2(h-g,c*2))}j.frontGradient.setStops([{offset:0,color:a.util.Color.fromHSV(k[0],a.Number.constrain(k[1]*(1-l*0.1)*o,0,1),a.Number.constrain((0.5+l*0.1)*n,0,1))},{offset:1,color:a.util.Color.fromHSV(k[0],a.Number.constrain(k[1]*(1+l*0.1)*o,0,1),a.Number.constrain((0.5-l*0.23)*n,0,1))}]);if(t||u){b.beginPath();b.moveTo(f-c,g);b.lineTo(f-c+e,g+e);b.lineTo(f+c+e,g+e);b.lineTo(f+c,g);b.closePath();d.x=f-c;d.y=h;d.width=c+e;d.height=e;b.fillStyle=(m?j.rightGradient:j.topGradient).generateGradient(b,d);b.fillStroke(i)}if(t){b.beginPath();b.moveTo(f-c,h);b.lineTo(f-c+e,h+e);b.lineTo(f-c+e,g+e);b.lineTo(f-c,g);b.closePath();d.x=f+c;d.y=g;d.width=e;d.height=h+e-g;b.fillStyle=(m?j.topGradient:j.rightGradient).generateGradient(b,d);b.fillStroke(i)}q=r.roundPixel(h);b.beginPath();b.moveTo(f-c,q);b.lineTo(f-c+e,h+e);b.lineTo(f+c+e,h+e);b.lineTo(f+c,q);b.closePath();d.x=f-c;d.y=h;d.width=c+e;d.height=e;b.fillStyle=(m?j.rightGradient:j.topGradient).generateGradient(b,d);b.fillStroke(i);p=r.roundPixel(f+c);b.beginPath();b.moveTo(p,r.roundPixel(h));b.lineTo(f+c+e,h+e);b.lineTo(f+c+e,g+e);b.lineTo(p,g);b.closePath();d.x=f+c;d.y=g;d.width=e;d.height=h+e-g;b.fillStyle=(m?j.topGradient:j.rightGradient).generateGradient(b,d);b.fillStroke(i);p=r.roundPixel(f+c);q=r.roundPixel(h);b.beginPath();b.moveTo(f-c,g);b.lineTo(f-c,q);b.lineTo(p,q);b.lineTo(p,g);b.closePath();d.x=f-c;d.y=g;d.width=c*2;d.height=h-g;b.fillStyle=j.frontGradient.generateGradient(b,d);b.fillStroke(i)}});a.define('Ext.chart.series.Bar3D',{extend:'Ext.chart.series.Bar',requires:['Ext.chart.series.sprite.Bar3D','Ext.chart.sprite.Bar3D'],alias:'series.bar3d',type:'bar3d',seriesType:'bar3dSeries',is3D:!0,config:{itemInstancing:{type:'bar3d',animation:{customDurations:{x:0,y:0,width:0,height:0,depth:0}}},highlightCfg:{opacity:0.8}},reversedSpriteZOrder:!1,updateXAxis:function(b,c){if(b.type!=='category3d'){a.raise("'bar3d' series should be used with a 'category3d' axis."+" Please refer to the 'bar3d' series docs.")}this.callParent([b,c])},getDepth:function(){var b=this.getSprites()[0];return b?b.depth||0:0}});a.define('Ext.chart.series.sprite.BoxPlot',{alias:'sprite.boxplotSeries',extend:'Ext.chart.series.sprite.Cartesian',inheritableStatics:{def:{processors:{dataLow:'data',dataQ1:'data',dataQ3:'data',dataHigh:'data',minBoxWidth:'number',maxBoxWidth:'number',minGapWidth:'number'},aliases:{dataMedian:'dataY'},defaults:{minBoxWidth:2,maxBoxWidth:40,minGapWidth:5}}},renderClipped:function(J,K,h){if(this.cleanRedraw){return}var f=this,b=f.attr,D=f.getSeries(),i=b.renderer,u={store:f.getStore()},d={},n=b.dataX,A=b.dataLow,B=b.dataQ1,x=b.dataY,C=b.dataQ3,z=b.dataHigh,H=Math.min(h[0],h[2]),G=Math.max(h[0],h[2]),E=Math.max(0,Math.floor(H)),F=Math.min(n.length-1,Math.ceil(G)),j=b.matrix,s=j.elements[0],g=j.elements[3],I=j.elements[4],e=j.elements[5],v=Math.abs(s)-b.minGapWidth,w=Math.min(v,b.maxBoxWidth),y=Math.round(Math.max(b.minBoxWidth,w)),t,p,q,m,r,o,k,l,c;if(i){k=[f,d,u]}for(c=E;c<=F;c++){t=n[c]*s+I;p=A[c]*g+e;q=B[c]*g+e;m=x[c]*g+e;r=C[c]*g+e;o=z[c]*g+e;d.x=t;d.low=p;d.q1=q;d.median=m;d.q3=r;d.high=o;d.boxWidth=y;if(i){k[3]=c;l=a.callback(i,null,k,0,D);a.apply(d,l)}f.putMarker('items',d,c,!i)}}});a.define('Ext.chart.sprite.BoxPlot',{extend:'Ext.draw.sprite.Sprite',alias:'sprite.boxplot',type:'boxplot',inheritableStatics:{def:{processors:{x:'number',low:'number',q1:'number',median:'number',q3:'number',high:'number',boxWidth:'number',whiskerWidth:'number',crisp:'bool'},triggers:{x:'bbox',low:'bbox',high:'bbox',boxWidth:'bbox',whiskerWidth:'bbox',crisp:'bbox'},defaults:{x:0,low:-20,q1:-10,median:0,q3:10,high:20,boxWidth:12,whiskerWidth:0.5,crisp:!0,fillStyle:'#ccc',strokeStyle:'#000'}}},updatePlainBBox:function(c){var g=this,b=g.attr,d=b.lineWidth/2,h=b.x-b.boxWidth/2-d,i=b.high-d,f=b.boxWidth+b.lineWidth,e=b.low-b.high+b.lineWidth;c.x=h;c.y=i;c.width=f;c.height=e},render:function(c,b){var e=this,d=e.attr;d.matrix.toContext(b);if(d.crisp){e.crispRender(c,b)}else {e.softRender(c,b)}var f=d.debug||this.statics().debug||a.draw.sprite.Sprite.debug;if(f){this.attr.inverseMatrix.toContext(b);f.bbox&&this.renderBBox(c,b)}},softRender:function(n,b){var m=this,d=m.attr,c=d.x,h=d.low,i=d.q1,k=d.median,j=d.q3,g=d.high,e=d.boxWidth/2,f=d.boxWidth*d.whiskerWidth/2,l=b.getLineDash();b.setLineDash([]);b.beginPath();b.moveTo(c-e,j);b.lineTo(c+e,j);b.lineTo(c+e,i);b.lineTo(c-e,i);b.closePath();b.fillStroke(d,!0);b.setLineDash(l);b.beginPath();b.moveTo(c,j);b.lineTo(c,g);b.moveTo(c,i);b.lineTo(c,h);b.stroke();b.setLineDash([]);b.beginPath();b.moveTo(c-f,h);b.lineTo(c+f,h);b.moveTo(c-e,k);b.lineTo(c+e,k);b.moveTo(c-f,g);b.lineTo(c+f,g);b.stroke()},alignLine:function(b,c){c=c||this.attr.lineWidth;b=Math.round(b);if(c%2===1){b-=0.5}return b},crispRender:function(s,b){var d=this,c=d.attr,l=c.x,i=d.alignLine(c.low),j=d.alignLine(c.q1),q=d.alignLine(c.median),k=d.alignLine(c.q3),h=d.alignLine(c.high),n=c.boxWidth/2,m=c.boxWidth*c.whiskerWidth/2,e=d.alignLine(l),g=d.alignLine(l-n),f=d.alignLine(l+n),p=e+Math.round(-m),o=e+Math.round(m),r=b.getLineDash();b.setLineDash([]);b.beginPath();b.moveTo(g,k);b.lineTo(f,k);b.lineTo(f,j);b.lineTo(g,j);b.closePath();b.fillStroke(c,!0);b.setLineDash(r);b.beginPath();b.moveTo(e,k);b.lineTo(e,h);b.moveTo(e,j);b.lineTo(e,i);b.stroke();b.setLineDash([]);b.beginPath();b.moveTo(p,i);b.lineTo(o,i);b.moveTo(g,q);b.lineTo(f,q);b.moveTo(p,h);b.lineTo(o,h);b.stroke()}});a.define('Ext.chart.series.BoxPlot',{extend:'Ext.chart.series.Cartesian',alias:'series.boxplot',type:'boxplot',seriesType:'boxplotSeries',isBoxPlot:!0,requires:['Ext.chart.series.sprite.BoxPlot','Ext.chart.sprite.BoxPlot'],config:{itemInstancing:{type:'boxplot',animation:{customDurations:{x:0,low:0,q1:0,median:0,q3:0,high:0}}},lowField:'low',q1Field:'q1',medianField:'median',q3Field:'q3',highField:'high'},fieldCategoryY:['Low','Q1','Median','Q3','High'],updateXAxis:function(b){b.setExpandRangeBy(0.5);this.callParent(arguments)}});a.define('Ext.draw.LimitedCache',{config:{limit:40,feeder:function(){return 0},scope:null},cache:null,constructor:function(b){this.cache={};this.cache.list=[];this.cache.tail=0;this.initConfig(b)},get:function(c){var b=this.cache,e=this.getLimit(),d=this.getFeeder(),f=this.getScope()||this;if(b[c]){return b[c].value}if(b.list[b.tail]){delete b[b.list[b.tail].cacheId]}b[c]=b.list[b.tail]={value:d.apply(f,Array.prototype.slice.call(arguments,1)),cacheId:c};b.tail++;if(b.tail===e){b.tail=0}return b[c].value},clear:function(){this.cache={};this.cache.list=[];this.cache.tail=0}});a.define('Ext.draw.SegmentTree',{config:{strategy:'double'},time:function(e,b,s,E,D,F,C){var t=0,g,w,r=new Date(s[e.startIdx[0]]),A=new Date(s[e.endIdx[b-1]]),c=a.Date,x=[[c.MILLI,1,'ms1',null],[c.MILLI,2,'ms2','ms1'],[c.MILLI,5,'ms5','ms1'],[c.MILLI,10,'ms10','ms5'],[c.MILLI,50,'ms50','ms10'],[c.MILLI,100,'ms100','ms50'],[c.MILLI,500,'ms500','ms100'],[c.SECOND,1,'s1','ms500'],[c.SECOND,10,'s10','s1'],[c.SECOND,30,'s30','s10'],[c.MINUTE,1,'mi1','s10'],[c.MINUTE,5,'mi5','mi1'],[c.MINUTE,10,'mi10','mi5'],[c.MINUTE,30,'mi30','mi10'],[c.HOUR,1,'h1','mi30'],[c.HOUR,6,'h6','h1'],[c.HOUR,12,'h12','h6'],[c.DAY,1,'d1','h12'],[c.DAY,7,'d7','d1'],[c.MONTH,1,'mo1','d1'],[c.MONTH,3,'mo3','mo1'],[c.MONTH,6,'mo6','mo3'],[c.YEAR,1,'y1','mo3'],[c.YEAR,5,'y5','y1'],[c.YEAR,10,'y10','y5'],[c.YEAR,100,'y100','y10']],u,f,y=t,z=b,B=!1,q=e.startIdx,j=e.endIdx,m=e.minIdx,l=e.maxIdx,v=e.open,n=e.close,p=e.minX,i=e.minY,o=e.maxX,h=e.maxY,d,k;for(u=0;b>t+1&&u<x.length;u++){r=new Date(s[q[0]]);f=x[u];r=c.align(r,f[0],f[1]);if(c.diff(r,A,f[0])>s.length*2*f[1]){continue}if(f[3]&&e.map['time_'+f[3]]){g=e.map['time_'+f[3]][0];w=e.map['time_'+f[3]][1]}else {g=y;w=z}t=b;k=r;B=!0;q[b]=q[g];j[b]=j[g];m[b]=m[g];l[b]=l[g];v[b]=v[g];n[b]=n[g];p[b]=p[g];i[b]=i[g];o[b]=o[g];h[b]=h[g];k=a.Date.add(k,f[0],f[1]);for(d=g+1;d<w;d++){if(s[j[d]]<+k){j[b]=j[d];n[b]=n[d];if(h[d]>h[b]){h[b]=h[d];o[b]=o[d];l[b]=l[d]}if(i[d]<i[b]){i[b]=i[d];p[b]=p[d];m[b]=m[d]}}else {b++;q[b]=q[d];j[b]=j[d];m[b]=m[d];l[b]=l[d];v[b]=v[d];n[b]=n[d];p[b]=p[d];i[b]=i[d];o[b]=o[d];h[b]=h[d];k=a.Date.add(k,f[0],f[1])}}if(b>t){e.map['time_'+f[2]]=[t,b]}}},'double':function(b,d,v,t,s,u,r){var e=0,q,p=1,c,l,m,g,f,o,n,j,k,h,i;while(d>e+1){q=e;e=d;p+=p;for(c=q;c<e;c+=2){if(c===e-1){l=b.startIdx[c];m=b.endIdx[c];g=b.minIdx[c];f=b.maxIdx[c];o=b.open[c];n=b.close[c];j=b.minX[c];k=b.minY[c];h=b.maxX[c];i=b.maxY[c]}else {l=b.startIdx[c];m=b.endIdx[c+1];o=b.open[c];n=b.close[c];if(b.minY[c]<=b.minY[c+1]){g=b.minIdx[c];j=b.minX[c];k=b.minY[c]}else {g=b.minIdx[c+1];j=b.minX[c+1];k=b.minY[c+1]}if(b.maxY[c]>=b.maxY[c+1]){f=b.maxIdx[c];h=b.maxX[c];i=b.maxY[c]}else {f=b.maxIdx[c+1];h=b.maxX[c+1];i=b.maxY[c+1]}}b.startIdx[d]=l;b.endIdx[d]=m;b.minIdx[d]=g;b.maxIdx[d]=f;b.open[d]=o;b.close[d]=n;b.minX[d]=j;b.minY[d]=k;b.maxX[d]=h;b.maxY[d]=i;d++}b.map['double_'+p]=[e,d]}},none:a.emptyFn,aggregateData:function(d,h,g,j,f){var c=d.length,i=[],k=[],m=[],l=[],s=[],q=[],r=[],o=[],p=[],n=[],e={startIdx:i,endIdx:k,minIdx:m,maxIdx:l,open:s,minX:q,minY:r,maxX:o,maxY:p,close:n},b;for(b=0;b<c;b++){i[b]=b;k[b]=b;m[b]=b;l[b]=b;s[b]=h[b];q[b]=d[b];r[b]=j[b];o[b]=d[b];p[b]=g[b];n[b]=f[b]}e.map={original:[0,c]};if(c){this[this.getStrategy()](e,c,d,h,g,j,f)}return e},binarySearchMin:function(f,b,c,d){var g=this.dataX;if(d<=g[f.startIdx[0]]){return b}if(d>=g[f.startIdx[c-1]]){return c-1}while(b+1<c){var e=b+c>>1,h=g[f.startIdx[e]];if(h===d){return e}else {if(h<d){b=e}else {c=e}}}return b},binarySearchMax:function(f,c,b,d){var g=this.dataX;if(d<=g[f.endIdx[0]]){return c}if(d>=g[f.endIdx[b-1]]){return b-1}while(c+1<b){var e=c+b>>1,h=g[f.endIdx[e]];if(h===d){return e}else {if(h<d){c=e}else {b=e}}}return b},constructor:function(b){this.initConfig(b)},setData:function(d,f,b,c,e){if(!b){e=c=b=f}this.dataX=d;this.dataOpen=f;this.dataHigh=b;this.dataLow=c;this.dataClose=e;if(d.length===b.length&&d.length===c.length){this.cache=this.aggregateData(d,f,b,c,e)}},getAggregation:function(n,m,k){if(!this.cache){return null}var f=Infinity,l=this.dataX[this.dataX.length-1]-this.dataX[0],e=this.cache.map,b=e.original,i,c,j,d,h,g;for(i in e){c=e[i];j=c[1]-c[0]-1;d=l/j;if(k<=d&&d<f){b=c;f=d}}h=Math.max(this.binarySearchMin(this.cache,b[0],b[1],n),b[0]);g=Math.min(this.binarySearchMax(this.cache,b[0],b[1],m)+1,b[1]);return {data:this.cache,start:h,end:g}}});a.define('Ext.chart.series.sprite.Aggregative',{extend:'Ext.chart.series.sprite.Cartesian',requires:['Ext.draw.LimitedCache','Ext.draw.SegmentTree'],inheritableStatics:{def:{processors:{dataHigh:'data',dataLow:'data',dataClose:'data'},aliases:{dataOpen:'dataY'},defaults:{dataHigh:null,dataLow:null,dataClose:null}}},config:{aggregator:{}},applyAggregator:function(b,c){return a.factory(b,a.draw.SegmentTree,c)},constructor:function(){this.callParent(arguments)},processDataY:function(){var d=this,b=d.attr,e=b.dataHigh,h=b.dataLow,g=b.dataClose,f=b.dataY,c;d.callParent(arguments);if(b.dataX&&f&&f.length>0){c=d.getAggregator();if(e){c.setData(b.dataX,b.dataY,e,h,g)}else {c.setData(b.dataX,b.dataY)}}},getGapWidth:function(){return 1},renderClipped:function(i,j,c,e){var d=this,h=Math.min(c[0],c[2]),g=Math.max(c[0],c[2]),f=d.getAggregator(),b=f&&f.getAggregation(h,g,(g-h)/e[2]*d.getGapWidth());if(b){d.dataStart=b.data.startIdx[b.start];d.dataEnd=b.data.endIdx[b.end-1];d.renderAggregates(b.data,b.start,b.end,i,j,c,e)}}});a.define('Ext.chart.series.sprite.CandleStick',{alias:'sprite.candlestickSeries',extend:'Ext.chart.series.sprite.Aggregative',inheritableStatics:{def:{processors:{raiseStyle:function(b,c){return a.merge({},c||{},b)},dropStyle:function(b,c){return a.merge({},c||{},b)},barWidth:'number',padding:'number',ohlcType:'enums(candlestick,ohlc)'},defaults:{raiseStyle:{strokeStyle:'green',fillStyle:'green'},dropStyle:{strokeStyle:'red',fillStyle:'red'},barWidth:15,padding:3,lineJoin:'miter',miterLimit:5,ohlcType:'candlestick'},triggers:{raiseStyle:'raiseStyle',dropStyle:'dropStyle'},updaters:{raiseStyle:function(){var c=this,b=c.raiseTemplate;if(b){b.setAttributes(c.attr.raiseStyle)}},dropStyle:function(){var c=this,b=c.dropTemplate;if(b){b.setAttributes(c.attr.dropStyle)}}}}},candlestick:function(b,h,i,j,g,c,d){var f=Math.min(h,g),e=Math.max(h,g);b.moveTo(c,j);b.lineTo(c,f);b.moveTo(c+d,e);b.lineTo(c+d,f);b.lineTo(c-d,f);b.lineTo(c-d,e);b.closePath();b.moveTo(c,i);b.lineTo(c,e)},ohlc:function(b,f,g,h,e,c,d){b.moveTo(c,g);b.lineTo(c,h);b.moveTo(c,f);b.lineTo(c-d,f);b.moveTo(c,e);b.lineTo(c+d,e)},constructor:function(){var b=this,c=a.draw.sprite.Rect;b.callParent(arguments);b.raiseTemplate=new c({parent:b});b.dropTemplate=new c({parent:b})},getGapWidth:function(){var b=this.attr,c=b.barWidth,d=b.padding;return c+d},renderAggregates:function(q,C,E,H,b,D){var e=this,l=e.attr,y=l.ohlcType,I=e.getSeries(),v=l.matrix,G=v.getXX(),j=v.getYY(),F=v.getDX(),i=v.getDY(),t=Math.round(l.barWidth*0.5),z=l.dataX,w=q.open,u=q.close,A=q.maxY,B=q.minY,x=q.startIdx,f=l.lineWidth*H.devicePixelRatio/2,g=l.renderer,d=g&&{},s,r,n,m,o,k,p,c,h;e.rendererData=e.rendererData||{store:e.getStore()};f-=Math.floor(f);b.save();h=e.raiseTemplate;h.useAttributes(b,D);if(!g){b.beginPath()}for(c=C;c<E;c++){if(w[c]<=u[c]){n=Math.round(w[c]*j+i)+f;m=Math.round(A[c]*j+i)+f;o=Math.round(B[c]*j+i)+f;k=Math.round(u[c]*j+i)+f;p=Math.round(z[x[c]]*G+F)+f;if(g){b.save();b.beginPath();d.open=n;d.high=m;d.low=o;d.close=k;d.mid=p;d.halfWidth=t;s=[e,d,e.rendererData,c];r=a.callback(g,null,s,0,I);a.apply(b,r)}e[y](b,n,m,o,k,p,t);if(g){b.fillStroke(h.attr);b.restore()}}}if(!g){b.fillStroke(h.attr)}b.restore();b.save();h=e.dropTemplate;h.useAttributes(b,D);if(!g){b.beginPath()}for(c=C;c<E;c++){if(w[c]>u[c]){n=Math.round(w[c]*j+i)+f;m=Math.round(A[c]*j+i)+f;o=Math.round(B[c]*j+i)+f;k=Math.round(u[c]*j+i)+f;p=Math.round(z[x[c]]*G+F)+f;if(g){b.save();b.beginPath();d.open=n;d.high=m;d.low=o;d.close=k;d.mid=p;d.halfWidth=t;s=[e,d,e.rendererData,c];r=a.callback(g,null,s,0,e.getSeries());a.apply(b,r)}e[y](b,n,m,o,k,p,t);if(g){b.fillStroke(h.attr);b.restore()}}}if(!g){b.fillStroke(h.attr)}b.restore()}});a.define('Ext.chart.series.CandleStick',{extend:'Ext.chart.series.Cartesian',requires:['Ext.chart.series.sprite.CandleStick'],alias:'series.candlestick',type:'candlestick',seriesType:'candlestickSeries',isCandleStick:!0,config:{openField:null,highField:null,lowField:null,closeField:null},fieldCategoryY:['Open','High','Low','Close'],themeColorCount:function(){return 2}});a.define('Ext.chart.series.Polar',{extend:'Ext.chart.series.Series',config:{rotation:0,radius:null,center:[0,0],offsetX:0,offsetY:0,showInLegend:!0,xField:null,yField:null,angleField:null,radiusField:null,xAxis:null,yAxis:null},directions:['X','Y'],fieldCategoryX:['X'],fieldCategoryY:['Y'],deprecatedConfigs:{field:'angleField',lengthField:'radiusField'},constructor:function(b){var c=this,e=c.self.getConfigurator(),f=e.configs,d;if(b){for(d in c.deprecatedConfigs){if(d in b&&!(b in f)){a.raise("'"+d+"' config has been deprecated. Please use the '"+c.deprecatedConfigs[d]+"' config instead.")}}}c.callParent([b])},getXField:function(){return this.getAngleField()},updateXField:function(b){this.setAngleField(b)},getYField:function(){return this.getRadiusField()},updateYField:function(b){this.setRadiusField(b)},applyXAxis:function(b,c){return this.getChart().getAxis(b)||c},applyYAxis:function(b,c){return this.getChart().getAxis(b)||c},getXRange:function(){return [this.dataRange[0],this.dataRange[2]]},getYRange:function(){return [this.dataRange[1],this.dataRange[3]]},themeColorCount:function(){var d=this,b=d.getStore(),c=b&&b.getCount()||0;return c},isStoreDependantColorCount:!0,getDefaultSpriteConfig:function(){return {type:this.seriesType,renderer:this.getRenderer(),centerX:0,centerY:0,rotationCenterX:0,rotationCenterY:0}},applyRotation:function(b){return a.draw.sprite.AttributeParser.angle(a.draw.Draw.rad(b))},updateRotation:function(c){var b=this.getSprites();if(b&&b[0]){b[0].setAttributes({baseRotation:c})}}});a.define('Ext.chart.series.Gauge',{alias:'series.gauge',extend:'Ext.chart.series.Polar',type:'gauge',seriesType:'pieslice',requires:['Ext.draw.sprite.Sector'],config:{needle:!1,needleLength:90,needleWidth:4,donut:30,showInLegend:!1,value:null,colors:null,sectors:null,minimum:0,maximum:100,rotation:0,totalAngle:Math.PI/2,rect:[0,0,1,1],center:[0.5,0.75],radius:0.5,wholeDisk:!1},coordinateX:function(){return this.coordinate('X',0,2)},coordinateY:function(){return this.coordinate('Y',1,2)},updateNeedle:function(d){var b=this,c=b.getSprites(),e=b.valueToAngle(b.getValue());if(c&&c.length){c[0].setAttributes({startAngle:d?e:0,endAngle:e,strokeOpacity:d?1:0,lineWidth:d?b.getNeedleWidth():0});b.doUpdateStyles()}},themeColorCount:function(){var c=this,b=c.getStore(),d=b&&b.getCount()||0;return d+(c.getNeedle()?0:1)},updateColors:function(d,j){var h=this,e=h.getSectors(),i=e&&e.length,g=h.getSprites(),c=a.Array.clone(d),f=d&&d.length,b;if(!f||!d[0]){return}for(b=0;b<i;b++){c[b+1]=e[b].color||c[b+1]||d[b%f]}if(g.length){g[0].setAttributes({strokeStyle:c[0]})}this.setSubStyle({fillStyle:c,strokeStyle:c});this.doUpdateStyles()},updateRect:function(e){var g=this.getWholeDisk(),b=g?Math.PI:this.getTotalAngle()/2,h=this.getDonut()/100,f,c,d;if(b<=Math.PI/2){f=2*Math.sin(b);c=1-h*Math.cos(b)}else {f=2;c=1-Math.cos(b)}d=Math.min(e[2]/f,e[3]/c);this.setRadius(d);this.setCenter([e[2]/2,d+(e[3]-c*d)/2])},updateCenter:function(b){this.setStyle({centerX:b[0],centerY:b[1],rotationCenterX:b[0],rotationCenterY:b[1]});this.doUpdateStyles()},updateRotation:function(b){this.setStyle({rotationRads:b-(this.getTotalAngle()+Math.PI)/2});this.doUpdateStyles()},doUpdateShape:function(b,h){var c=this,e=c.getSectors(),g=e&&e.length||0,f=c.getNeedleLength()/100,d;d=[b*f,b];while(g--){d.push(b)}c.setSubStyle({endRho:d,startRho:b/100*h});c.doUpdateStyles()},updateRadius:function(b){var c=this.getDonut();this.doUpdateShape(b,c)},updateDonut:function(c){var b=this.getRadius();this.doUpdateShape(b,c)},valueToAngle:function(b){b=this.applyValue(b);return this.getTotalAngle()*(b-this.getMinimum())/(this.getMaximum()-this.getMinimum())},applyValue:function(b){return Math.min(this.getMaximum(),Math.max(b,this.getMinimum()))},updateValue:function(e){var b=this,f=b.getNeedle(),d=b.valueToAngle(e),c=b.getSprites();c[0].getRendererData().value=e;c[0].setAttributes({startAngle:f?d:0,endAngle:d});b.doUpdateStyles()},processData:function(){var b=this,k=b.getStore(),j=k&&k.first(),d,i,c,h,g,f,e;if(j){f=b.getXField();if(f){e=j.get(f)}}if(c=b.getXAxis()){h=c.getMinimum();g=c.getMaximum();d=c.getSprites()[0].getAnimation();i=d.getDuration();d.setDuration(0);if(a.isNumber(h)){b.setMinimum(h)}else {c.setMinimum(b.getMinimum())}if(a.isNumber(g)){b.setMaximum(g)}else {c.setMaximum(b.getMaximum())}d.setDuration(i)}if(!a.isNumber(e)){e=b.getMinimum()}b.setValue(e)},getDefaultSpriteConfig:function(){return {type:this.seriesType,renderer:this.getRenderer(),animation:{customDurations:{translationX:0,translationY:0,rotationCenterX:0,rotationCenterY:0,centerX:0,centerY:0,startRho:0,endRho:0,baseRotation:0}}}},normalizeSectors:function(c){var d=this,f=c&&c.length||0,b,e,g,h;if(f){for(b=0;b<f;b++){e=c[b];if(typeof e==='number'){c[b]={start:b>0?c[b-1].end:d.getMinimum(),end:Math.min(e,d.getMaximum())};if(b==f-1&&c[b].end<d.getMaximum()){c[b+1]={start:c[b].end,end:d.getMaximum()}}}else {if(typeof e.start==='number'){g=Math.max(e.start,d.getMinimum())}else {g=b>0?c[b-1].end:d.getMinimum()}if(typeof e.end==='number'){h=Math.min(e.end,d.getMaximum())}else {h=d.getMaximum()}c[b].start=g;c[b].end=h}}}else {c=[{start:d.getMinimum(),end:d.getMaximum()}]}return c},getSprites:function(){var b=this,m=b.getStore(),n=b.getValue(),l=b.getLabel(),d,o;if(!m&&!a.isNumber(n)){return a.emptyArray}var k=b.getChart(),p=b.getAnimation()||k&&k.getAnimation(),f=b.sprites,j=0,c,e,g,h,i=[];if(f&&f.length){f[0].setAnimation(p);return f}h={store:m,field:b.getXField(),angleField:b.getXField(),value:n,series:b};b.needleSprite=c=b.createSprite();c.setAttributes({zIndex:10},!0);c.setRendererData(h);c.setRendererIndex(j++);i.push(b.getNeedleWidth());if(l){l.getTemplate().setField(!0)}e=b.normalizeSectors(b.getSectors());for(d=0,o=e.length;d<o;d++){g={startAngle:b.valueToAngle(e[d].start),endAngle:b.valueToAngle(e[d].end),label:e[d].label,fillStyle:e[d].color,strokeOpacity:0,doCallout:!1,labelOverflowPadding:-1};a.apply(g,e[d].style);c=b.createSprite();c.setRendererData(h);c.setRendererIndex(j++);c.setAttributes(g,!0);i.push(g.lineWidth)}b.setSubStyle({lineWidth:i});b.doUpdateStyles();return f},doUpdateStyles:function(){var b=this;b.callParent();if(b.sprites.length){b.needleSprite.setAttributes({startRho:b.getNeedle()?0:b.getRadius()/100*b.getDonut()})}}});a.define('Ext.chart.series.sprite.Line',{alias:'sprite.lineSeries',extend:'Ext.chart.series.sprite.Aggregative',inheritableStatics:{def:{processors:{curve:'default',fillArea:'bool',nullStyle:'enums(gap,connect,origin)',preciseStroke:'bool',xAxis:'default',yCap:'default'},defaults:{curve:{type:'linear'},nullStyle:'connect',fillArea:!1,preciseStroke:!0,xAxis:null,yCap:Math.pow(2,20),yJump:50},triggers:{dataX:'dataX,bbox,curve',dataY:'dataY,bbox,curve',curve:'curve'},updaters:{curve:'curveUpdater'}}},list:null,curveUpdater:function(g){var b=this,c=g.dataX,d=g.dataY,f=g.curve,e=c&&d&&c.length>2&&d.length>2,h=f.type;if(e){if(h==='natural'){b.smoothX=a.draw.Draw.naturalSpline(c);b.smoothY=a.draw.Draw.naturalSpline(d)}else {if(h==='cardinal'){b.smoothX=a.draw.Draw.cardinalSpline(c,f.tension);b.smoothY=a.draw.Draw.cardinalSpline(d,f.tension)}else {e=!1}}}if(!e){delete b.smoothX;delete b.smoothY}},updatePlainBBox:function(c){var b=this.attr,d=Math.min(0,b.dataMinY),e=Math.max(0,b.dataMaxY);c.x=b.dataMinX;c.y=d;c.width=b.dataMaxX-b.dataMinX;c.height=e-d},drawStrip:function(d,b){d.moveTo(b[0],b[1]);for(var c=2,e=b.length;c<e;c+=2){d.lineTo(b[c],b[c+1])}},drawStraightStroke:function(L,b,J,M,j,o){var p=this,t=p.attr,D=t.nullStyle,C=D==='connect',H=D==='origin',E=t.renderer,I=t.curve,A=I.type==='step-after',n=!0,K=j.length,m={type:'line',smooth:!1,step:A};var r,F,v,w,y,x,i,l,s,z,g,u,q,f,k,c,d,G,B,e;var h=[];b.beginPath();for(e=3;e<K;e+=3){c=j[e-3];d=j[e-2];f=j[e];k=j[e+1];G=j[e+3];B=j[e+4];w=a.isNumber(c);y=a.isNumber(f);x=a.isNumber(G);i=w&&a.isNumber(d);l=y&&a.isNumber(k);s=x&&a.isNumber(B);if(H){if(!i&&w){d=o;i=!0}if(!l&&y){k=o;l=!0}if(!s&&x){B=o;s=!0}}if(E){m.x=f;m.y=k;m.x0=c;m.y0=d;F=[p,m,p.rendererData,J+e/3];r=a.callback(E,null,F,0,p.getSeries())}if(z&&C&&i&&g){u=g[0];q=g[1];if(n){b.beginPath();b.moveTo(u,q);h.push(u,q);v=u;n=!1}if(A){b.lineTo(c,q);h.push(c,q)}b.lineTo(c,d);h.push(c,d);g=[c,d];z=!1}if(C&&g&&l&&!i){c=g[0];d=g[1];i=!0}if(l){g=[f,k]}if(i&&l){if(n){b.beginPath();b.moveTo(c,d);h.push(c,d);v=c;n=!1}}else {z=!0;continue}if(A){b.lineTo(f,d);h.push(f,d)}b.lineTo(f,k);h.push(f,k);if(r||!s){b.save();a.apply(b,r);r=null;if(t.fillArea){b.lineTo(f,o);b.lineTo(v,o);b.closePath();b.fill()}b.beginPath();p.drawStrip(b,h);h=[];b.stroke();b.restore();b.beginPath();n=!0}}},calculateScale:function(c,e){var b=0,d=c;while(d<e&&c>0){b++;d+=c>>b}return Math.pow(2,b>0?b-1:b)},drawSmoothStroke:function(A,b,n,F,k,C){var e=this,j=e.attr,E=j.step,m=j.matrix,s=j.renderer,x=m.getXX(),y=m.getYY(),v=m.getDX(),w=m.getDY(),t=e.smoothX,u=e.smoothY,D=e.calculateScale(j.dataX.length,F),o,q,p,r,i,l,f,g,d,h,z,B,c={type:'line',smooth:!0,step:E};b.beginPath();b.moveTo(t[n*3]*x+v,u[n*3]*y+w);for(d=0,h=n*3+1;d<k.length-3;d+=3,h+=3*D){o=t[h]*x+v;q=u[h]*y+w;p=t[h+1]*x+v;r=u[h+1]*y+w;i=A.roundPixel(k[d+3]);l=k[d+4];f=A.roundPixel(k[d]);g=k[d+1];if(s){c.x0=f;c.y0=g;c.cx1=o;c.cy1=q;c.cx2=p;c.cy2=r;c.x=i;c.y=l;B=[e,c,e.rendererData,n+d/3+1];z=a.callback(s,null,B,0,e.getSeries());b.save();a.apply(b,z)}if(j.fillArea){b.moveTo(f,g);b.bezierCurveTo(o,q,p,r,i,l);b.lineTo(i,C);b.lineTo(f,C);b.lineTo(f,g);b.closePath();b.fill();b.beginPath()}b.moveTo(f,g);b.bezierCurveTo(o,q,p,r,i,l);b.stroke();b.moveTo(f,g);b.closePath();if(s){b.restore()}b.beginPath();b.moveTo(i,l)}b.beginPath()},drawLabel:function(s,n,g,e,t){var c=this,r=c.attr,q=c.getMarker('labels'),m=q.getTemplate(),b=c.labelCfg||(c.labelCfg={}),i=c.surfaceMatrix,k,f,h=r.labelOverflowPadding,l,j,d,p,o;b.x=i.x(n,g);b.y=i.y(n,g);if(r.flipXY){b.rotationRads=Math.PI*0.5}else {b.rotationRads=0}b.text=s;if(m.attr.renderer){p=[s,q,b,c.rendererData,e];d=a.callback(m.attr.renderer,null,p,0,c.getSeries());if(typeof d==='string'){b.text=d}else {if(typeof d==='object'){if('text' in d){b.text=d.text}o=!0}}}j=c.getMarkerBBox('labels',e,!0);if(!j){c.putMarker('labels',b,e);j=c.getMarkerBBox('labels',e,!0)}l=j.height/2;k=n;switch(m.attr.display){case 'under':f=g-l-h;break;case 'rotate':k+=h;f=g-h;b.rotationRads=-Math.PI/4;break;default:f=g+l+h;}b.x=i.x(k,f);b.y=i.y(k,f);if(o){a.apply(b,d)}c.putMarker('labels',b,e)},drawMarker:function(f,g,j){var c=this,k=c.attr,d=k.renderer,h=c.surfaceMatrix,b={},e,i;if(d&&c.getMarker('markers')){b.type='marker';b.x=f;b.y=g;i=[c,b,c.rendererData,j];e=a.callback(d,null,i,0,c.getSeries());if(e){a.apply(b,e)}}b.translationX=h.x(f,g);b.translationY=h.y(f,g);delete b.x;delete b.y;c.putMarker('markers',b,j,!d)},drawStroke:function(c,g,d,h,f,e){var b=this,i=b.smoothX&&b.smoothY;if(i){b.drawSmoothStroke(c,g,d,h,f,e)}else {b.drawStraightStroke(c,g,d,h,f,e)}},renderAggregates:function(o,H,J,D,f,W,i){var e=this,b=e.attr,F=b.dataX,G=b.dataY,E=b.labels,w=b.xAxis,y=b.yCap,M=b.smooth&&e.smoothX&&e.smoothY,P=E&&e.getMarker('labels'),O=e.getMarker('markers'),v=b.matrix,N=D.devicePixelRatio,l=v.getXX(),m=v.getYY(),j=v.getDX(),k=v.getDY(),d=e.list||(e.list=[]),U=o.minX,S=o.maxX,V=o.minY,T=o.maxY,r=o.startIdx,s=!0,A,t,B,u,h,C,z,g,c,p;e.rendererData={store:e.getStore()};d.length=0;for(c=H;c<J;c++){var q=U[c],n=S[c],I=V[c],x=T[c];A=a.isNumber(q);B=a.isNumber(I);t=a.isNumber(n);u=a.isNumber(x);if(q<n){d.push(A?q*l+j:null,B?I*m+k:null,r[c]);d.push(t?n*l+j:null,u?x*m+k:null,r[c])}else {if(q>n){d.push(t?n*l+j:null,u?x*m+k:null,r[c]);d.push(A?q*l+j:null,B?I*m+k:null,r[c])}else {d.push(t?n*l+j:null,u?x*m+k:null,r[c])}}}if(d.length){for(c=0;c<d.length;c+=3){z=d[c];g=d[c+1];if(a.isNumber(z)&&a.isNumber(g)){if(g>y){g=y}else {if(g<-y){g=-y}}d[c+1]=g}else {s=!1;continue}p=d[c+2];if(O){e.drawMarker(z,g,p)}if(P&&E[p]){e.drawLabel(E[p],z,g,p,i)}}e.isContinuousLine=s;if(M&&!s){a.raise('Line smoothing in only supported for gapless data, '+'where all data points are finite numbers.')}if(w){C=w.getAlignment()==='vertical';if(a.isNumber(w.floatingAtCoord)){h=(C?i[2]:i[3])-w.floatingAtCoord}else {h=C?i[0]:i[1]}}else {h=b.flipXY?i[0]:i[1]}if(b.preciseStroke){if(b.fillArea){f.fill()}if(b.transformFillStroke){b.inverseMatrix.toContext(f)}e.drawStroke(D,f,H,J,d,h);if(b.transformFillStroke){b.matrix.toContext(f)}f.stroke()}else {e.drawStroke(D,f,H,J,d,h);if(s&&M&&b.fillArea&&!b.renderer){var L=F[F.length-1]*l+j+N,R=G[G.length-1]*m+k,K=F[0]*l+j-N,Q=G[0]*m+k;f.lineTo(L,R);f.lineTo(L,h-b.lineWidth);f.lineTo(K,h-b.lineWidth);f.lineTo(K,Q)}if(b.transformFillStroke){b.matrix.toContext(f)}if(b.fillArea){f.fillStroke(b,!0)}else {f.stroke(!0)}}}}});a.define('Ext.chart.series.Line',{extend:'Ext.chart.series.Cartesian',alias:'series.line',type:'line',seriesType:'lineSeries',isLine:!0,requires:['Ext.chart.series.sprite.Line'],config:{selectionTolerance:20,curve:{type:'linear'},smooth:null,step:null,nullStyle:'gap',fill:undefined,aggregator:{strategy:'double'}},themeMarkerCount:function(){return 1},getDefaultSpriteConfig:function(){var c=this,f=c.callParent(arguments),b=a.apply({},c.getStyle()),e,d=!1;if(c.config.fill!==undefined){if(c.config.fill){d=!0;if(b.fillStyle===undefined){if(b.strokeStyle===undefined){e=c.getStyleWithTheme();b.fillStyle=e.fillStyle;b.strokeStyle=e.strokeStyle}else {b.fillStyle=b.strokeStyle}}}}else {if(b.fillStyle){d=!0}}if(!d){delete b.fillStyle}b=a.apply(f||{},b);return a.apply(b,{fillArea:d,selectionTolerance:c.config.selectionTolerance})},updateFill:function(b){this.withSprite(function(c){return c.setAttributes({fillArea:b})})},updateCurve:function(b){this.withSprite(function(c){return c.setAttributes({curve:b})})},getCurve:function(){return this.withSprite(function(b){return b.attr.curve})},updateNullStyle:function(b){this.withSprite(function(c){return c.setAttributes({nullStyle:b})})},updateSmooth:function(b){this.setCurve({type:b?'natural':'linear'})},updateStep:function(b){this.setCurve({type:b?'step-after':'linear'})}});a.define('Ext.chart.series.sprite.PieSlice',{extend:'Ext.draw.sprite.Sector',mixins:{markerHolder:'Ext.chart.MarkerHolder'},alias:'sprite.pieslice',inheritableStatics:{def:{processors:{doCallout:'bool',label:'string',rotateLabels:'bool',labelOverflowPadding:'number',renderer:'default'},defaults:{doCallout:!0,rotateLabels:!0,label:'',labelOverflowPadding:10,renderer:null}}},config:{rendererData:null,rendererIndex:0,series:null},setGradientBBox:function(l,q){var h=this,b=h.attr,n=b.fillStyle&&b.fillStyle.isGradient||b.strokeStyle&&b.strokeStyle.isGradient;if(n&&!b.constrainGradients){var k=h.getMidAngle(),d=b.margin,f=b.centerX,g=b.centerY,m=b.endRho,c=b.matrix,o=c.getScaleX(),p=c.getScaleY(),j=o*m,i=p*m,e={width:j+j,height:i+i};if(d){f+=d*Math.cos(k);g+=d*Math.sin(k)}e.x=c.x(f,g)-j;e.y=c.y(f,g)-i;l.setGradientBBox(e)}else {h.callParent([l,q])}},render:function(h,g,f){var c=this,b=c.attr,e={},d;if(b.renderer){e={type:'sector',centerX:b.centerX,centerY:b.centerY,margin:b.margin,startAngle:Math.min(b.startAngle,b.endAngle),endAngle:Math.max(b.startAngle,b.endAngle),startRho:Math.min(b.startRho,b.endRho),endRho:Math.max(b.startRho,b.endRho)};d=a.callback(b.renderer,null,[c,e,c.getRendererData(),c.getRendererIndex()],0,c.getSeries());c.setAttributes(d);c.useAttributes(g,f)}c.callParent([h,g,f]);if(b.label&&c.getMarker('labels')){c.placeLabel()}},placeLabel:function(){var d=this,b=d.attr,j=b.attributeId,t=Math.min(b.startAngle,b.endAngle),u=Math.max(b.startAngle,b.endAngle),n=(t+u)*0.5,v=b.margin,r=b.centerX,s=b.centerY,q=Math.sin(n),p=Math.cos(n),A=Math.min(b.startRho,b.endRho)+v,k=Math.max(b.startRho,b.endRho)+v,w=(A+k)*0.5,e=d.surfaceMatrix,c=d.labelCfg||(d.labelCfg={}),y=d.getMarker('labels'),h=y.getTemplate(),z=h.getHideLessThan(),i=h.getCalloutLine(),m,f,g,o,x,l;if(i){l=i.length||40}else {l=0}e.appendMatrix(b.matrix);c.text=b.label;f=r+p*w;g=s+q*w;c.x=e.x(f,g);c.y=e.y(f,g);f=r+p*k;g=s+q*k;c.calloutStartX=e.x(f,g);c.calloutStartY=e.y(f,g);f=r+p*(k+l);g=s+q*(k+l);c.calloutPlaceX=e.x(f,g);c.calloutPlaceY=e.y(f,g);if(!b.rotateLabels){c.rotationRads=0;a.log.warn("'series.style.rotateLabels' config is deprecated. "+"Use 'series.label.orientation' config instead.")}else {switch(h.attr.orientation){case 'horizontal':c.rotationRads=n+Math.atan2(e.y(1,0)-e.y(0,0),e.x(1,0)-e.x(0,0))+Math.PI/2;break;case 'vertical':c.rotationRads=n+Math.atan2(e.y(1,0)-e.y(0,0),e.x(1,0)-e.x(0,0));break;}}c.calloutColor=i&&i.color||d.attr.fillStyle;if(i){if(i.width){c.calloutWidth=i.width}}else {c.calloutColor='none'}c.globalAlpha=b.globalAlpha*b.fillOpacity;if(h.display!=='none'){c.hidden=b.startAngle==b.endAngle}if(h.attr.renderer){x=[d.attr.label,y,c,d.getRendererData(),d.getRendererIndex()];o=a.callback(h.attr.renderer,null,x,0,d.getSeries());if(typeof o==='string'){c.text=o}else {a.apply(c,o)}}d.putMarker('labels',c,j);m=d.getMarkerBBox('labels',j,!0);if(m){if(b.doCallout&&((u-t)*k>z||b.highlighted)){if(h.attr.display==='outside'){d.putMarker('labels',{callout:1},j)}else {if(h.attr.display==='inside'){d.putMarker('labels',{callout:0},j)}else {d.putMarker('labels',{callout:1-d.sliceContainsLabel(b,m)},j)}}}else {d.putMarker('labels',{globalAlpha:d.sliceContainsLabel(b,m)},j)}}},sliceContainsLabel:function(b,e){var c=b.labelOverflowPadding,g=(b.endRho+b.startRho)/2,h=g+(e.width+c)/2,d=g-(e.width+c)/2,f,i,j,k;if(c<0){return 1}if(e.width+c*2>b.endRho-b.startRho){return 0}i=Math.sqrt(b.endRho*b.endRho-h*h);j=Math.sqrt(b.endRho*b.endRho-d*d);f=Math.abs(b.endAngle-b.startAngle);k=f>Math.PI/2?d:Math.abs(Math.tan(f/2))*d;if(e.height+c*2>Math.min(i,j,k)*2){return 0}return 1}});a.define('Ext.chart.series.Pie',{extend:'Ext.chart.series.Polar',requires:['Ext.chart.series.sprite.PieSlice'],type:'pie',alias:'series.pie',seriesType:'pieslice',isPie:!0,config:{donut:0,rotation:0,clockwise:!0,totalAngle:2*Math.PI,hidden:[],radiusFactor:100,highlightCfg:{margin:20},style:{}},directions:['X'],applyLabel:function(b,c){if(a.isObject(b)&&!a.isString(b.orientation)){a.apply(b=a.Object.chain(b),{orientation:'vertical'})}return this.callParent([b,c])},updateLabelData:function(){var e=this,l=e.getStore(),i=l.getData().items,f=e.getSprites(),j=e.getLabel(),h=j&&j.getTemplate().getField(),k=e.getHidden(),b,d,g,c;if(f.length&&h){g=[];for(b=0,d=i.length;b<d;b++){g.push(i[b].get(h))}for(b=0,d=f.length;b<d;b++){c=f[b];c.setAttributes({label:g[b]});c.putMarker('labels',{hidden:k[b]},c.attr.attributeId)}}},coordinateX:function(){var d=this,u=d.getStore(),j=u.getData().items,e=j.length,t=d.getXField(),q=d.getYField(),r,h=0,m,n,l=0,g=d.getHidden(),p=[],b,o=0,i=d.getTotalAngle(),s=d.getClockwise()?1:-1,c=d.getSprites(),f,k;if(!c){return}for(b=0;b<e;b++){r=Math.abs(Number(j[b].get(t)))||0;n=q&&Math.abs(Number(j[b].get(q)))||0;if(!g[b]){h+=r;if(n>l){l=n}}p[b]=h;if(b>=g.length){g[b]=!1}}g.length=e;d.maxY=l;if(h!==0){m=i/h}for(b=0;b<e;b++){c[b].setAttributes({startAngle:o,endAngle:o=m?s*p[b]*m:0,globalAlpha:1})}if(e<c.length){for(b=e;b<c.length;b++){f=c[b];k=f.getMarker('labels');if(k){k.clear(f.getId());f.releaseMarker('labels')}f.destroy()}c.length=e}for(b=e;b<c.length;b++){c[b].setAttributes({startAngle:i,endAngle:i,globalAlpha:0})}},updateCenter:function(b){this.setStyle({translationX:b[0]+this.getOffsetX(),translationY:b[1]+this.getOffsetY()});this.doUpdateStyles()},updateRadius:function(b){this.setStyle({startRho:b*this.getDonut()*0.01,endRho:b*this.getRadiusFactor()*0.01});this.doUpdateStyles()},getStyleByIndex:function(i){var b=this,k=b.getStore(),h=k.getAt(i),g=b.getYField(),f=b.getRadius(),d={},c,e,j;if(h){j=g&&Math.abs(Number(h.get(g)))||0;c=f*b.getDonut()*0.01;e=f*b.getRadiusFactor()*0.01;d=b.callParent([i]);d.startRho=c;d.endRho=b.maxY?c+(e-c)*j/b.maxY:e}return d},updateDonut:function(c){var b=this.getRadius();this.setStyle({startRho:b*c*0.01,endRho:b*this.getRadiusFactor()*0.01});this.doUpdateStyles()},rotationOffset:-Math.PI/2,updateRotation:function(b){this.setStyle({rotationRads:b+this.rotationOffset});this.doUpdateStyles()},updateTotalAngle:function(b){this.processData()},getSprites:function(){var b=this,f=b.getChart(),g=b.getStore();if(!f||!g){return a.emptyArray}b.getColors();b.getSubStyle();var o=g.getData().items,n=o.length,l=b.getAnimation()||f&&f.getAnimation(),m=b.sprites,c,h=!1,k=0,j=b.getLabel(),e=j&&j.getTemplate(),d,i;i={store:g,field:b.getXField(),angleField:b.getXField(),radiusField:b.getYField(),series:b};for(d=0;d<n;d++){c=m[d];if(!c){c=b.createSprite();if(b.getHighlight()){c.config.highlight=b.getHighlight();c.addModifier('highlight',!0)}if(e&&e.getField()){e.setAttributes({labelOverflowPadding:b.getLabelOverflowPadding()});e.getAnimation().setCustomDurations({'callout':200})}c.setAttributes(b.getStyleByIndex(d));c.setRendererData(i);h=!0}c.setRendererIndex(k++);c.setAnimation(l)}if(h){b.doUpdateStyles()}return b.sprites},betweenAngle:function(e,d,b){var c=Math.PI*2,f=this.rotationOffset;if(d===b){return !1}if(!this.getClockwise()){e*=-1;d*=-1;b*=-1;d-=f;b-=f}else {d+=f;b+=f}e-=d;b-=d;e%=c;b%=c;e+=c;b+=c;e%=c;b%=c;return e<b||a.Number.isEqual(b,0,1.0E-8)},getItemByIndex:function(c,b){b=b||'sprites';return this.callParent([c,b])},getItemForAngle:function(c){var d=this,e=d.getSprites(),f;c%=Math.PI*2;while(c<0){c+=Math.PI*2}if(e){var g=d.getStore(),i=g.getData().items,h=d.getHidden(),b=0,j=g.getCount();for(;b<j;b++){if(!h[b]){f=e[b].attr;if(f.startAngle<=c&&f.endAngle>=c){return {series:d,sprite:e[b],index:b,record:i[b],field:d.getXField()}}}}}return null},getItemForPoint:function(u,v){var b=this,i=b.getSprites(),j=b.getCenter(),p=b.getOffsetX(),q=b.getOffsetY(),f=u-j[0]+p,g=v-j[1]+q,t=b.getStore(),s=b.getDonut(),h=t.getData().items,o=Math.atan2(g,f)-b.getRotation(),k=Math.sqrt(f*f+g*g),n=b.getRadius()*s*0.01,r=b.getHidden(),l=null,c,m,d,e;for(c=0,m=h.length;c<m;c++){if(r[c]){continue}e=i[c];if(!e){break}d=e.attr;if(k>=n+d.margin&&k<=d.endRho+d.margin&&b.betweenAngle(o,d.startAngle,d.endAngle)){l={series:b,sprite:i[c],index:c,record:h[c],field:b.getXField()};break}}return l},provideLegendInfo:function(j){var d=this,h=d.getStore();if(h){var g=h.getData().items,f=d.getLabel().getTemplate().getField(),k=d.getXField(),i=d.getHidden(),b,e,c;for(b=0;b<g.length;b++){e=d.getStyleByIndex(b);c=e.fillStyle;if(a.isObject(c)){c=c.stops&&c.stops[0].color}j.push({name:f?String(g[b].get(f)):k+' '+b,mark:c||e.strokeStyle||'black',disabled:i[b],series:d.getId(),index:b})}}}});a.define('Ext.chart.series.sprite.Pie3DPart',{extend:'Ext.draw.sprite.Path',mixins:{markerHolder:'Ext.chart.MarkerHolder'},alias:'sprite.pie3dPart',inheritableStatics:{def:{processors:{centerX:'number',centerY:'number',startAngle:'number',endAngle:'number',startRho:'number',endRho:'number',margin:'number',thickness:'number',bevelWidth:'number',distortion:'number',baseColor:'color',colorSpread:'number',baseRotation:'number',part:'enums(top,bottom,start,end,innerFront,innerBack,outerFront,outerBack)',label:'string'},aliases:{rho:'endRho'},triggers:{centerX:'path,bbox',centerY:'path,bbox',startAngle:'path,partZIndex',endAngle:'path,partZIndex',startRho:'path',endRho:'path,bbox',margin:'path,bbox',thickness:'path',distortion:'path',baseRotation:'path,partZIndex',baseColor:'partZIndex,partColor',colorSpread:'partColor',part:'path,partZIndex',globalAlpha:'canvas,alpha',fillOpacity:'canvas,alpha'},defaults:{centerX:0,centerY:0,startAngle:Math.PI*2,endAngle:Math.PI*2,startRho:0,endRho:150,margin:0,thickness:35,distortion:0.5,baseRotation:0,baseColor:'white',colorSpread:0.5,miterLimit:1,bevelWidth:5,strokeOpacity:0,part:'top',label:''},updaters:{alpha:'alphaUpdater',partColor:'partColorUpdater',partZIndex:'partZIndexUpdater'}}},config:{renderer:null,rendererData:null,rendererIndex:0,series:null},bevelParams:[],constructor:function(b){this.callParent([b]);this.bevelGradient=new a.draw.gradient.Linear({stops:[{offset:0,color:'rgba(255,255,255,0)'},{offset:0.7,color:'rgba(255,255,255,0.6)'},{offset:1,color:'rgba(255,255,255,0)'}]})},updateRenderer:function(){this.setDirty(!0)},updateRendererData:function(){this.setDirty(!0)},updateRendererIndex:function(){this.setDirty(!0)},alphaUpdater:function(e){var b=this,d=e.globalAlpha,c=e.fillOpacity,g=b.oldOpacity,f=b.oldFillOpacity;if(d!==g&&(d===1||g===1)||c!==f&&(c===1||f===1)){b.scheduleUpdater(e,'path',['globalAlpha']);b.oldOpacity=d;b.oldFillOpacity=c}},partColorUpdater:function(e){var b=a.util.Color.fly(e.baseColor),f=b.toString(),c=e.colorSpread,d;switch(e.part){case 'top':d=new a.draw.gradient.Radial({start:{x:0,y:0,r:0},end:{x:0,y:0,r:1},stops:[{offset:0,color:b.createLighter(0.1*c)},{offset:1,color:b.createDarker(0.1*c)}]});break;case 'bottom':d=new a.draw.gradient.Radial({start:{x:0,y:0,r:0},end:{x:0,y:0,r:1},stops:[{offset:0,color:b.createDarker(0.2*c)},{offset:1,color:b.toString()}]});break;case 'outerFront':case 'outerBack':d=new a.draw.gradient.Linear({stops:[{offset:0,color:b.createDarker(0.15*c).toString()},{offset:0.3,color:f},{offset:0.8,color:b.createLighter(0.2*c).toString()},{offset:1,color:b.createDarker(0.25*c).toString()}]});break;case 'start':d=new a.draw.gradient.Linear({stops:[{offset:0,color:b.createDarker(0.1*c).toString()},{offset:1,color:b.createLighter(0.2*c).toString()}]});break;case 'end':d=new a.draw.gradient.Linear({stops:[{offset:0,color:b.createDarker(0.1*c).toString()},{offset:1,color:b.createLighter(0.2*c).toString()}]});break;case 'innerFront':case 'innerBack':d=new a.draw.gradient.Linear({stops:[{offset:0,color:b.createDarker(0.1*c).toString()},{offset:0.2,color:b.createLighter(0.2*c).toString()},{offset:0.7,color:f},{offset:1,color:b.createDarker(0.1*c).toString()}]});break;}e.fillStyle=d;e.canvasAttributes.fillStyle=d},partZIndexUpdater:function(b){var f=a.draw.sprite.AttributeParser.angle,g=b.baseRotation,c=b.startAngle,d=b.endAngle,e;switch(b.part){case 'top':b.zIndex=6;break;case 'outerFront':c=f(c+g);d=f(d+g);if(c>=0&&d<0){e=Math.sin(c)}else {if(c<=0&&d>0){e=Math.sin(d)}else {if(c>=0&&d>0){if(c>d){e=0}else {e=Math.max(Math.sin(c),Math.sin(d))}}else {e=1}}};b.zIndex=4+e;break;case 'outerBack':b.zIndex=1;break;case 'start':b.zIndex=4+Math.sin(f(c+g));break;case 'end':b.zIndex=4+Math.sin(f(d+g));break;case 'innerFront':b.zIndex=2;break;case 'innerBack':b.zIndex=4+Math.sin(f((c+d)/2+g));break;case 'bottom':b.zIndex=0;break;}b.dirtyZIndex=!0},updatePlainBBox:function(c){var b=this.attr,f=b.part,i=b.baseRotation,j=b.centerX,m=b.centerY,d,e,k,l,h,g;if(f==='start'){e=b.startAngle+i}else {if(f==='end'){e=b.endAngle+i}}if(a.isNumber(e)){h=Math.sin(e);g=Math.cos(e);k=Math.min(j+g*b.startRho,j+g*b.endRho);l=m+h*b.startRho*b.distortion;c.x=k;c.y=l;c.width=g*(b.endRho-b.startRho);c.height=b.thickness+h*(b.endRho-b.startRho)*2;return}if(f==='innerFront'||f==='innerBack'){d=b.startRho}else {d=b.endRho}c.width=d*2;c.height=d*b.distortion*2+b.thickness;c.x=b.centerX-d;c.y=b.centerY-d*b.distortion},updateTransformedBBox:function(b){if(this.attr.part==='start'||this.attr.part==='end'){return this.callParent(arguments)}return this.updatePlainBBox(b)},updatePath:function(b){if(!this.attr.globalAlpha){return}if(this.attr.endAngle<this.attr.startAngle){return}this[this.attr.part+'Renderer'](b)},render:function(h,e,j){var c=this,f=c.getRenderer(),b=c.attr,i=b.part,g,d;if(!b.globalAlpha||a.Number.isEqual(b.startAngle,b.endAngle,1.0E-8)){return}if(f){g={type:'pie3dPart',part:b.part,margin:b.margin,distortion:b.distortion,centerX:b.centerX,centerY:b.centerY,baseRotation:b.baseRotation,startAngle:b.startAngle,endAngle:b.endAngle,startRho:b.startRho,endRho:b.endRho};d=a.callback(f,null,[c,g,c.getRendererData(),c.getRendererIndex()],0,c.getSeries());if(d){if(d.part){d.part=i}c.setAttributes(d);c.useAttributes(e,j)}}c.callParent([h,e]);c.bevelRenderer(h,e);if(b.label&&c.getMarker('labels')){c.placeLabel()}},placeLabel:function(){var d=this,c=d.attr,s=c.attributeId,v=c.margin,j=c.distortion,l=c.centerX,m=c.centerY,r=c.baseRotation,y=c.startAngle+r,z=c.endAngle+r,u=(y+z)/2,A=c.startRho+v,h=c.endRho+v,w=(A+h)/2,o=Math.sin(u),n=Math.cos(u),g=d.surfaceMatrix,x=d.getMarker('labels'),k=x.getTemplate(),t=k.getCalloutLine(),p=t&&t.length||40,b={},q,i,e,f;g.appendMatrix(c.matrix);b.text=c.label;e=l+n*w;f=m+o*w*j;b.x=g.x(e,f);b.y=g.y(e,f);e=l+n*h;f=m+o*h*j;b.calloutStartX=g.x(e,f);b.calloutStartY=g.y(e,f);e=l+n*(h+p);f=m+o*(h+p)*j;b.calloutPlaceX=g.x(e,f);b.calloutPlaceY=g.y(e,f);b.calloutWidth=2;if(k.attr.renderer){q=[d.attr.label,x,b,d.getRendererData(),d.getRendererIndex()];i=a.callback(k.attr.renderer,null,q,0,d.getSeries());if(typeof i==='string'){b.text=i}else {a.apply(b,i)}}d.putMarker('labels',b,s);d.putMarker('labels',{callout:1},s)},bevelRenderer:function(h,b){var d=this,g=d.attr,e=g.bevelWidth,f=d.bevelParams,c;for(c=0;c<f.length;c++){b.beginPath();b.ellipse.apply(b,f[c]);b.save();b.lineWidth=e;b.strokeOpacity=e?1:0;b.strokeGradient=d.bevelGradient;b.stroke(g);b.restore()}},lidRenderer:function(h,j){var b=this.attr,n=b.margin,d=b.distortion,e=b.centerX,f=b.centerY,k=b.baseRotation,i=b.startAngle+k,c=b.endAngle+k,l=(i+c)/2,m=b.startRho,g=b.endRho,p=Math.sin(c),o=Math.cos(c);e+=Math.cos(l)*n;f+=Math.sin(l)*n*d;h.ellipse(e,f+j,m,m*d,0,i,c,!1);h.lineTo(e+o*g,f+j+p*g*d);h.ellipse(e,f+j,g,g*d,0,c,i,!0);h.closePath()},topRenderer:function(b){this.lidRenderer(b,0)},bottomRenderer:function(d){var b=this.attr,c=a.util.Color.RGBA_NONE;if(b.globalAlpha<1||b.fillOpacity<1||b.shadowColor!==c){this.lidRenderer(d,b.thickness)}},sideRenderer:function(g,h){var b=this.attr,q=b.margin,e=b.centerX,f=b.centerY,d=b.distortion,m=b.baseRotation,n=b.startAngle+m,p=b.endAngle+m,t=!b.startAngle&&a.Number.isEqual(Math.PI*2,b.endAngle,1.0E-7),o=b.thickness,i=b.startRho,j=b.endRho,r=h==='start'&&n||h==='end'&&p,k=Math.sin(r),c=Math.cos(r),s=b.globalAlpha<1,u=h==='start'&&c<0||h==='end'&&c>0||s,l;if(u&&!t){l=(n+p)/2;e+=Math.cos(l)*q;f+=Math.sin(l)*q*d;g.moveTo(e+c*i,f+k*i*d);g.lineTo(e+c*j,f+k*j*d);g.lineTo(e+c*j,f+k*j*d+o);g.lineTo(e+c*i,f+k*i*d+o);g.closePath()}},startRenderer:function(b){this.sideRenderer(b,'start')},endRenderer:function(b){this.sideRenderer(b,'end')},rimRenderer:function(c,b,j,u){var k=this,m=k.attr,t=m.margin,f=m.centerX,g=m.centerY,i=m.distortion,p=m.baseRotation,n=a.draw.sprite.AttributeParser.angle,e=m.startAngle+p,d=m.endAngle+p,s=n((e+d)/2),l=m.thickness,o=m.globalAlpha<1,q,r,h;k.bevelParams=[];e=n(e);d=n(d);f+=Math.cos(s)*t;g+=Math.sin(s)*t*i;q=e>=0&&d>=0;r=e<=0&&d<=0;function renderLeftFrontChunk(){c.ellipse(f,g+l,b,b*i,0,Math.PI,e,!0);c.lineTo(f+Math.cos(e)*b,g+Math.sin(e)*b*i);h=[f,g,b,b*i,0,e,Math.PI,!1];if(!j){k.bevelParams.push(h)}c.ellipse.apply(c,h);c.closePath()}function renderRightFrontChunk(){c.ellipse(f,g+l,b,b*i,0,0,d,!1);c.lineTo(f+Math.cos(d)*b,g+Math.sin(d)*b*i);h=[f,g,b,b*i,0,d,0,!0];if(!j){k.bevelParams.push(h)}c.ellipse.apply(c,h);c.closePath()}function renderLeftBackChunk(){c.ellipse(f,g+l,b,b*i,0,Math.PI,d,!1);c.lineTo(f+Math.cos(d)*b,g+Math.sin(d)*b*i);h=[f,g,b,b*i,0,d,Math.PI,!0];if(j){k.bevelParams.push(h)}c.ellipse.apply(c,h);c.closePath()}function renderRightBackChunk(){c.ellipse(f,g+l,b,b*i,0,e,0,!1);c.lineTo(f+b,g);h=[f,g,b,b*i,0,0,e,!0];if(j){k.bevelParams.push(h)}c.ellipse.apply(c,h);c.closePath()}if(u){if(!j||o){if(e>=0&&d<0){renderLeftFrontChunk()}else {if(e<=0&&d>0){renderRightFrontChunk()}else {if(e<=0&&d<0){if(e>d){c.ellipse(f,g+l,b,b*i,0,0,Math.PI,!1);c.lineTo(f-b,g);h=[f,g,b,b*i,0,Math.PI,0,!0];if(!j){k.bevelParams.push(h)}c.ellipse.apply(c,h);c.closePath()}}else {if(e>d){renderLeftFrontChunk();renderRightFrontChunk()}else {h=[f,g,b,b*i,0,e,d,!1];if(q&&!j||r&&j){k.bevelParams.push(h)}c.ellipse.apply(c,h);c.lineTo(f+Math.cos(d)*b,g+Math.sin(d)*b*i+l);c.ellipse(f,g+l,b,b*i,0,d,e,!0);c.closePath()}}}}}}else {if(j||o){if(e>=0&&d<0){renderLeftBackChunk()}else {if(e<=0&&d>0){renderRightBackChunk()}else {if(e<=0&&d<0){if(e>d){renderLeftBackChunk();renderRightBackChunk()}else {c.ellipse(f,g+l,b,b*i,0,e,d,!1);c.lineTo(f+Math.cos(d)*b,g+Math.sin(d)*b*i);h=[f,g,b,b*i,0,d,e,!0];if(j){k.bevelParams.push(h)}c.ellipse.apply(c,h);c.closePath()}}else {if(e>d){c.ellipse(f,g+l,b,b*i,0,-Math.PI,0,!1);c.lineTo(f+b,g);h=[f,g,b,b*i,0,0,-Math.PI,!0];if(j){k.bevelParams.push(h)}c.ellipse.apply(c,h);c.closePath()}}}}}}},innerFrontRenderer:function(b){this.rimRenderer(b,this.attr.startRho,!0,!0)},innerBackRenderer:function(b){this.rimRenderer(b,this.attr.startRho,!0,!1)},outerFrontRenderer:function(b){this.rimRenderer(b,this.attr.endRho,!1,!0)},outerBackRenderer:function(b){this.rimRenderer(b,this.attr.endRho,!1,!1)}});a.define('Ext.chart.series.Pie3D',{extend:'Ext.chart.series.Polar',requires:['Ext.chart.series.sprite.Pie3DPart','Ext.draw.PathUtil'],type:'pie3d',seriesType:'pie3d',alias:'series.pie3d',is3D:!0,config:{rect:[0,0,0,0],thickness:35,distortion:0.5,donut:0,hidden:[],highlightCfg:{margin:20},shadow:!1},rotationOffset:-Math.PI/2,setField:function(b){return this.setXField(b)},getField:function(){return this.getXField()},updateRotation:function(c){var b={baseRotation:c+this.rotationOffset};this.forEachSprite(function(d){d.setAttributes(b)})},updateColors:function(c){this.setSubStyle({baseColor:c});if(!this.isConfiguring){var b=this.getChart();if(b){b.refreshLegendStore()}}},applyShadow:function(b){if(b===!0){b={shadowColor:'rgba(0,0,0,0.8)',shadowBlur:30}}else {if(!a.isObject(b)){b={shadowColor:a.util.Color.RGBA_NONE}}}return b},updateShadow:function(g){var e=this,c=e.getSprites(),f=e.spritesPerSlice,h=c&&c.length,b,d;for(b=1;b<h;b+=f){d=c[b];if(d.attr.part='bottom'){d.setAttributes(g)}}},getStyleByIndex:function(f){var b=this.callParent([f]),e=this.getStyle(),d=b.fillStyle||b.fill||b.color,c=e.strokeStyle||e.stroke;if(d){b.baseColor=d;delete b.fillStyle;delete b.fill;delete b.color}if(c){b.strokeStyle=c}return b},doUpdateStyles:function(){var d=this,c=d.getSprites(),f=d.spritesPerSlice,i=c&&c.length,e=0,h=0,b,g;for(;e<i;e+=f,h++){g=d.getStyleByIndex(h);for(b=0;b<f;b++){c[e+b].setAttributes(g)}}},coordinateX:function(){var c=this,E=c.getStore(),p=E.getData().items,i=p.length,C=c.getXField(),l=c.getAnimation(),o=c.getRotation(),k=c.getHidden(),j=c.getSprites(!0),x=j.length,h=c.spritesPerSlice,q=c.getCenter(),A=c.getOffsetX(),B=c.getOffsetY(),r=c.getRadius(),n=c.getThickness(),y=c.getDistortion(),z=c.getRenderer(),w=c.getRendererData(),F=c.getHighlight(),m=0,t=Math.PI*2,D=1.0E-10,e=[],f=0,u,v,d,s,b,g;for(b=0;b<i;b++){u=Math.abs(+p[b].get(C))||0;if(!k[b]){f+=u}e[b]=f;if(b>=k.length){k[b]=!1}}if(f===0){return}v=2*Math.PI/f;for(b=0;b<i;b++){e[b]*=v}for(b=0;b<i;b++){s=this.getStyleByIndex(b);for(g=0;g<h;g++){d=j[b*h+g];d.setAnimation(l);d.setAttributes({centerX:q[0]+A,centerY:q[1]+B-n/2,endRho:r,startRho:r*c.getDonut()/100,baseRotation:o+c.rotationOffset,startAngle:m,endAngle:e[b]-D,thickness:n,distortion:y,globalAlpha:1});d.setAttributes(s);d.setConfig({renderer:z,rendererData:w,rendererIndex:b})}m=e[b]}for(b*=h;b<x;b++){d=j[b];d.setAnimation(l);d.setAttributes({startAngle:t,endAngle:t,globalAlpha:0,baseRotation:o+c.rotationOffset})}},updateHighlight:function(b,c){this.callParent([b,c]);this.forEachSprite(function(d){if(b){if(d.modifiers.highlight){d.modifiers.highlight.setConfig(b)}else {d.config.highlight=b;d.addModifier(b,!0)}}})},updateLabelData:function(){var d=this,o=d.getStore(),l=o.getData().items,j=d.getSprites(),f=d.getLabel(),k=f&&f.getTemplate().getField(),n=d.getHidden(),m=d.spritesPerSlice,h,e,c,g='labels',i,b;if(j.length){if(k){e=[];for(b=0,h=l.length;b<h;b++){e.push(l[b].get(k))}}for(i=0,b=0,h=j.length;i<h;i+=m,b++){c=j[i];if(f){if(!c.getMarker(g)){c.bindMarker(g,f)}if(e){c.setAttributes({label:e[b]})}c.putMarker(g,{hidden:n[b]},c.attr.attributeId)}else {c.releaseMarker(g)}}}},applyRadius:function(){var b=this,g=b.getChart(),e=g.getInnerPadding(),h=g.getMainRect()||[0,0,1,1],j=h[2]-e*2,f=h[3]-e*2-b.getThickness(),d=j/2,i=d*b.getDistortion(),c;if(i>f/2){c=f/(b.getDistortion()*2)}else {c=d}return Math.max(c,0)},forEachSprite:function(d){var c=this.sprites,e=c.length,b;for(b=0;b<e;b++){d(c[b],Math.floor(b/this.spritesPerSlice))}},updateRadius:function(b){this.getChart();var c=this.getDonut();this.forEachSprite(function(d){d.setAttributes({endRho:b,startRho:b*c/100})})},updateDonut:function(c){this.getChart();var b=this.getRadius();this.forEachSprite(function(d){d.setAttributes({startRho:b*c/100})})},updateCenter:function(b){this.getChart();var d=this.getOffsetX(),e=this.getOffsetY(),c=this.getThickness();this.forEachSprite(function(f){f.setAttributes({centerX:b[0]+d,centerY:b[1]+e-c/2})})},updateThickness:function(b){this.getChart();this.setRadius();var d=this.getCenter(),c=this.getOffsetY();this.forEachSprite(function(e){e.setAttributes({thickness:b,centerY:d[1]+c-b/2})})},updateDistortion:function(b){this.getChart();this.setRadius();this.forEachSprite(function(c){c.setAttributes({distortion:b})})},updateOffsetX:function(b){this.getChart();var c=this.getCenter();this.forEachSprite(function(d){d.setAttributes({centerX:c[0]+b})})},updateOffsetY:function(c){this.getChart();var d=this.getCenter(),b=this.getThickness();this.forEachSprite(function(e){e.setAttributes({centerY:d[1]+c-b/2})})},updateAnimation:function(b){this.getChart();this.forEachSprite(function(c){c.setAnimation(b)})},updateRenderer:function(c){this.getChart();var b=this.getRendererData();this.forEachSprite(function(e,d){e.setConfig({renderer:c,rendererData:b,rendererIndex:d})})},getRendererData:function(){return {store:this.getStore(),angleField:this.getXField(),radiusField:this.getYField(),series:this}},getSprites:function(i){var b=this,g=b.getStore(),c=b.sprites;if(!g){return a.emptyArray}if(c&&!i){return c}var m=b.getSurface(),l=g.getData().items,h=b.spritesPerSlice,k=b.partNames.length,j=l.length,f,d,e;for(d=0;d<j;d++){if(!c[d*h]){for(e=0;e<k;e++){f=m.add({type:'pie3dPart',part:b.partNames[e],series:b});f.getAnimation().setDurationOn('baseRotation',0);c.push(f)}}}return c},betweenAngle:function(d,e,b){var c=Math.PI*2,f=this.rotationOffset;e+=f;b+=f;d-=e;b-=e;d%=c;b%=c;d+=c;b+=c;d%=c;b%=c;return d<b||b===0},getItemForPoint:function(m,n){var c=this,e=c.getSprites(),f=null;if(!e){return f}var l=c.getStore(),h=l.getData().items,g=c.spritesPerSlice,k=c.getHidden(),b,j,i,d;for(b=0,j=h.length;b<j;b++){if(k[b]){continue}d=b*g;i=e[d];if(i.hitTest([m,n])){f={series:c,sprite:e.slice(d,d+g),index:b,record:h[b],category:'sprites',field:c.getXField()};break}}return f},provideLegendInfo:function(j){var c=this,g=c.getStore();if(g){var f=g.getData().items,d=c.getLabel().getTemplate().getField(),k=c.getField(),i=c.getHidden(),b,h,e;for(b=0;b<f.length;b++){h=c.getStyleByIndex(b);e=h.baseColor;j.push({name:d?String(f[b].get(d)):k+' '+b,mark:e||'black',disabled:i[b],series:c.getId(),index:b})}}}},function(){var b=this.prototype,c=a.chart.series.sprite.Pie3DPart.def.getInitialConfig().processors.part;b.partNames=c.replace(/^enums\(|\)/g,'').split(',');b.spritesPerSlice=b.partNames.length});a.define('Ext.chart.series.sprite.Polar',{extend:'Ext.chart.series.sprite.Series',inheritableStatics:{def:{processors:{centerX:'number',centerY:'number',startAngle:'number',endAngle:'number',startRho:'number',endRho:'number',baseRotation:'number'},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:Math.PI,startRho:0,endRho:150,baseRotation:0},triggers:{centerX:'bbox',centerY:'bbox',startAngle:'bbox',endAngle:'bbox',startRho:'bbox',endRho:'bbox',baseRotation:'bbox'}}},updatePlainBBox:function(c){var b=this.attr;c.x=b.centerX-b.endRho;c.y=b.centerY+b.endRho;c.width=b.endRho*2;c.height=b.endRho*2}});a.define('Ext.chart.series.sprite.Radar',{alias:'sprite.radar',extend:'Ext.chart.series.sprite.Polar',getDataPointXY:function(j){var u=this,b=u.attr,o=b.centerX,p=b.centerY,i=b.matrix,k=b.dataMinX,t=b.dataMaxX,r=b.dataX,s=b.dataY,q=b.endRho,h=b.startRho,n=b.baseRotation,l,m,g,f,d,e,c;if(b.rangeY){c=b.rangeY[1]}else {c=b.dataMaxY}f=(r[j]-k)/(t-k+1)*2*Math.PI+n;g=s[j]/c*(q-h)+h;d=o+Math.cos(f)*g;e=p+Math.sin(f)*g;l=i.x(d,e);m=i.y(d,e);return [l,m]},render:function(m,c){var f=this,j=f.attr,l=j.dataX,k=l.length,i=f.surfaceMatrix,g={},b,d,e,h;c.beginPath();for(b=0;b<k;b++){h=f.getDataPointXY(b);d=h[0];e=h[1];if(b===0){c.moveTo(d,e)}c.lineTo(d,e);g.translationX=i.x(d,e);g.translationY=i.y(d,e);f.putMarker('markers',g,b,!0)}c.closePath();c.fillStroke(j)}});a.define('Ext.chart.series.Radar',{extend:'Ext.chart.series.Polar',type:'radar',seriesType:'radar',alias:'series.radar',requires:['Ext.chart.series.sprite.Radar'],themeColorCount:function(){return 1},isStoreDependantColorCount:!1,themeMarkerCount:function(){return 1},updateAngularAxis:function(b){b.processData(this)},updateRadialAxis:function(b){b.processData(this)},coordinateX:function(){return this.coordinate('X',0,2)},coordinateY:function(){return this.coordinate('Y',1,2)},updateCenter:function(b){this.setStyle({translationX:b[0]+this.getOffsetX(),translationY:b[1]+this.getOffsetY()});this.doUpdateStyles()},updateRadius:function(b){this.setStyle({endRho:b});this.doUpdateStyles()},updateRotation:function(d){var c=this,h=c.getChart(),e=h.getAxes(),b,g,f;for(b=0,g=e.length;b<g;b++){f=e[b];f.setRotation(d)}c.setStyle({rotationRads:d});c.doUpdateStyles()},updateTotalAngle:function(b){this.processData()},getItemForPoint:function(o,p){var b=this,d=b.sprites&&b.sprites[0],n=d.attr,l=n.dataX,j=l.length,m=b.getStore(),k=b.getMarker(),e,i,g,c,f,h;if(b.getHidden()){return null}if(d&&k){h=d.getMarker('markers');for(c=0;c<j;c++){f=h.getBBoxFor(c);e=(f.width+f.height)*0.25;g=d.getDataPointXY(c);if(Math.abs(g[0]-o)<e&&Math.abs(g[1]-p)<e){i={series:b,sprite:d,index:c,category:'markers',record:m.getData().items[c],field:b.getYField()};return i}}}return b.callParent(arguments)},getDefaultSpriteConfig:function(){var b=this.callParent(),c={customDurations:{translationX:0,translationY:0,rotationRads:0,dataMinX:0,dataMaxX:0}};if(b.animation){a.apply(b.animation,c)}else {b.animation=c}return b},getSprites:function(){var b=this,d=b.getChart(),c=b.sprites;if(!d){return a.emptyArray}if(!c.length){b.createSprite()}return c},provideLegendInfo:function(e){var c=this,d=c.getSubStyleWithTheme(),b=d.fillStyle;if(a.isArray(b)){b=b[0]}e.push({name:c.getTitle()||c.getYField()||c.getId(),mark:(a.isObject(b)?b.stops&&b.stops[0].color:b)||d.strokeStyle||'black',disabled:c.getHidden(),series:c.getId(),index:0})}});a.define('Ext.chart.series.sprite.Scatter',{alias:'sprite.scatterSeries',extend:'Ext.chart.series.sprite.Cartesian',renderClipped:function(w,C,B,b){if(this.cleanRedraw){return}var f=this,g=f.attr,u=g.dataX,y=g.dataY,o=g.labels,x=f.getSeries(),v=o&&f.getMarker('labels'),l=f.surfaceMatrix,m=f.attr.matrix,i=m.getXX(),j=m.getYY(),z=m.getDX(),A=m.getDY(),h={},s,t,k=w.getInherited().rtl&&!g.flipXY?-1:1,q,p,r,n,d,e,c;if(g.flipXY){q=b[1]-i*k;p=b[1]+b[3]+i*k;r=b[0]-j;n=b[0]+b[2]+j}else {q=b[0]-i*k;p=b[0]+b[2]+i*k;r=b[1]-j;n=b[1]+b[3]+j}for(c=0;c<u.length;c++){d=u[c];e=y[c];d=d*i+z;e=e*j+A;if(q<=d&&d<=p&&r<=e&&e<=n){if(g.renderer){h={type:'markers',translationX:l.x(d,e),translationY:l.y(d,e)};t=[f,h,{store:f.getStore()},c];s=a.callback(g.renderer,null,t,0,x);h=a.apply(h,s)}else {h.translationX=l.x(d,e);h.translationY=l.y(d,e)}f.putMarker('markers',h,c,!g.renderer);if(v&&o[c]){f.drawLabel(o[c],d,e,c,b)}}}},drawLabel:function(q,s,l,d,t){var c=this,p=c.attr,o=c.getMarker('labels'),k=o.getTemplate(),b=c.labelCfg||(c.labelCfg={}),m=c.surfaceMatrix,i,e,f=p.labelOverflowPadding,r=p.flipXY,j,g,h,n;b.text=q;g=c.getMarkerBBox('labels',d,!0);if(!g){c.putMarker('labels',b,d);g=c.getMarkerBBox('labels',d,!0)}if(r){b.rotationRads=Math.PI*0.5}else {b.rotationRads=0}j=g.height/2;i=s;switch(k.attr.display){case 'under':e=l-j-f;break;case 'rotate':i+=f;e=l-f;b.rotationRads=-Math.PI/4;break;default:e=l+j+f;}b.x=m.x(i,e);b.y=m.y(i,e);if(k.attr.renderer){n=[q,o,b,{store:c.getStore()},d];h=a.callback(k.attr.renderer,null,n,0,c.getSeries());if(typeof h==='string'){b.text=h}else {a.apply(b,h)}}c.putMarker('labels',b,d)}});a.define('Ext.chart.series.Scatter',{extend:'Ext.chart.series.Cartesian',alias:'series.scatter',type:'scatter',seriesType:'scatterSeries',requires:['Ext.chart.series.sprite.Scatter'],config:{itemInstancing:null},themeMarkerCount:function(){return 1},provideLegendInfo:function(e){var b=this,d=b.getMarkerStyleByIndex(0),c=d.fillStyle;e.push({name:b.getTitle()||b.getYField()||b.getId(),mark:(a.isObject(c)?c.stops&&c.stops[0].color:c)||d.strokeStyle||'black',disabled:b.getHidden(),series:b.getId(),index:0})}});a.define('Ext.chart.theme.Blue',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.blue','chart.theme.Blue'],config:{baseColor:'#4d7fe6'}});a.define('Ext.chart.theme.BlueGradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.blue-gradients','chart.theme.Blue:gradients'],config:{baseColor:'#4d7fe6',gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.Category1',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category1','chart.theme.Category1'],config:{colors:['#f0a50a','#c20024','#2044ba','#810065','#7eae29']}});a.define('Ext.chart.theme.Category1Gradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category1-gradients','chart.theme.Category1:gradients'],config:{colors:['#f0a50a','#c20024','#2044ba','#810065','#7eae29'],gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.Category2',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category2','chart.theme.Category2'],config:{colors:['#6d9824','#87146e','#2a9196','#d39006','#1e40ac']}});a.define('Ext.chart.theme.Category2Gradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category2-gradients','chart.theme.Category2:gradients'],config:{colors:['#6d9824','#87146e','#2a9196','#d39006','#1e40ac'],gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.Category3',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category3','chart.theme.Category3'],config:{colors:['#fbbc29','#ce2e4e','#7e0062','#158b90','#57880e']}});a.define('Ext.chart.theme.Category3Gradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category3-gradients','chart.theme.Category3:gradients'],config:{colors:['#fbbc29','#ce2e4e','#7e0062','#158b90','#57880e'],gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.Category4',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category4','chart.theme.Category4'],config:{colors:['#ef5773','#fcbd2a','#4f770d','#1d3eaa','#9b001f']}});a.define('Ext.chart.theme.Category4Gradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category4-gradients','chart.theme.Category4:gradients'],config:{colors:['#ef5773','#fcbd2a','#4f770d','#1d3eaa','#9b001f'],gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.Category5',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category5','chart.theme.Category5'],config:{colors:['#7eae29','#fdbe2a','#910019','#27b4bc','#d74dbc']}});a.define('Ext.chart.theme.Category5Gradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category5-gradients','chart.theme.Category5:gradients'],config:{colors:['#7eae29','#fdbe2a','#910019','#27b4bc','#d74dbc'],gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.Category6',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category6','chart.theme.Category6'],config:{colors:['#44dce1','#0b2592','#996e05','#7fb325','#b821a1']}});a.define('Ext.chart.theme.Category6Gradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.category6-gradients','chart.theme.Category6:gradients'],config:{colors:['#44dce1','#0b2592','#996e05','#7fb325','#b821a1'],gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.DefaultGradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.default-gradients','chart.theme.Base:gradients'],config:{gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.Green',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.green','chart.theme.Green'],config:{baseColor:'#b1da5a'}});a.define('Ext.chart.theme.GreenGradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.green-gradients','chart.theme.Green:gradients'],config:{baseColor:'#b1da5a',gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.Midnight',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.midnight','chart.theme.Midnight'],config:{colors:['#a837ff','#4ac0f2','#ff4d35','#ff8809','#61c102','#ff37ea'],chart:{defaults:{captions:{title:{docked:'top',padding:5,style:{textAlign:'center',fontFamily:'default',fontWeight:'bold',fillStyle:'rgb(224, 224, 227)',fontSize:'default*1.6'}},subtitle:{docked:'top',style:{textAlign:'center',fontFamily:'default',fontWeight:'normal',fillStyle:'rgb(224, 224, 227)',fontSize:'default*1.3'}},credits:{docked:'bottom',padding:5,style:{textAlign:'left',fontFamily:'default',fontWeight:'lighter',fillStyle:'rgb(224, 224, 227)',fontSize:'default'}}},background:'rgb(52, 52, 53)'}},axis:{defaults:{style:{strokeStyle:'rgb(224, 224, 227)'},label:{fillStyle:'rgb(224, 224, 227)'},title:{fillStyle:'rgb(224, 224, 227)'},grid:{strokeStyle:'rgb(112, 112, 115)'}}},series:{defaults:{label:{fillStyle:'rgb(224, 224, 227)'}}},sprites:{text:{fillStyle:'rgb(224, 224, 227)'}},legend:{label:{fillStyle:'white'},border:{lineWidth:2,fillStyle:'rgba(255, 255, 255, 0.3)',strokeStyle:'rgb(150, 150, 150)'},background:'rgb(52, 52, 53)'}}});a.define('Ext.chart.theme.Muted',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.muted','chart.theme.Muted'],config:{colors:['#8ca640','#974144','#4091ba','#8e658e','#3b8d8b','#b86465','#d2af69','#6e8852','#3dcc7e','#a6bed1','#cbaa4b','#998baa']}});a.define('Ext.chart.theme.Purple',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.purple','chart.theme.Purple'],config:{baseColor:'#da5abd'}});a.define('Ext.chart.theme.PurpleGradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.purple-gradients','chart.theme.Purple:gradients'],config:{baseColor:'#da5abd',gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.Red',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.red','chart.theme.Red'],config:{baseColor:'#e84b67'}});a.define('Ext.chart.theme.RedGradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.red-gradients','chart.theme.Red:gradients'],config:{baseColor:'#e84b67',gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.Sky',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.sky','chart.theme.Sky'],config:{baseColor:'#4ce0e7'}});a.define('Ext.chart.theme.SkyGradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.sky-gradients','chart.theme.Sky:gradients'],config:{baseColor:'#4ce0e7',gradients:{type:'linear',degrees:90}}});a.define('Ext.chart.theme.Yellow',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.yellow','chart.theme.Yellow'],config:{baseColor:'#fec935'}});a.define('Ext.chart.theme.YellowGradients',{extend:'Ext.chart.theme.Base',singleton:!0,alias:['chart.theme.yellow-gradients','chart.theme.Yellow:gradients'],config:{baseColor:'#fec935',gradients:{type:'linear',degrees:90}}});a.define('Ext.draw.Point',{requires:['Ext.draw.Draw','Ext.draw.Matrix'],isPoint:!0,x:0,y:0,length:0,angle:0,angleUnits:'degrees',statics:{fly:function(){var b=null;return function(c,d){if(!b){b=new a.draw.Point()}b.constructor(c,d);return b}}()},constructor:function(b,d){var c=this;if(typeof b==='number'){c.x=b;if(typeof d==='number'){c.y=d}else {c.y=b}}else {if(a.isArray(b)){c.x=b[0];c.y=b[1]}else {if(b){c.x=b.x;c.y=b.y}}}c.calculatePolar()},calculateCartesian:function(){var b=this,d=b.length,c=b.angle;if(b.angleUnits==='degrees'){c=a.draw.Draw.rad(c)}b.x=Math.cos(c)*d;b.y=Math.sin(c)*d},calculatePolar:function(){var b=this,c=b.x,d=b.y;b.length=Math.sqrt(c*c+d*d);b.angle=Math.atan2(d,c);if(b.angleUnits==='degrees'){b.angle=a.draw.Draw.degrees(b.angle)}},setX:function(b){this.x=b;this.calculatePolar()},setY:function(b){this.y=b;this.calculatePolar()},set:function(b,c){this.constructor(b,c)},setAngle:function(b){this.angle=b;this.calculateCartesian()},setLength:function(b){this.length=b;this.calculateCartesian()},setPolar:function(c,b){this.angle=c;this.length=b;this.calculateCartesian()},clone:function(){return new a.draw.Point(this.x,this.y)},add:function(c,d){var b=a.draw.Point.fly(c,d);return new a.draw.Point(this.x+b.x,this.y+b.y)},sub:function(c,d){var b=a.draw.Point.fly(c,d);return new a.draw.Point(this.x-b.x,this.y-b.y)},mul:function(b){return new a.draw.Point(this.x*b,this.y*b)},div:function(b){return new a.draw.Point(this.x/b,this.y/b)},dot:function(c,d){var b=a.draw.Point.fly(c,d);return this.x*b.x+this.y*b.y},equals:function(c,d){var b=a.draw.Point.fly(c,d);return this.x===b.x&&this.y===b.y},rotate:function(f,g){var c,b,d,e,h;if(this.angleUnits==='degrees'){f=a.draw.Draw.rad(f);c=Math.sin(f);b=Math.cos(f)}if(g){d=g.x;e=g.y}else {d=0;e=0}h=a.draw.Matrix.fly([b,c,-c,b,d-b*d+e*c,e-b*e+d*-c]).transformPoint(this);return new a.draw.Point(h)},transform:function(b){if(b&&b.isMatrix){return new a.draw.Point(b.transformPoint(this))}else {if(arguments.length===6){return new a.draw.Point(a.draw.Matrix.fly(arguments).transformPoint(this))}else {a.raise('Invalid parameters.')}}},round:function(){return new a.draw.Point(Math.round(this.x),Math.round(this.y))},ceil:function(){return new a.draw.Point(Math.ceil(this.x),Math.ceil(this.y))},floor:function(){return new a.draw.Point(Math.floor(this.x),Math.floor(this.y))},abs:function(b,c){return new a.draw.Point(Math.abs(this.x),Math.abs(this.y))},normalize:function(e){var b=this.x,c=this.y,d=(e||1)/Math.sqrt(b*b+c*c);return new a.draw.Point(b*d,c*d)},getDistanceToLine:function(b,d){if(arguments.length===4){b=new a.draw.Point(arguments[0],arguments[1]);d=new a.draw.Point(arguments[2],arguments[3])}var e=d.sub(b).normalize(),c=b.sub(this);return c.sub(e.mul(c.dot(e)))},isZero:function(){return this.x===0&&this.y===0},isNumber:function(){return a.isNumber(this.x)&&a.isNumber(this.y)}});a.define('Ext.draw.plugin.SpriteEvents',{extend:'Ext.plugin.Abstract',alias:'plugin.spriteevents',requires:['Ext.draw.overrides.hittest.All'],mouseMoveEvents:{mousemove:!0,mouseover:!0,mouseout:!0},spriteMouseMoveEvents:{spritemousemove:!0,spritemouseover:!0,spritemouseout:!0},init:function(c){var b='handleEvent';this.drawContainer=c;c.addElementListener({click:b,dblclick:b,mousedown:b,mousemove:b,mouseup:b,mouseover:b,mouseout:b,priority:1001,scope:this})},hasSpriteMouseMoveListeners:function(){var c=this.drawContainer.hasListeners,b;for(b in this.spriteMouseMoveEvents){if(b in c){return !0}}return !1},hitTestEvent:function(f){var e=this.drawContainer.getItems(),d,c,b;for(b=e.length-1;b>=0;b--){d=e.get(b);c=d.hitTestEvent(f);if(c){return c}}return null},handleEvent:function(d){var c=this,e=c.drawContainer,g=d.type in c.mouseMoveEvents,f=c.lastSprite,b;if(g&&!c.hasSpriteMouseMoveListeners()){return}b=c.hitTestEvent(d);if(g&&!a.Object.equals(b,f)){if(f){e.fireEvent('spritemouseout',f,d)}if(b){e.fireEvent('spritemouseover',b,d)}}if(b){e.fireEvent('sprite'+d.type,b,d)}c.lastSprite=b}});a.define('Ext.chart.interactions.ItemInfo',{extend:'Ext.chart.interactions.Abstract',type:'iteminfo',alias:'interaction.iteminfo',config:{extjsGestures:{'start':{event:'click',handler:'onInfoGesture'},'move':{event:'mousemove',handler:'onInfoGesture'},'end':{event:'mouseleave',handler:'onInfoGesture'}}},item:null,onInfoGesture:function(e,f){var c=this,b=c.getItemForEvent(e),d=b&&b.series.tooltip;if(d){d.onMouseMove.call(d,e)}if(b!==c.item){if(b){b.series.showTip(b)}else {c.item.series.hideTip(c.item)}c.item=b}return !1}})})(this.Ext6||(this.Ext6={}));